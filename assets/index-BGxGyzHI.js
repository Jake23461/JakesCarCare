function xD(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function Gw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dm={exports:{}},wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function TD(){if(j0)return wc;j0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:r,type:n,key:u,ref:s!==void 0?s:null,props:o}}return wc.Fragment=e,wc.jsx=t,wc.jsxs=t,wc}var V0;function SD(){return V0||(V0=1,dm.exports=TD()),dm.exports}var v=SD(),fm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function DD(){if(L0)return Ie;L0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function w(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function N(I,$,de){this.props=I,this.context=$,this.refs=j,this.updater=de||S}N.prototype.isReactComponent={},N.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},N.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function P(){}P.prototype=N.prototype;function W(I,$,de){this.props=I,this.context=$,this.refs=j,this.updater=de||S}var Z=W.prototype=new P;Z.constructor=W,D(Z,N.prototype),Z.isPureReactComponent=!0;var te=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function O(I,$,de,ue,_e,De){return de=De.ref,{$$typeof:r,type:I,key:$,ref:de!==void 0?de:null,props:De}}function R(I,$){return O(I.type,$,void 0,void 0,void 0,I.props)}function k(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function C(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(de){return $[de]})}var U=/\/+/g;function B(I,$){return typeof I=="object"&&I!==null&&I.key!=null?C(""+I.key):$.toString(36)}function M(){}function Ae(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(M,M):(I.status="pending",I.then(function($){I.status==="pending"&&(I.status="fulfilled",I.value=$)},function($){I.status==="pending"&&(I.status="rejected",I.reason=$)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ve(I,$,de,ue,_e){var De=typeof I;(De==="undefined"||De==="boolean")&&(I=null);var xe=!1;if(I===null)xe=!0;else switch(De){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(I.$$typeof){case r:case e:xe=!0;break;case y:return xe=I._init,ve(xe(I._payload),$,de,ue,_e)}}if(xe)return _e=_e(I),xe=ue===""?"."+B(I,0):ue,te(_e)?(de="",xe!=null&&(de=xe.replace(U,"$&/")+"/"),ve(_e,$,de,"",function(Cn){return Cn})):_e!=null&&(k(_e)&&(_e=R(_e,de+(_e.key==null||I&&I.key===_e.key?"":(""+_e.key).replace(U,"$&/")+"/")+xe)),$.push(_e)),1;xe=0;var yt=ue===""?".":ue+":";if(te(I))for(var Ye=0;Ye<I.length;Ye++)ue=I[Ye],De=yt+B(ue,Ye),xe+=ve(ue,$,de,De,_e);else if(Ye=w(I),typeof Ye=="function")for(I=Ye.call(I),Ye=0;!(ue=I.next()).done;)ue=ue.value,De=yt+B(ue,Ye++),xe+=ve(ue,$,de,De,_e);else if(De==="object"){if(typeof I.then=="function")return ve(Ae(I),$,de,ue,_e);throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Y(I,$,de){if(I==null)return I;var ue=[],_e=0;return ve(I,ue,"","",function(De){return $.call(de,De,_e++)}),ue}function Q(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(de){(I._status===0||I._status===-1)&&(I._status=1,I._result=de)},function(de){(I._status===0||I._status===-1)&&(I._status=2,I._result=de)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var ce=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function ne(){}return Ie.Children={map:Y,forEach:function(I,$,de){Y(I,function(){$.apply(this,arguments)},de)},count:function(I){var $=0;return Y(I,function(){$++}),$},toArray:function(I){return Y(I,function($){return $})||[]},only:function(I){if(!k(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ie.Component=N,Ie.Fragment=t,Ie.Profiler=s,Ie.PureComponent=W,Ie.StrictMode=n,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(I){return re.H.useMemoCache(I)}},Ie.cache=function(I){return function(){return I.apply(null,arguments)}},Ie.cloneElement=function(I,$,de){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ue=D({},I.props),_e=I.key,De=void 0;if($!=null)for(xe in $.ref!==void 0&&(De=void 0),$.key!==void 0&&(_e=""+$.key),$)!he.call($,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&$.ref===void 0||(ue[xe]=$[xe]);var xe=arguments.length-2;if(xe===1)ue.children=de;else if(1<xe){for(var yt=Array(xe),Ye=0;Ye<xe;Ye++)yt[Ye]=arguments[Ye+2];ue.children=yt}return O(I.type,_e,void 0,void 0,De,ue)},Ie.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:o,_context:I},I},Ie.createElement=function(I,$,de){var ue,_e={},De=null;if($!=null)for(ue in $.key!==void 0&&(De=""+$.key),$)he.call($,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=$[ue]);var xe=arguments.length-2;if(xe===1)_e.children=de;else if(1<xe){for(var yt=Array(xe),Ye=0;Ye<xe;Ye++)yt[Ye]=arguments[Ye+2];_e.children=yt}if(I&&I.defaultProps)for(ue in xe=I.defaultProps,xe)_e[ue]===void 0&&(_e[ue]=xe[ue]);return O(I,De,void 0,void 0,null,_e)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(I){return{$$typeof:f,render:I}},Ie.isValidElement=k,Ie.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:Q}},Ie.memo=function(I,$){return{$$typeof:m,type:I,compare:$===void 0?null:$}},Ie.startTransition=function(I){var $=re.T,de={};re.T=de;try{var ue=I(),_e=re.S;_e!==null&&_e(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ne,ce)}catch(De){ce(De)}finally{re.T=$}},Ie.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ie.use=function(I){return re.H.use(I)},Ie.useActionState=function(I,$,de){return re.H.useActionState(I,$,de)},Ie.useCallback=function(I,$){return re.H.useCallback(I,$)},Ie.useContext=function(I){return re.H.useContext(I)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(I,$){return re.H.useDeferredValue(I,$)},Ie.useEffect=function(I,$,de){var ue=re.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(I,$)},Ie.useId=function(){return re.H.useId()},Ie.useImperativeHandle=function(I,$,de){return re.H.useImperativeHandle(I,$,de)},Ie.useInsertionEffect=function(I,$){return re.H.useInsertionEffect(I,$)},Ie.useLayoutEffect=function(I,$){return re.H.useLayoutEffect(I,$)},Ie.useMemo=function(I,$){return re.H.useMemo(I,$)},Ie.useOptimistic=function(I,$){return re.H.useOptimistic(I,$)},Ie.useReducer=function(I,$,de){return re.H.useReducer(I,$,de)},Ie.useRef=function(I){return re.H.useRef(I)},Ie.useState=function(I){return re.H.useState(I)},Ie.useSyncExternalStore=function(I,$,de){return re.H.useSyncExternalStore(I,$,de)},Ie.useTransition=function(){return re.H.useTransition()},Ie.version="19.1.0",Ie}var U0;function mg(){return U0||(U0=1,fm.exports=DD()),fm.exports}var V=mg();const ie=Gw(V),Kw=xD({__proto__:null,default:ie},[V]);var hm={exports:{}},Ec={},pm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function AD(){return B0||(B0=1,function(r){function e(Y,Q){var ce=Y.length;Y.push(Q);e:for(;0<ce;){var ne=ce-1>>>1,I=Y[ne];if(0<s(I,Q))Y[ne]=Q,Y[ce]=I,ce=ne;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var Q=Y[0],ce=Y.pop();if(ce!==Q){Y[0]=ce;e:for(var ne=0,I=Y.length,$=I>>>1;ne<$;){var de=2*(ne+1)-1,ue=Y[de],_e=de+1,De=Y[_e];if(0>s(ue,ce))_e<I&&0>s(De,ue)?(Y[ne]=De,Y[_e]=ce,ne=_e):(Y[ne]=ue,Y[de]=ce,ne=de);else if(_e<I&&0>s(De,ce))Y[ne]=De,Y[_e]=ce,ne=_e;else break e}}return Q}function s(Y,Q){var ce=Y.sortIndex-Q.sortIndex;return ce!==0?ce:Y.id-Q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var p=[],m=[],y=1,b=null,w=3,S=!1,D=!1,j=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function te(Y){for(var Q=t(m);Q!==null;){if(Q.callback===null)n(m);else if(Q.startTime<=Y)n(m),Q.sortIndex=Q.expirationTime,e(p,Q);else break;Q=t(m)}}function re(Y){if(j=!1,te(Y),!D)if(t(p)!==null)D=!0,he||(he=!0,B());else{var Q=t(m);Q!==null&&ve(re,Q.startTime-Y)}}var he=!1,O=-1,R=5,k=-1;function C(){return N?!0:!(r.unstable_now()-k<R)}function U(){if(N=!1,he){var Y=r.unstable_now();k=Y;var Q=!0;try{e:{D=!1,j&&(j=!1,W(O),O=-1),S=!0;var ce=w;try{t:{for(te(Y),b=t(p);b!==null&&!(b.expirationTime>Y&&C());){var ne=b.callback;if(typeof ne=="function"){b.callback=null,w=b.priorityLevel;var I=ne(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof I=="function"){b.callback=I,te(Y),Q=!0;break t}b===t(p)&&n(p),te(Y)}else n(p);b=t(p)}if(b!==null)Q=!0;else{var $=t(m);$!==null&&ve(re,$.startTime-Y),Q=!1}}break e}finally{b=null,w=ce,S=!1}Q=void 0}}finally{Q?B():he=!1}}}var B;if(typeof Z=="function")B=function(){Z(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ae=M.port2;M.port1.onmessage=U,B=function(){Ae.postMessage(null)}}else B=function(){P(U,0)};function ve(Y,Q){O=P(function(){Y(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var Q=3;break;default:Q=w}var ce=w;w=Q;try{return Y()}finally{w=ce}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ce=w;w=Y;try{return Q()}finally{w=ce}},r.unstable_scheduleCallback=function(Y,Q,ce){var ne=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ne+ce:ne):ce=ne,Y){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ce+I,Y={id:y++,callback:Q,priorityLevel:Y,startTime:ce,expirationTime:I,sortIndex:-1},ce>ne?(Y.sortIndex=ce,e(m,Y),t(p)===null&&Y===t(m)&&(j?(W(O),O=-1):j=!0,ve(re,ce-ne))):(Y.sortIndex=I,e(p,Y),D||S||(D=!0,he||(he=!0,B()))),Y},r.unstable_shouldYield=C,r.unstable_wrapCallback=function(Y){var Q=w;return function(){var ce=w;w=Q;try{return Y.apply(this,arguments)}finally{w=ce}}}}(mm)),mm}var F0;function RD(){return F0||(F0=1,pm.exports=AD()),pm.exports}var gm={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function CD(){if(z0)return xn;z0=1;var r=mg();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(p,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:p,containerInfo:m,implementation:y}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,xn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(p,m,null,y)},xn.flushSync=function(p){var m=u.T,y=n.p;try{if(u.T=null,n.p=2,p)return p()}finally{u.T=m,n.p=y,n.d.f()}},xn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(p,m))},xn.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},xn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,b=f(y,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?n.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):y==="script"&&n.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},xn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);n.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(p)},xn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=f(y,m.crossOrigin);n.d.L(p,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},xn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=f(m.as,m.crossOrigin);n.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(p)},xn.requestFormReset=function(p){n.d.r(p)},xn.unstable_batchedUpdates=function(p,m){return p(m)},xn.useFormState=function(p,m,y){return u.H.useFormState(p,m,y)},xn.useFormStatus=function(){return u.H.useHostTransitionStatus()},xn.version="19.1.0",xn}var Y0;function Ww(){if(Y0)return gm.exports;Y0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=CD(),gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function ND(){if(H0)return Ec;H0=1;var r=RD(),e=mg(),t=Ww();function n(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var i=a,l=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(l=i.return),a=i.return;while(a)}return i.tag===3?l:null}function u(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(n(188))}function p(a){var i=a.alternate;if(!i){if(i=o(a),i===null)throw Error(n(188));return i!==a?null:a}for(var l=a,c=i;;){var h=l.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){l=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===l)return f(h),a;if(g===c)return f(h),i;g=g.sibling}throw Error(n(188))}if(l.return!==c.return)l=h,c=g;else{for(var x=!1,T=h.child;T;){if(T===l){x=!0,l=h,c=g;break}if(T===c){x=!0,c=h,l=g;break}T=T.sibling}if(!x){for(T=g.child;T;){if(T===l){x=!0,l=g,c=h;break}if(T===c){x=!0,c=g,l=h;break}T=T.sibling}if(!x)throw Error(n(189))}}if(l.alternate!==c)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?a:i}function m(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=m(a),i!==null)return i;a=a.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var M=Symbol.for("react.client.reference");function Ae(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===M?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case D:return"Fragment";case N:return"Profiler";case j:return"StrictMode";case re:return"Suspense";case he:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case Z:return(a.displayName||"Context")+".Provider";case W:return(a._context.displayName||"Context")+".Consumer";case te:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return i=a.displayName||null,i!==null?i:Ae(a.type)||"Memo";case R:i=a._payload,a=a._init;try{return Ae(a(i))}catch{}}return null}var ve=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ne=[],I=-1;function $(a){return{current:a}}function de(a){0>I||(a.current=ne[I],ne[I]=null,I--)}function ue(a,i){I++,ne[I]=a.current,a.current=i}var _e=$(null),De=$(null),xe=$(null),yt=$(null);function Ye(a,i){switch(ue(xe,i),ue(De,a),ue(_e,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?u0(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=u0(i),a=d0(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}de(_e),ue(_e,a)}function Cn(){de(_e),de(De),de(xe)}function tr(a){a.memoizedState!==null&&ue(yt,a);var i=_e.current,l=d0(i,a.type);i!==l&&(ue(De,a),ue(_e,l))}function zn(a){De.current===a&&(de(_e),de(De)),yt.current===a&&(de(yt),gc._currentValue=ce)}var br=Object.prototype.hasOwnProperty,vt=r.unstable_scheduleCallback,cn=r.unstable_cancelCallback,wr=r.unstable_shouldYield,Mr=r.unstable_requestPaint,K=r.unstable_now,pe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,Je=r.unstable_UserBlockingPriority,at=r.unstable_NormalPriority,it=r.unstable_LowPriority,Pe=r.unstable_IdlePriority,Gt=r.log,nr=r.unstable_setDisableYieldValue,ft=null,Ue=null;function un(a){if(typeof Gt=="function"&&nr(a),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(ft,a)}catch{}}var Kt=Math.clz32?Math.clz32:ca,Ks=Math.log,Wa=Math.LN2;function ca(a){return a>>>=0,a===0?32:31-(Ks(a)/Wa|0)|0}var Hi=256,qi=4194304;function Er(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ws(a,i,l){var c=a.pendingLanes;if(c===0)return 0;var h=0,g=a.suspendedLanes,x=a.pingedLanes;a=a.warmLanes;var T=c&134217727;return T!==0?(c=T&~g,c!==0?h=Er(c):(x&=T,x!==0?h=Er(x):l||(l=T&~a,l!==0&&(h=Er(l))))):(T=c&~g,T!==0?h=Er(T):x!==0?h=Er(x):l||(l=c&~a,l!==0&&(h=Er(l)))),h===0?0:i!==0&&i!==h&&(i&g)===0&&(g=h&-h,l=i&-i,g>=l||g===32&&(l&4194048)!==0)?i:h}function Qi(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function gl(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yl(){var a=Hi;return Hi<<=1,(Hi&4194048)===0&&(Hi=256),a}function vl(){var a=qi;return qi<<=1,(qi&62914560)===0&&(qi=4194304),a}function ua(a){for(var i=[],l=0;31>l;l++)i.push(a);return i}function da(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function _l(a,i,l,c,h,g){var x=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var T=a.entanglements,L=a.expirationTimes,G=a.hiddenUpdates;for(l=x&~l;0<l;){var ae=31-Kt(l),le=1<<ae;T[ae]=0,L[ae]=-1;var X=G[ae];if(X!==null)for(G[ae]=null,ae=0;ae<X.length;ae++){var J=X[ae];J!==null&&(J.lane&=-536870913)}l&=~le}c!==0&&Or(a,c,0),g!==0&&h===0&&a.tag!==0&&(a.suspendedLanes|=g&~(x&~i))}function Or(a,i,l){a.pendingLanes|=i,a.suspendedLanes&=~i;var c=31-Kt(i);a.entangledLanes|=i,a.entanglements[c]=a.entanglements[c]|1073741824|l&4194090}function bl(a,i){var l=a.entangledLanes|=i;for(a=a.entanglements;l;){var c=31-Kt(l),h=1<<c;h&i|a[c]&i&&(a[c]|=i),l&=~h}}function $a(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function $s(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Xa(){var a=Q.p;return a!==0?a:(a=window.event,a===void 0?32:N0(a.type))}function vu(a,i){var l=Q.p;try{return Q.p=a,i()}finally{Q.p=l}}var Et=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Et,Ft="__reactProps$"+Et,rr="__reactContainer$"+Et,wl="__reactEvents$"+Et,ph="__reactListeners$"+Et,Za="__reactHandles$"+Et,_u="__reactResources$"+Et,Gi="__reactMarker$"+Et;function Ja(a){delete a[Wt],delete a[Ft],delete a[wl],delete a[ph],delete a[Za]}function fa(a){var i=a[Wt];if(i)return i;for(var l=a.parentNode;l;){if(i=l[rr]||l[Wt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(a=m0(a);a!==null;){if(l=a[Wt])return l;a=m0(a)}return i}a=l,l=a.parentNode}return null}function Ir(a){if(a=a[Wt]||a[rr]){var i=a.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return a}return null}function Pr(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(n(33))}function Nn(a){var i=a[_u];return i||(i=a[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Pt(a){a[Gi]=!0}var El=new Set,Xs={};function xr(a,i){ha(a,i),ha(a+"Capture",i)}function ha(a,i){for(Xs[a]=i,a=0;a<i.length;a++)El.add(i[a])}var bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},Ki={};function Eu(a){return br.call(Ki,a)?!0:br.call(wu,a)?!1:bu.test(a)?Ki[a]=!0:(wu[a]=!0,!1)}function ei(a,i,l){if(Eu(i))if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+l)}}function jr(a,i,l){if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+l)}}function dn(a,i,l,c){if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(i,l,""+c)}}var Wi,xu;function pa(a){if(Wi===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Wi=i&&i[1]||"",xu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wi+a+xu}var Zs=!1;function Js(a,i){if(!a||Zs)return"";Zs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var X=J}Reflect.construct(a,[],le)}else{try{le.call()}catch(J){X=J}a.call(le.prototype)}}else{try{throw Error()}catch(J){X=J}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),x=g[0],T=g[1];if(x&&T){var L=x.split(`
`),G=T.split(`
`);for(h=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(c===L.length||h===G.length)for(c=L.length-1,h=G.length-1;1<=c&&0<=h&&L[c]!==G[h];)h--;for(;1<=c&&0<=h;c--,h--)if(L[c]!==G[h]){if(c!==1||h!==1)do if(c--,h--,0>h||L[c]!==G[h]){var ae=`
`+L[c].replace(" at new "," at ");return a.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",a.displayName)),ae}while(1<=c&&0<=h);break}}}finally{Zs=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?pa(l):""}function xl(a){switch(a.tag){case 26:case 27:case 5:return pa(a.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 15:return Js(a.type,!1);case 11:return Js(a.type.render,!1);case 1:return Js(a.type,!0);case 31:return pa("Activity");default:return""}}function eo(a){try{var i="";do i+=xl(a),a=a.return;while(a);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function kn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Tl(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mh(a){var i=Tl(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),c=""+a[i];if(!a.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,g=l.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return h.call(this)},set:function(x){c=""+x,g.call(this,x)}}),Object.defineProperty(a,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function to(a){a._valueTracker||(a._valueTracker=mh(a))}function Sl(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return a&&(c=Tl(a)?a.checked?"true":"false":a.value),a=c,a!==l?(i.setValue(a),!0):!1}function $i(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var gh=/[\n"\\]/g;function zt(a){return a.replace(gh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Yn(a,i,l,c,h,g,x,T){a.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?a.type=x:a.removeAttribute("type"),i!=null?x==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+kn(i)):a.value!==""+kn(i)&&(a.value=""+kn(i)):x!=="submit"&&x!=="reset"||a.removeAttribute("value"),i!=null?ti(a,x,kn(i)):l!=null?ti(a,x,kn(l)):c!=null&&a.removeAttribute("value"),h==null&&g!=null&&(a.defaultChecked=!!g),h!=null&&(a.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.name=""+kn(T):a.removeAttribute("name")}function Xi(a,i,l,c,h,g,x,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(a.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;l=l!=null?""+kn(l):"",i=i!=null?""+kn(i):l,T||i===a.value||(a.value=i),a.defaultValue=i}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,a.checked=T?a.checked:!!c,a.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.name=x)}function ti(a,i,l){i==="number"&&$i(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function ma(a,i,l,c){if(a=a.options,i){i={};for(var h=0;h<l.length;h++)i["$"+l[h]]=!0;for(l=0;l<a.length;l++)h=i.hasOwnProperty("$"+a[l].value),a[l].selected!==h&&(a[l].selected=h),h&&c&&(a[l].defaultSelected=!0)}else{for(l=""+kn(l),i=null,h=0;h<a.length;h++){if(a[h].value===l){a[h].selected=!0,c&&(a[h].defaultSelected=!0);return}i!==null||a[h].disabled||(i=a[h])}i!==null&&(i.selected=!0)}}function ht(a,i,l){if(i!=null&&(i=""+kn(i),i!==a.value&&(a.value=i),l==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=l!=null?""+kn(l):""}function Zi(a,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(n(92));if(ve(c)){if(1<c.length)throw Error(n(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=kn(i),a.defaultValue=l,c=a.textContent,c===l&&c!==""&&c!==null&&(a.value=c)}function ar(a,i){if(i){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=i;return}}a.textContent=i}var Ji=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tu(a,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":c?a.setProperty(i,l):typeof l!="number"||l===0||Ji.has(i)?i==="float"?a.cssFloat=l:a[i]=(""+l).trim():a[i]=l+"px"}function Dl(a,i,l){if(i!=null&&typeof i!="object")throw Error(n(62));if(a=a.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="");for(var h in i)c=i[h],i.hasOwnProperty(h)&&l[h]!==c&&Tu(a,h,c)}else for(var g in i)i.hasOwnProperty(g)&&Tu(a,g,i[g])}function Al(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(a){return vh.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ga=null;function ir(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ya=null,va=null;function Rl(a){var i=Ir(a);if(i&&(a=i.stateNode)){var l=a[Ft]||null;e:switch(a=i.stateNode,i.type){case"input":if(Yn(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+zt(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==a&&c.form===a.form){var h=c[Ft]||null;if(!h)throw Error(n(90));Yn(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===a.form&&Sl(c)}break e;case"textarea":ht(a,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ma(a,!!l.multiple,i,!1)}}}var Vr=!1;function Su(a,i,l){if(Vr)return a(i,l);Vr=!0;try{var c=a(i);return c}finally{if(Vr=!1,(ya!==null||va!==null)&&(vd(),ya&&(i=ya,a=va,va=ya=null,Rl(i),a)))for(i=0;i<a.length;i++)Rl(a[i])}}function es(a,i){var l=a.stateNode;if(l===null)return null;var c=l[Ft]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(a=a.type,c=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!c;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sr=!1;if(Tr)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){sr=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{sr=!1}var Lr=null,ni=null,_a=null;function Cl(){if(_a)return _a;var a,i=ni,l=i.length,c,h="value"in Lr?Lr.value:Lr.textContent,g=h.length;for(a=0;a<l&&i[a]===h[a];a++);var x=l-a;for(c=1;c<=x&&i[l-c]===h[g-c];c++);return _a=h.slice(a,1<c?1-c:void 0)}function Ur(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Br(){return!0}function Nl(){return!1}function en(a){function i(l,c,h,g,x){this._reactName=l,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var T in a)a.hasOwnProperty(T)&&(l=a[T],this[T]=l?l(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Br:Nl,this.isPropagationStopped=Nl,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),i}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=en(st),ns=y({},st,{view:0,detail:0}),Du=en(ns),ao,io,Fr,rs=y({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Fr&&(Fr&&a.type==="mousemove"?(ao=a.screenX-Fr.screenX,io=a.screenY-Fr.screenY):io=ao=0,Fr=a),ao)},movementY:function(a){return"movementY"in a?a.movementY:io}}),or=en(rs),Au=y({},rs,{dataTransfer:0}),_h=en(Au),as=y({},ns,{relatedTarget:0}),so=en(as),kl=y({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),oo=en(kl),Ru=y({},st,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),lo=en(Ru),bh=y({},st,{data:0}),Ml=en(bh),is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=Nu[a])?!!i[a]:!1}function ss(){return Ol}var ku=y({},ns,{key:function(a){if(a.key){var i=is[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=Ur(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Cu[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(a){return a.type==="keypress"?Ur(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ur(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),co=en(ku),Mu=y({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Il=en(Mu),ba=y({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),Ou=en(ba),Iu=y({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pu=en(Iu),ju=y({},rs,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),uo=en(ju),Mn=y({},st,{newState:0,oldState:0}),Vu=en(Mn),Lu=[9,13,27,32],zr=Tr&&"CompositionEvent"in window,d=null;Tr&&"documentMode"in document&&(d=document.documentMode);var _=Tr&&"TextEvent"in window&&!d,E=Tr&&(!zr||d&&8<d&&11>=d),A=" ",H=!1;function ee(a,i){switch(a){case"keyup":return Lu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var He=!1;function $t(a,i){switch(a){case"compositionend":return me(i);case"keypress":return i.which!==32?null:(H=!0,A);case"textInput":return a=i.data,a===A&&H?null:a;default:return null}}function qe(a,i){if(He)return a==="compositionend"||!zr&&ee(a,i)?(a=Cl(),_a=ni=Lr=null,He=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xt(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!tn[a.type]:i==="textarea"}function wa(a,i,l,c){ya?va?va.push(c):va=[c]:ya=c,i=Td(i,"onChange"),0<i.length&&(l=new ro("onChange","change",null,l,c),a.push({event:l,listeners:i}))}var fn=null,Yr=null;function Pl(a){i0(a,0)}function Uu(a){var i=Pr(a);if(Sl(i))return a}function Dy(a,i){if(a==="change")return i}var Ay=!1;if(Tr){var wh;if(Tr){var Eh="oninput"in document;if(!Eh){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),Eh=typeof Ry.oninput=="function"}wh=Eh}else wh=!1;Ay=wh&&(!document.documentMode||9<document.documentMode)}function Cy(){fn&&(fn.detachEvent("onpropertychange",Ny),Yr=fn=null)}function Ny(a){if(a.propertyName==="value"&&Uu(Yr)){var i=[];wa(i,Yr,a,ir(a)),Su(Pl,i)}}function JT(a,i,l){a==="focusin"?(Cy(),fn=i,Yr=l,fn.attachEvent("onpropertychange",Ny)):a==="focusout"&&Cy()}function eS(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Uu(Yr)}function tS(a,i){if(a==="click")return Uu(i)}function nS(a,i){if(a==="input"||a==="change")return Uu(i)}function rS(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var Hn=typeof Object.is=="function"?Object.is:rS;function jl(a,i){if(Hn(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var l=Object.keys(a),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var h=l[c];if(!br.call(i,h)||!Hn(a[h],i[h]))return!1}return!0}function ky(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function My(a,i){var l=ky(a);a=0;for(var c;l;){if(l.nodeType===3){if(c=a+l.textContent.length,a<=i&&c>=i)return{node:l,offset:i-a};a=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ky(l)}}function Oy(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?Oy(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function Iy(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=$i(a.document);i instanceof a.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)a=i.contentWindow;else break;i=$i(a.document)}return i}function xh(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var aS=Tr&&"documentMode"in document&&11>=document.documentMode,fo=null,Th=null,Vl=null,Sh=!1;function Py(a,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sh||fo==null||fo!==$i(c)||(c=fo,"selectionStart"in c&&xh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Vl&&jl(Vl,c)||(Vl=c,c=Td(Th,"onSelect"),0<c.length&&(i=new ro("onSelect","select",null,i,l),a.push({event:i,listeners:c}),i.target=fo)))}function os(a,i){var l={};return l[a.toLowerCase()]=i.toLowerCase(),l["Webkit"+a]="webkit"+i,l["Moz"+a]="moz"+i,l}var ho={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},Dh={},jy={};Tr&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ls(a){if(Dh[a])return Dh[a];if(!ho[a])return a;var i=ho[a],l;for(l in i)if(i.hasOwnProperty(l)&&l in jy)return Dh[a]=i[l];return a}var Vy=ls("animationend"),Ly=ls("animationiteration"),Uy=ls("animationstart"),iS=ls("transitionrun"),sS=ls("transitionstart"),oS=ls("transitioncancel"),By=ls("transitionend"),Fy=new Map,Ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ah.push("scrollEnd");function Sr(a,i){Fy.set(a,i),xr(i,[a])}var zy=new WeakMap;function lr(a,i){if(typeof a=="object"&&a!==null){var l=zy.get(a);return l!==void 0?l:(i={value:a,source:i,stack:eo(i)},zy.set(a,i),i)}return{value:a,source:i,stack:eo(i)}}var cr=[],po=0,Rh=0;function Bu(){for(var a=po,i=Rh=po=0;i<a;){var l=cr[i];cr[i++]=null;var c=cr[i];cr[i++]=null;var h=cr[i];cr[i++]=null;var g=cr[i];if(cr[i++]=null,c!==null&&h!==null){var x=c.pending;x===null?h.next=h:(h.next=x.next,x.next=h),c.pending=h}g!==0&&Yy(l,h,g)}}function Fu(a,i,l,c){cr[po++]=a,cr[po++]=i,cr[po++]=l,cr[po++]=c,Rh|=c,a.lanes|=c,a=a.alternate,a!==null&&(a.lanes|=c)}function Ch(a,i,l,c){return Fu(a,i,l,c),zu(a)}function mo(a,i){return Fu(a,null,null,i),zu(a)}function Yy(a,i,l){a.lanes|=l;var c=a.alternate;c!==null&&(c.lanes|=l);for(var h=!1,g=a.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(a=g.stateNode,a===null||a._visibility&1||(h=!0)),a=g,g=g.return;return a.tag===3?(g=a.stateNode,h&&i!==null&&(h=31-Kt(l),a=g.hiddenUpdates,c=a[h],c===null?a[h]=[i]:c.push(i),i.lane=l|536870912),g):null}function zu(a){if(50<lc)throw lc=0,Pp=null,Error(n(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var go={};function lS(a,i,l,c){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(a,i,l,c){return new lS(a,i,l,c)}function Nh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ea(a,i){var l=a.alternate;return l===null?(l=qn(a.tag,i,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=i,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,i=a.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function Hy(a,i){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,i=l.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function Yu(a,i,l,c,h,g){var x=0;if(c=a,typeof a=="function")Nh(a)&&(x=1);else if(typeof a=="string")x=uD(a,l,_e.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=qn(31,l,i,h),a.elementType=k,a.lanes=g,a;case D:return cs(l.children,h,g,i);case j:x=8,h|=24;break;case N:return a=qn(12,l,i,h|2),a.elementType=N,a.lanes=g,a;case re:return a=qn(13,l,i,h),a.elementType=re,a.lanes=g,a;case he:return a=qn(19,l,i,h),a.elementType=he,a.lanes=g,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case P:case Z:x=10;break e;case W:x=9;break e;case te:x=11;break e;case O:x=14;break e;case R:x=16,c=null;break e}x=29,l=Error(n(130,a===null?"null":typeof a,"")),c=null}return i=qn(x,l,i,h),i.elementType=a,i.type=c,i.lanes=g,i}function cs(a,i,l,c){return a=qn(7,a,c,i),a.lanes=l,a}function kh(a,i,l){return a=qn(6,a,null,i),a.lanes=l,a}function Mh(a,i,l){return i=qn(4,a.children!==null?a.children:[],a.key,i),i.lanes=l,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var yo=[],vo=0,Hu=null,qu=0,ur=[],dr=0,us=null,xa=1,Ta="";function ds(a,i){yo[vo++]=qu,yo[vo++]=Hu,Hu=a,qu=i}function qy(a,i,l){ur[dr++]=xa,ur[dr++]=Ta,ur[dr++]=us,us=a;var c=xa;a=Ta;var h=32-Kt(c)-1;c&=~(1<<h),l+=1;var g=32-Kt(i)+h;if(30<g){var x=h-h%5;g=(c&(1<<x)-1).toString(32),c>>=x,h-=x,xa=1<<32-Kt(i)+h|l<<h|c,Ta=g+a}else xa=1<<g|l<<h|c,Ta=a}function Oh(a){a.return!==null&&(ds(a,1),qy(a,1,0))}function Ih(a){for(;a===Hu;)Hu=yo[--vo],yo[vo]=null,qu=yo[--vo],yo[vo]=null;for(;a===us;)us=ur[--dr],ur[dr]=null,Ta=ur[--dr],ur[dr]=null,xa=ur[--dr],ur[dr]=null}var On=null,Nt=null,nt=!1,fs=null,Hr=!1,Ph=Error(n(519));function hs(a){var i=Error(n(418,""));throw Bl(lr(i,a)),Ph}function Qy(a){var i=a.stateNode,l=a.type,c=a.memoizedProps;switch(i[Wt]=a,i[Ft]=c,l){case"dialog":Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":case"embed":Fe("load",i);break;case"video":case"audio":for(l=0;l<uc.length;l++)Fe(uc[l],i);break;case"source":Fe("error",i);break;case"img":case"image":case"link":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"input":Fe("invalid",i),Xi(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),to(i);break;case"select":Fe("invalid",i);break;case"textarea":Fe("invalid",i),Zi(i,c.value,c.defaultValue,c.children),to(i)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||c0(i.textContent,l)?(c.popover!=null&&(Fe("beforetoggle",i),Fe("toggle",i)),c.onScroll!=null&&Fe("scroll",i),c.onScrollEnd!=null&&Fe("scrollend",i),c.onClick!=null&&(i.onclick=Sd),i=!0):i=!1,i||hs(a)}function Gy(a){for(On=a.return;On;)switch(On.tag){case 5:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:On=On.return}}function Ll(a){if(a!==On)return!1;if(!nt)return Gy(a),nt=!0,!1;var i=a.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||Xp(a.type,a.memoizedProps)),l=!l),l&&Nt&&hs(a),Gy(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(i===0){Nt=Ar(a.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;a=a.nextSibling}Nt=null}}else i===27?(i=Nt,vi(a.type)?(a=tm,tm=null,Nt=a):Nt=i):Nt=On?Ar(a.stateNode.nextSibling):null;return!0}function Ul(){Nt=On=null,nt=!1}function Ky(){var a=fs;return a!==null&&(Bn===null?Bn=a:Bn.push.apply(Bn,a),fs=null),a}function Bl(a){fs===null?fs=[a]:fs.push(a)}var jh=$(null),ps=null,Sa=null;function ri(a,i,l){ue(jh,i._currentValue),i._currentValue=l}function Da(a){a._currentValue=jh.current,de(jh)}function Vh(a,i,l){for(;a!==null;){var c=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),a===l)break;a=a.return}}function Lh(a,i,l,c){var h=a.child;for(h!==null&&(h.return=a);h!==null;){var g=h.dependencies;if(g!==null){var x=h.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=h;for(var L=0;L<i.length;L++)if(T.context===i[L]){g.lanes|=l,T=g.alternate,T!==null&&(T.lanes|=l),Vh(g.return,l,a),c||(x=null);break e}g=T.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(n(341));x.lanes|=l,g=x.alternate,g!==null&&(g.lanes|=l),Vh(x,l,a),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===a){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function Fl(a,i,l,c){a=null;for(var h=i,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(n(387));if(x=x.memoizedProps,x!==null){var T=h.type;Hn(h.pendingProps.value,x.value)||(a!==null?a.push(T):a=[T])}}else if(h===yt.current){if(x=h.alternate,x===null)throw Error(n(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(a!==null?a.push(gc):a=[gc])}h=h.return}a!==null&&Lh(i,a,l,c),i.flags|=262144}function Qu(a){for(a=a.firstContext;a!==null;){if(!Hn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ms(a){ps=a,Sa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function En(a){return Wy(ps,a)}function Gu(a,i){return ps===null&&ms(a),Wy(a,i)}function Wy(a,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Sa===null){if(a===null)throw Error(n(308));Sa=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else Sa=Sa.next=i;return l}var cS=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(l,c){a.push(c)}};this.abort=function(){i.aborted=!0,a.forEach(function(l){return l()})}},uS=r.unstable_scheduleCallback,dS=r.unstable_NormalPriority,Zt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new cS,data:new Map,refCount:0}}function zl(a){a.refCount--,a.refCount===0&&uS(dS,function(){a.controller.abort()})}var Yl=null,Bh=0,_o=0,bo=null;function fS(a,i){if(Yl===null){var l=Yl=[];Bh=0,_o=zp(),bo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Bh++,i.then($y,$y),i}function $y(){if(--Bh===0&&Yl!==null){bo!==null&&(bo.status="fulfilled");var a=Yl;Yl=null,_o=0,bo=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function hS(a,i){var l=[],c={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return a.then(function(){c.status="fulfilled",c.value=i;for(var h=0;h<l.length;h++)(0,l[h])(i)},function(h){for(c.status="rejected",c.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),c}var Xy=Y.S;Y.S=function(a,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&fS(a,i),Xy!==null&&Xy(a,i)};var gs=$(null);function Fh(){var a=gs.current;return a!==null?a:wt.pooledCache}function Ku(a,i){i===null?ue(gs,gs.current):ue(gs,i.pool)}function Zy(){var a=Fh();return a===null?null:{parent:Zt._currentValue,pool:a}}var Hl=Error(n(460)),Jy=Error(n(474)),Wu=Error(n(542)),zh={then:function(){}};function ev(a){return a=a.status,a==="fulfilled"||a==="rejected"}function $u(){}function tv(a,i,l){switch(l=a[l],l===void 0?a.push(i):l!==i&&(i.then($u,$u),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,rv(a),a;default:if(typeof i.status=="string")i.then($u,$u);else{if(a=wt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=i,a.status="pending",a.then(function(c){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=c}},function(c){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,rv(a),a}throw ql=i,Hl}}var ql=null;function nv(){if(ql===null)throw Error(n(459));var a=ql;return ql=null,a}function rv(a){if(a===Hl||a===Wu)throw Error(n(483))}var ai=!1;function Yh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ii(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function si(a,i,l){var c=a.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,i=zu(a),Yy(a,null,l),i}return Fu(a,c,i,l),zu(a)}function Ql(a,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=a.pendingLanes,l|=c,i.lanes=l,bl(a,l)}}function qh(a,i){var l=a.updateQueue,c=a.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var h=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?h=g=x:g=g.next=x,l=l.next}while(l!==null);g===null?h=g=i:g=g.next=i}else h=g=i;l={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=i:a.next=i,l.lastBaseUpdate=i}var Qh=!1;function Gl(){if(Qh){var a=bo;if(a!==null)throw a}}function Kl(a,i,l,c){Qh=!1;var h=a.updateQueue;ai=!1;var g=h.firstBaseUpdate,x=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var L=T,G=L.next;L.next=null,x===null?g=G:x.next=G,x=L;var ae=a.alternate;ae!==null&&(ae=ae.updateQueue,T=ae.lastBaseUpdate,T!==x&&(T===null?ae.firstBaseUpdate=G:T.next=G,ae.lastBaseUpdate=L))}if(g!==null){var le=h.baseState;x=0,ae=G=L=null,T=g;do{var X=T.lane&-536870913,J=X!==T.lane;if(J?(Qe&X)===X:(c&X)===X){X!==0&&X===_o&&(Qh=!0),ae!==null&&(ae=ae.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ke=a,Re=T;X=i;var gt=l;switch(Re.tag){case 1:if(ke=Re.payload,typeof ke=="function"){le=ke.call(gt,le,X);break e}le=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Re.payload,X=typeof ke=="function"?ke.call(gt,le,X):ke,X==null)break e;le=y({},le,X);break e;case 2:ai=!0}}X=T.callback,X!==null&&(a.flags|=64,J&&(a.flags|=8192),J=h.callbacks,J===null?h.callbacks=[X]:J.push(X))}else J={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ae===null?(G=ae=J,L=le):ae=ae.next=J,x|=X;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;J=T,T=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);ae===null&&(L=le),h.baseState=L,h.firstBaseUpdate=G,h.lastBaseUpdate=ae,g===null&&(h.shared.lanes=0),pi|=x,a.lanes=x,a.memoizedState=le}}function av(a,i){if(typeof a!="function")throw Error(n(191,a));a.call(i)}function iv(a,i){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)av(l[a],i)}var wo=$(null),Xu=$(0);function sv(a,i){a=Oa,ue(Xu,a),ue(wo,i),Oa=a|i.baseLanes}function Gh(){ue(Xu,Oa),ue(wo,wo.current)}function Kh(){Oa=Xu.current,de(wo),de(Xu)}var oi=0,je=null,pt=null,Yt=null,Zu=!1,Eo=!1,ys=!1,Ju=0,Wl=0,xo=null,pS=0;function jt(){throw Error(n(321))}function Wh(a,i){if(i===null)return!1;for(var l=0;l<i.length&&l<a.length;l++)if(!Hn(a[l],i[l]))return!1;return!0}function $h(a,i,l,c,h,g){return oi=g,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=a===null||a.memoizedState===null?Yv:Hv,ys=!1,g=l(c,h),ys=!1,Eo&&(g=lv(i,l,c,h)),ov(a),g}function ov(a){Y.H=id;var i=pt!==null&&pt.next!==null;if(oi=0,Yt=pt=je=null,Zu=!1,Wl=0,xo=null,i)throw Error(n(300));a===null||nn||(a=a.dependencies,a!==null&&Qu(a)&&(nn=!0))}function lv(a,i,l,c){je=a;var h=0;do{if(Eo&&(xo=null),Wl=0,Eo=!1,25<=h)throw Error(n(301));if(h+=1,Yt=pt=null,a.updateQueue!=null){var g=a.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=wS,g=i(l,c)}while(Eo);return g}function mS(){var a=Y.H,i=a.useState()[0];return i=typeof i.then=="function"?$l(i):i,a=a.useState()[0],(pt!==null?pt.memoizedState:null)!==a&&(je.flags|=1024),i}function Xh(){var a=Ju!==0;return Ju=0,a}function Zh(a,i,l){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~l}function Jh(a){if(Zu){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}Zu=!1}oi=0,Yt=pt=je=null,Eo=!1,Wl=Ju=0,xo=null}function Ln(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?je.memoizedState=Yt=a:Yt=Yt.next=a,Yt}function Ht(){if(pt===null){var a=je.alternate;a=a!==null?a.memoizedState:null}else a=pt.next;var i=Yt===null?je.memoizedState:Yt.next;if(i!==null)Yt=i,pt=a;else{if(a===null)throw je.alternate===null?Error(n(467)):Error(n(310));pt=a,a={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Yt===null?je.memoizedState=Yt=a:Yt=Yt.next=a}return Yt}function ep(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(a){var i=Wl;return Wl+=1,xo===null&&(xo=[]),a=tv(xo,a,i),i=je,(Yt===null?i.memoizedState:Yt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Yv:Hv),a}function ed(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return $l(a);if(a.$$typeof===Z)return En(a)}throw Error(n(438,String(a)))}function tp(a){var i=null,l=je.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=ep(),je.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(a),c=0;c<a;c++)l[c]=C;return i.index++,l}function Aa(a,i){return typeof i=="function"?i(a):i}function td(a){var i=Ht();return np(i,pt,a)}function np(a,i,l){var c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=l;var h=a.baseQueue,g=c.pending;if(g!==null){if(h!==null){var x=h.next;h.next=g.next,g.next=x}i.baseQueue=h=g,c.pending=null}if(g=a.baseState,h===null)a.memoizedState=g;else{i=h.next;var T=x=null,L=null,G=i,ae=!1;do{var le=G.lane&-536870913;if(le!==G.lane?(Qe&le)===le:(oi&le)===le){var X=G.revertLane;if(X===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),le===_o&&(ae=!0);else if((oi&X)===X){G=G.next,X===_o&&(ae=!0);continue}else le={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(T=L=le,x=g):L=L.next=le,je.lanes|=X,pi|=X;le=G.action,ys&&l(g,le),g=G.hasEagerState?G.eagerState:l(g,le)}else X={lane:le,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(T=L=X,x=g):L=L.next=X,je.lanes|=le,pi|=le;G=G.next}while(G!==null&&G!==i);if(L===null?x=g:L.next=T,!Hn(g,a.memoizedState)&&(nn=!0,ae&&(l=bo,l!==null)))throw l;a.memoizedState=g,a.baseState=x,a.baseQueue=L,c.lastRenderedState=g}return h===null&&(c.lanes=0),[a.memoizedState,c.dispatch]}function rp(a){var i=Ht(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=a;var c=l.dispatch,h=l.pending,g=i.memoizedState;if(h!==null){l.pending=null;var x=h=h.next;do g=a(g,x.action),x=x.next;while(x!==h);Hn(g,i.memoizedState)||(nn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,c]}function cv(a,i,l){var c=je,h=Ht(),g=nt;if(g){if(l===void 0)throw Error(n(407));l=l()}else l=i();var x=!Hn((pt||h).memoizedState,l);x&&(h.memoizedState=l,nn=!0),h=h.queue;var T=fv.bind(null,c,h,a);if(Xl(2048,8,T,[a]),h.getSnapshot!==i||x||Yt!==null&&Yt.memoizedState.tag&1){if(c.flags|=2048,To(9,nd(),dv.bind(null,c,h,l,i),null),wt===null)throw Error(n(349));g||(oi&124)!==0||uv(c,i,l)}return l}function uv(a,i,l){a.flags|=16384,a={getSnapshot:i,value:l},i=je.updateQueue,i===null?(i=ep(),je.updateQueue=i,i.stores=[a]):(l=i.stores,l===null?i.stores=[a]:l.push(a))}function dv(a,i,l,c){i.value=l,i.getSnapshot=c,hv(i)&&pv(a)}function fv(a,i,l){return l(function(){hv(i)&&pv(a)})}function hv(a){var i=a.getSnapshot;a=a.value;try{var l=i();return!Hn(a,l)}catch{return!0}}function pv(a){var i=mo(a,2);i!==null&&$n(i,a,2)}function ap(a){var i=Ln();if(typeof a=="function"){var l=a;if(a=l(),ys){un(!0);try{l()}finally{un(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:a},i}function mv(a,i,l,c){return a.baseState=l,np(a,pt,typeof c=="function"?c:Aa)}function gS(a,i,l,c,h){if(ad(a))throw Error(n(485));if(a=i.action,a!==null){var g={payload:h,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};Y.T!==null?l(!0):g.isTransition=!1,c(g),l=i.pending,l===null?(g.next=i.pending=g,gv(i,g)):(g.next=l.next,i.pending=l.next=g)}}function gv(a,i){var l=i.action,c=i.payload,h=a.state;if(i.isTransition){var g=Y.T,x={};Y.T=x;try{var T=l(h,c),L=Y.S;L!==null&&L(x,T),yv(a,i,T)}catch(G){ip(a,i,G)}finally{Y.T=g}}else try{g=l(h,c),yv(a,i,g)}catch(G){ip(a,i,G)}}function yv(a,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){vv(a,i,c)},function(c){return ip(a,i,c)}):vv(a,i,l)}function vv(a,i,l){i.status="fulfilled",i.value=l,_v(i),a.state=l,i=a.pending,i!==null&&(l=i.next,l===i?a.pending=null:(l=l.next,i.next=l,gv(a,l)))}function ip(a,i,l){var c=a.pending;if(a.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,_v(i),i=i.next;while(i!==c)}a.action=null}function _v(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function bv(a,i){return i}function wv(a,i){if(nt){var l=wt.formState;if(l!==null){e:{var c=je;if(nt){if(Nt){t:{for(var h=Nt,g=Hr;h.nodeType!==8;){if(!g){h=null;break t}if(h=Ar(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Nt=Ar(h.nextSibling),c=h.data==="F!";break e}}hs(c)}c=!1}c&&(i=l[0])}}return l=Ln(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bv,lastRenderedState:i},l.queue=c,l=Bv.bind(null,je,c),c.dispatch=l,c=ap(!1),g=up.bind(null,je,!1,c.queue),c=Ln(),h={state:i,dispatch:null,action:a,pending:null},c.queue=h,l=gS.bind(null,je,h,g,l),h.dispatch=l,c.memoizedState=a,[i,l,!1]}function Ev(a){var i=Ht();return xv(i,pt,a)}function xv(a,i,l){if(i=np(a,i,bv)[0],a=td(Aa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=$l(i)}catch(x){throw x===Hl?Wu:x}else c=i;i=Ht();var h=i.queue,g=h.dispatch;return l!==i.memoizedState&&(je.flags|=2048,To(9,nd(),yS.bind(null,h,l),null)),[c,g,a]}function yS(a,i){a.action=i}function Tv(a){var i=Ht(),l=pt;if(l!==null)return xv(i,l,a);Ht(),i=i.memoizedState,l=Ht();var c=l.queue.dispatch;return l.memoizedState=a,[i,c,!1]}function To(a,i,l,c){return a={tag:a,create:l,deps:c,inst:i,next:null},i=je.updateQueue,i===null&&(i=ep(),je.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=a.next=a:(c=l.next,l.next=a,a.next=c,i.lastEffect=a),a}function nd(){return{destroy:void 0,resource:void 0}}function Sv(){return Ht().memoizedState}function rd(a,i,l,c){var h=Ln();c=c===void 0?null:c,je.flags|=a,h.memoizedState=To(1|i,nd(),l,c)}function Xl(a,i,l,c){var h=Ht();c=c===void 0?null:c;var g=h.memoizedState.inst;pt!==null&&c!==null&&Wh(c,pt.memoizedState.deps)?h.memoizedState=To(i,g,l,c):(je.flags|=a,h.memoizedState=To(1|i,g,l,c))}function Dv(a,i){rd(8390656,8,a,i)}function Av(a,i){Xl(2048,8,a,i)}function Rv(a,i){return Xl(4,2,a,i)}function Cv(a,i){return Xl(4,4,a,i)}function Nv(a,i){if(typeof i=="function"){a=a();var l=i(a);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function kv(a,i,l){l=l!=null?l.concat([a]):null,Xl(4,4,Nv.bind(null,i,a),l)}function sp(){}function Mv(a,i){var l=Ht();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&Wh(i,c[1])?c[0]:(l.memoizedState=[a,i],a)}function Ov(a,i){var l=Ht();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&Wh(i,c[1]))return c[0];if(c=a(),ys){un(!0);try{a()}finally{un(!1)}}return l.memoizedState=[c,i],c}function op(a,i,l){return l===void 0||(oi&1073741824)!==0?a.memoizedState=i:(a.memoizedState=l,a=j_(),je.lanes|=a,pi|=a,l)}function Iv(a,i,l,c){return Hn(l,i)?l:wo.current!==null?(a=op(a,l,c),Hn(a,i)||(nn=!0),a):(oi&42)===0?(nn=!0,a.memoizedState=l):(a=j_(),je.lanes|=a,pi|=a,i)}function Pv(a,i,l,c,h){var g=Q.p;Q.p=g!==0&&8>g?g:8;var x=Y.T,T={};Y.T=T,up(a,!1,i,l);try{var L=h(),G=Y.S;if(G!==null&&G(T,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ae=hS(L,c);Zl(a,i,ae,Wn(a))}else Zl(a,i,c,Wn(a))}catch(le){Zl(a,i,{then:function(){},status:"rejected",reason:le},Wn())}finally{Q.p=g,Y.T=x}}function vS(){}function lp(a,i,l,c){if(a.tag!==5)throw Error(n(476));var h=jv(a).queue;Pv(a,h,i,ce,l===null?vS:function(){return Vv(a),l(c)})}function jv(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:ce},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:l},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function Vv(a){var i=jv(a).next.queue;Zl(a,i,{},Wn())}function cp(){return En(gc)}function Lv(){return Ht().memoizedState}function Uv(){return Ht().memoizedState}function _S(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var l=Wn();a=ii(l);var c=si(i,a,l);c!==null&&($n(c,i,l),Ql(c,i,l)),i={cache:Uh()},a.payload=i;return}i=i.return}}function bS(a,i,l){var c=Wn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ad(a)?Fv(i,l):(l=Ch(a,i,l,c),l!==null&&($n(l,a,c),zv(l,i,c)))}function Bv(a,i,l){var c=Wn();Zl(a,i,l,c)}function Zl(a,i,l,c){var h={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ad(a))Fv(i,h);else{var g=a.alternate;if(a.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var x=i.lastRenderedState,T=g(x,l);if(h.hasEagerState=!0,h.eagerState=T,Hn(T,x))return Fu(a,i,h,0),wt===null&&Bu(),!1}catch{}finally{}if(l=Ch(a,i,h,c),l!==null)return $n(l,a,c),zv(l,i,c),!0}return!1}function up(a,i,l,c){if(c={lane:2,revertLane:zp(),action:c,hasEagerState:!1,eagerState:null,next:null},ad(a)){if(i)throw Error(n(479))}else i=Ch(a,l,c,2),i!==null&&$n(i,a,2)}function ad(a){var i=a.alternate;return a===je||i!==null&&i===je}function Fv(a,i){Eo=Zu=!0;var l=a.pending;l===null?i.next=i:(i.next=l.next,l.next=i),a.pending=i}function zv(a,i,l){if((l&4194048)!==0){var c=i.lanes;c&=a.pendingLanes,l|=c,i.lanes=l,bl(a,l)}}var id={readContext:En,use:ed,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},Yv={readContext:En,use:ed,useCallback:function(a,i){return Ln().memoizedState=[a,i===void 0?null:i],a},useContext:En,useEffect:Dv,useImperativeHandle:function(a,i,l){l=l!=null?l.concat([a]):null,rd(4194308,4,Nv.bind(null,i,a),l)},useLayoutEffect:function(a,i){return rd(4194308,4,a,i)},useInsertionEffect:function(a,i){rd(4,2,a,i)},useMemo:function(a,i){var l=Ln();i=i===void 0?null:i;var c=a();if(ys){un(!0);try{a()}finally{un(!1)}}return l.memoizedState=[c,i],c},useReducer:function(a,i,l){var c=Ln();if(l!==void 0){var h=l(i);if(ys){un(!0);try{l(i)}finally{un(!1)}}}else h=i;return c.memoizedState=c.baseState=h,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:h},c.queue=a,a=a.dispatch=bS.bind(null,je,a),[c.memoizedState,a]},useRef:function(a){var i=Ln();return a={current:a},i.memoizedState=a},useState:function(a){a=ap(a);var i=a.queue,l=Bv.bind(null,je,i);return i.dispatch=l,[a.memoizedState,l]},useDebugValue:sp,useDeferredValue:function(a,i){var l=Ln();return op(l,a,i)},useTransition:function(){var a=ap(!1);return a=Pv.bind(null,je,a.queue,!0,!1),Ln().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,l){var c=je,h=Ln();if(nt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),wt===null)throw Error(n(349));(Qe&124)!==0||uv(c,i,l)}h.memoizedState=l;var g={value:l,getSnapshot:i};return h.queue=g,Dv(fv.bind(null,c,g,a),[a]),c.flags|=2048,To(9,nd(),dv.bind(null,c,g,l,i),null),l},useId:function(){var a=Ln(),i=wt.identifierPrefix;if(nt){var l=Ta,c=xa;l=(c&~(1<<32-Kt(c)-1)).toString(32)+l,i=""+i+"R"+l,l=Ju++,0<l&&(i+="H"+l.toString(32)),i+=""}else l=pS++,i=""+i+"r"+l.toString(32)+"";return a.memoizedState=i},useHostTransitionStatus:cp,useFormState:wv,useActionState:wv,useOptimistic:function(a){var i=Ln();i.memoizedState=i.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=up.bind(null,je,!0,l),l.dispatch=i,[a,i]},useMemoCache:tp,useCacheRefresh:function(){return Ln().memoizedState=_S.bind(null,je)}},Hv={readContext:En,use:ed,useCallback:Mv,useContext:En,useEffect:Av,useImperativeHandle:kv,useInsertionEffect:Rv,useLayoutEffect:Cv,useMemo:Ov,useReducer:td,useRef:Sv,useState:function(){return td(Aa)},useDebugValue:sp,useDeferredValue:function(a,i){var l=Ht();return Iv(l,pt.memoizedState,a,i)},useTransition:function(){var a=td(Aa)[0],i=Ht().memoizedState;return[typeof a=="boolean"?a:$l(a),i]},useSyncExternalStore:cv,useId:Lv,useHostTransitionStatus:cp,useFormState:Ev,useActionState:Ev,useOptimistic:function(a,i){var l=Ht();return mv(l,pt,a,i)},useMemoCache:tp,useCacheRefresh:Uv},wS={readContext:En,use:ed,useCallback:Mv,useContext:En,useEffect:Av,useImperativeHandle:kv,useInsertionEffect:Rv,useLayoutEffect:Cv,useMemo:Ov,useReducer:rp,useRef:Sv,useState:function(){return rp(Aa)},useDebugValue:sp,useDeferredValue:function(a,i){var l=Ht();return pt===null?op(l,a,i):Iv(l,pt.memoizedState,a,i)},useTransition:function(){var a=rp(Aa)[0],i=Ht().memoizedState;return[typeof a=="boolean"?a:$l(a),i]},useSyncExternalStore:cv,useId:Lv,useHostTransitionStatus:cp,useFormState:Tv,useActionState:Tv,useOptimistic:function(a,i){var l=Ht();return pt!==null?mv(l,pt,a,i):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:tp,useCacheRefresh:Uv},So=null,Jl=0;function sd(a){var i=Jl;return Jl+=1,So===null&&(So=[]),tv(So,a,i)}function ec(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function od(a,i){throw i.$$typeof===b?Error(n(525)):(a=Object.prototype.toString.call(i),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function qv(a){var i=a._init;return i(a._payload)}function Qv(a){function i(z,F){if(a){var q=z.deletions;q===null?(z.deletions=[F],z.flags|=16):q.push(F)}}function l(z,F){if(!a)return null;for(;F!==null;)i(z,F),F=F.sibling;return null}function c(z){for(var F=new Map;z!==null;)z.key!==null?F.set(z.key,z):F.set(z.index,z),z=z.sibling;return F}function h(z,F){return z=Ea(z,F),z.index=0,z.sibling=null,z}function g(z,F,q){return z.index=q,a?(q=z.alternate,q!==null?(q=q.index,q<F?(z.flags|=67108866,F):q):(z.flags|=67108866,F)):(z.flags|=1048576,F)}function x(z){return a&&z.alternate===null&&(z.flags|=67108866),z}function T(z,F,q,se){return F===null||F.tag!==6?(F=kh(q,z.mode,se),F.return=z,F):(F=h(F,q),F.return=z,F)}function L(z,F,q,se){var be=q.type;return be===D?ae(z,F,q.props.children,se,q.key):F!==null&&(F.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&qv(be)===F.type)?(F=h(F,q.props),ec(F,q),F.return=z,F):(F=Yu(q.type,q.key,q.props,null,z.mode,se),ec(F,q),F.return=z,F)}function G(z,F,q,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=Mh(q,z.mode,se),F.return=z,F):(F=h(F,q.children||[]),F.return=z,F)}function ae(z,F,q,se,be){return F===null||F.tag!==7?(F=cs(q,z.mode,se,be),F.return=z,F):(F=h(F,q),F.return=z,F)}function le(z,F,q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=kh(""+F,z.mode,q),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return q=Yu(F.type,F.key,F.props,null,z.mode,q),ec(q,F),q.return=z,q;case S:return F=Mh(F,z.mode,q),F.return=z,F;case R:var se=F._init;return F=se(F._payload),le(z,F,q)}if(ve(F)||B(F))return F=cs(F,z.mode,q,null),F.return=z,F;if(typeof F.then=="function")return le(z,sd(F),q);if(F.$$typeof===Z)return le(z,Gu(z,F),q);od(z,F)}return null}function X(z,F,q,se){var be=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return be!==null?null:T(z,F,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===be?L(z,F,q,se):null;case S:return q.key===be?G(z,F,q,se):null;case R:return be=q._init,q=be(q._payload),X(z,F,q,se)}if(ve(q)||B(q))return be!==null?null:ae(z,F,q,se,null);if(typeof q.then=="function")return X(z,F,sd(q),se);if(q.$$typeof===Z)return X(z,F,Gu(z,q),se);od(z,q)}return null}function J(z,F,q,se,be){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return z=z.get(q)||null,T(F,z,""+se,be);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return z=z.get(se.key===null?q:se.key)||null,L(F,z,se,be);case S:return z=z.get(se.key===null?q:se.key)||null,G(F,z,se,be);case R:var Le=se._init;return se=Le(se._payload),J(z,F,q,se,be)}if(ve(se)||B(se))return z=z.get(q)||null,ae(F,z,se,be,null);if(typeof se.then=="function")return J(z,F,q,sd(se),be);if(se.$$typeof===Z)return J(z,F,q,Gu(F,se),be);od(F,se)}return null}function ke(z,F,q,se){for(var be=null,Le=null,Te=F,Ce=F=0,an=null;Te!==null&&Ce<q.length;Ce++){Te.index>Ce?(an=Te,Te=null):an=Te.sibling;var et=X(z,Te,q[Ce],se);if(et===null){Te===null&&(Te=an);break}a&&Te&&et.alternate===null&&i(z,Te),F=g(et,F,Ce),Le===null?be=et:Le.sibling=et,Le=et,Te=an}if(Ce===q.length)return l(z,Te),nt&&ds(z,Ce),be;if(Te===null){for(;Ce<q.length;Ce++)Te=le(z,q[Ce],se),Te!==null&&(F=g(Te,F,Ce),Le===null?be=Te:Le.sibling=Te,Le=Te);return nt&&ds(z,Ce),be}for(Te=c(Te);Ce<q.length;Ce++)an=J(Te,z,Ce,q[Ce],se),an!==null&&(a&&an.alternate!==null&&Te.delete(an.key===null?Ce:an.key),F=g(an,F,Ce),Le===null?be=an:Le.sibling=an,Le=an);return a&&Te.forEach(function(xi){return i(z,xi)}),nt&&ds(z,Ce),be}function Re(z,F,q,se){if(q==null)throw Error(n(151));for(var be=null,Le=null,Te=F,Ce=F=0,an=null,et=q.next();Te!==null&&!et.done;Ce++,et=q.next()){Te.index>Ce?(an=Te,Te=null):an=Te.sibling;var xi=X(z,Te,et.value,se);if(xi===null){Te===null&&(Te=an);break}a&&Te&&xi.alternate===null&&i(z,Te),F=g(xi,F,Ce),Le===null?be=xi:Le.sibling=xi,Le=xi,Te=an}if(et.done)return l(z,Te),nt&&ds(z,Ce),be;if(Te===null){for(;!et.done;Ce++,et=q.next())et=le(z,et.value,se),et!==null&&(F=g(et,F,Ce),Le===null?be=et:Le.sibling=et,Le=et);return nt&&ds(z,Ce),be}for(Te=c(Te);!et.done;Ce++,et=q.next())et=J(Te,z,Ce,et.value,se),et!==null&&(a&&et.alternate!==null&&Te.delete(et.key===null?Ce:et.key),F=g(et,F,Ce),Le===null?be=et:Le.sibling=et,Le=et);return a&&Te.forEach(function(ED){return i(z,ED)}),nt&&ds(z,Ce),be}function gt(z,F,q,se){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var be=q.key;F!==null;){if(F.key===be){if(be=q.type,be===D){if(F.tag===7){l(z,F.sibling),se=h(F,q.props.children),se.return=z,z=se;break e}}else if(F.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&qv(be)===F.type){l(z,F.sibling),se=h(F,q.props),ec(se,q),se.return=z,z=se;break e}l(z,F);break}else i(z,F);F=F.sibling}q.type===D?(se=cs(q.props.children,z.mode,se,q.key),se.return=z,z=se):(se=Yu(q.type,q.key,q.props,null,z.mode,se),ec(se,q),se.return=z,z=se)}return x(z);case S:e:{for(be=q.key;F!==null;){if(F.key===be)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){l(z,F.sibling),se=h(F,q.children||[]),se.return=z,z=se;break e}else{l(z,F);break}else i(z,F);F=F.sibling}se=Mh(q,z.mode,se),se.return=z,z=se}return x(z);case R:return be=q._init,q=be(q._payload),gt(z,F,q,se)}if(ve(q))return ke(z,F,q,se);if(B(q)){if(be=B(q),typeof be!="function")throw Error(n(150));return q=be.call(q),Re(z,F,q,se)}if(typeof q.then=="function")return gt(z,F,sd(q),se);if(q.$$typeof===Z)return gt(z,F,Gu(z,q),se);od(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,F!==null&&F.tag===6?(l(z,F.sibling),se=h(F,q),se.return=z,z=se):(l(z,F),se=kh(q,z.mode,se),se.return=z,z=se),x(z)):l(z,F)}return function(z,F,q,se){try{Jl=0;var be=gt(z,F,q,se);return So=null,be}catch(Te){if(Te===Hl||Te===Wu)throw Te;var Le=qn(29,Te,null,z.mode);return Le.lanes=se,Le.return=z,Le}finally{}}}var Do=Qv(!0),Gv=Qv(!1),fr=$(null),qr=null;function li(a){var i=a.alternate;ue(Jt,Jt.current&1),ue(fr,a),qr===null&&(i===null||wo.current!==null||i.memoizedState!==null)&&(qr=a)}function Kv(a){if(a.tag===22){if(ue(Jt,Jt.current),ue(fr,a),qr===null){var i=a.alternate;i!==null&&i.memoizedState!==null&&(qr=a)}}else ci()}function ci(){ue(Jt,Jt.current),ue(fr,fr.current)}function Ra(a){de(fr),qr===a&&(qr=null),de(Jt)}var Jt=$(0);function ld(a){for(var i=a;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||em(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function dp(a,i,l,c){i=a.memoizedState,l=l(c,i),l=l==null?i:y({},i,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var fp={enqueueSetState:function(a,i,l){a=a._reactInternals;var c=Wn(),h=ii(c);h.payload=i,l!=null&&(h.callback=l),i=si(a,h,c),i!==null&&($n(i,a,c),Ql(i,a,c))},enqueueReplaceState:function(a,i,l){a=a._reactInternals;var c=Wn(),h=ii(c);h.tag=1,h.payload=i,l!=null&&(h.callback=l),i=si(a,h,c),i!==null&&($n(i,a,c),Ql(i,a,c))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var l=Wn(),c=ii(l);c.tag=2,i!=null&&(c.callback=i),i=si(a,c,l),i!==null&&($n(i,a,l),Ql(i,a,l))}};function Wv(a,i,l,c,h,g,x){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(c,g,x):i.prototype&&i.prototype.isPureReactComponent?!jl(l,c)||!jl(h,g):!0}function $v(a,i,l,c){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==a&&fp.enqueueReplaceState(i,i.state,null)}function vs(a,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(a=a.defaultProps){l===i&&(l=y({},l));for(var h in a)l[h]===void 0&&(l[h]=a[h])}return l}var cd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Xv(a){cd(a)}function Zv(a){console.error(a)}function Jv(a){cd(a)}function ud(a,i){try{var l=a.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function e_(a,i,l){try{var c=a.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hp(a,i,l){return l=ii(l),l.tag=3,l.payload={element:null},l.callback=function(){ud(a,i)},l}function t_(a){return a=ii(a),a.tag=3,a}function n_(a,i,l,c){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;a.payload=function(){return h(g)},a.callback=function(){e_(i,l,c)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(a.callback=function(){e_(i,l,c),typeof h!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function ES(a,i,l,c,h){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&Fl(i,l,h,!0),l=fr.current,l!==null){switch(l.tag){case 13:return qr===null?Vp():l.alternate===null&&kt===0&&(kt=3),l.flags&=-257,l.flags|=65536,l.lanes=h,c===zh?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),Up(a,c,h)),!1;case 22:return l.flags|=65536,c===zh?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),Up(a,c,h)),!1}throw Error(n(435,l.tag))}return Up(a,c,h),Vp(),!1}if(nt)return i=fr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,c!==Ph&&(a=Error(n(422),{cause:c}),Bl(lr(a,l)))):(c!==Ph&&(i=Error(n(423),{cause:c}),Bl(lr(i,l))),a=a.current.alternate,a.flags|=65536,h&=-h,a.lanes|=h,c=lr(c,l),h=hp(a.stateNode,c,h),qh(a,h),kt!==4&&(kt=2)),!1;var g=Error(n(520),{cause:c});if(g=lr(g,l),oc===null?oc=[g]:oc.push(g),kt!==4&&(kt=2),i===null)return!0;c=lr(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,a=h&-h,l.lanes|=a,a=hp(l.stateNode,c,a),qh(l,a),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(mi===null||!mi.has(g))))return l.flags|=65536,h&=-h,l.lanes|=h,h=t_(h),n_(h,a,l,c),qh(l,h),!1}l=l.return}while(l!==null);return!1}var r_=Error(n(461)),nn=!1;function hn(a,i,l,c){i.child=a===null?Gv(i,null,l,c):Do(i,a.child,l,c)}function a_(a,i,l,c,h){l=l.render;var g=i.ref;if("ref"in c){var x={};for(var T in c)T!=="ref"&&(x[T]=c[T])}else x=c;return ms(i),c=$h(a,i,l,x,g,h),T=Xh(),a!==null&&!nn?(Zh(a,i,h),Ca(a,i,h)):(nt&&T&&Oh(i),i.flags|=1,hn(a,i,c,h),i.child)}function i_(a,i,l,c,h){if(a===null){var g=l.type;return typeof g=="function"&&!Nh(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,s_(a,i,g,c,h)):(a=Yu(l.type,null,c,i,i.mode,h),a.ref=i.ref,a.return=i,i.child=a)}if(g=a.child,!wp(a,h)){var x=g.memoizedProps;if(l=l.compare,l=l!==null?l:jl,l(x,c)&&a.ref===i.ref)return Ca(a,i,h)}return i.flags|=1,a=Ea(g,c),a.ref=i.ref,a.return=i,i.child=a}function s_(a,i,l,c,h){if(a!==null){var g=a.memoizedProps;if(jl(g,c)&&a.ref===i.ref)if(nn=!1,i.pendingProps=c=g,wp(a,h))(a.flags&131072)!==0&&(nn=!0);else return i.lanes=a.lanes,Ca(a,i,h)}return pp(a,i,l,c,h)}function o_(a,i,l){var c=i.pendingProps,h=c.children,g=a!==null?a.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=g!==null?g.baseLanes|l:l,a!==null){for(h=i.child=a.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;i.childLanes=g&~c}else i.childLanes=0,i.child=null;return l_(a,i,c,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ku(i,g!==null?g.cachePool:null),g!==null?sv(i,g):Gh(),Kv(i);else return i.lanes=i.childLanes=536870912,l_(a,i,g!==null?g.baseLanes|l:l,l)}else g!==null?(Ku(i,g.cachePool),sv(i,g),ci(),i.memoizedState=null):(a!==null&&Ku(i,null),Gh(),ci());return hn(a,i,h,l),i.child}function l_(a,i,l,c){var h=Fh();return h=h===null?null:{parent:Zt._currentValue,pool:h},i.memoizedState={baseLanes:l,cachePool:h},a!==null&&Ku(i,null),Gh(),Kv(i),a!==null&&Fl(a,i,c,!0),null}function dd(a,i){var l=i.ref;if(l===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(a===null||a.ref!==l)&&(i.flags|=4194816)}}function pp(a,i,l,c,h){return ms(i),l=$h(a,i,l,c,void 0,h),c=Xh(),a!==null&&!nn?(Zh(a,i,h),Ca(a,i,h)):(nt&&c&&Oh(i),i.flags|=1,hn(a,i,l,h),i.child)}function c_(a,i,l,c,h,g){return ms(i),i.updateQueue=null,l=lv(i,c,l,h),ov(a),c=Xh(),a!==null&&!nn?(Zh(a,i,g),Ca(a,i,g)):(nt&&c&&Oh(i),i.flags|=1,hn(a,i,l,g),i.child)}function u_(a,i,l,c,h){if(ms(i),i.stateNode===null){var g=go,x=l.contextType;typeof x=="object"&&x!==null&&(g=En(x)),g=new l(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=fp,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Yh(i),x=l.contextType,g.context=typeof x=="object"&&x!==null?En(x):go,g.state=i.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(dp(i,l,x,c),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&fp.enqueueReplaceState(g,g.state,null),Kl(i,c,g,h),Gl(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(a===null){g=i.stateNode;var T=i.memoizedProps,L=vs(l,T);g.props=L;var G=g.context,ae=l.contextType;x=go,typeof ae=="object"&&ae!==null&&(x=En(ae));var le=l.getDerivedStateFromProps;ae=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||G!==x)&&$v(i,g,c,x),ai=!1;var X=i.memoizedState;g.state=X,Kl(i,c,g,h),Gl(),G=i.memoizedState,T||X!==G||ai?(typeof le=="function"&&(dp(i,l,le,c),G=i.memoizedState),(L=ai||Wv(i,l,L,c,X,G,x))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=G),g.props=c,g.state=G,g.context=x,c=L):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Hh(a,i),x=i.memoizedProps,ae=vs(l,x),g.props=ae,le=i.pendingProps,X=g.context,G=l.contextType,L=go,typeof G=="object"&&G!==null&&(L=En(G)),T=l.getDerivedStateFromProps,(G=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==le||X!==L)&&$v(i,g,c,L),ai=!1,X=i.memoizedState,g.state=X,Kl(i,c,g,h),Gl();var J=i.memoizedState;x!==le||X!==J||ai||a!==null&&a.dependencies!==null&&Qu(a.dependencies)?(typeof T=="function"&&(dp(i,l,T,c),J=i.memoizedState),(ae=ai||Wv(i,l,ae,c,X,J,L)||a!==null&&a.dependencies!==null&&Qu(a.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,L)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===a.memoizedProps&&X===a.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===a.memoizedProps&&X===a.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=J),g.props=c,g.state=J,g.context=L,c=ae):(typeof g.componentDidUpdate!="function"||x===a.memoizedProps&&X===a.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===a.memoizedProps&&X===a.memoizedState||(i.flags|=1024),c=!1)}return g=c,dd(a,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,a!==null&&c?(i.child=Do(i,a.child,null,h),i.child=Do(i,null,l,h)):hn(a,i,l,h),i.memoizedState=g.state,a=i.child):a=Ca(a,i,h),a}function d_(a,i,l,c){return Ul(),i.flags|=256,hn(a,i,l,c),i.child}var mp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(a){return{baseLanes:a,cachePool:Zy()}}function yp(a,i,l){return a=a!==null?a.childLanes&~l:0,i&&(a|=hr),a}function f_(a,i,l){var c=i.pendingProps,h=!1,g=(i.flags&128)!==0,x;if((x=g)||(x=a!==null&&a.memoizedState===null?!1:(Jt.current&2)!==0),x&&(h=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,a===null){if(nt){if(h?li(i):ci(),nt){var T=Nt,L;if(L=T){e:{for(L=T,T=Hr;L.nodeType!==8;){if(!T){T=null;break e}if(L=Ar(L.nextSibling),L===null){T=null;break e}}T=L}T!==null?(i.memoizedState={dehydrated:T,treeContext:us!==null?{id:xa,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},L=qn(18,null,null,0),L.stateNode=T,L.return=i,i.child=L,On=i,Nt=null,L=!0):L=!1}L||hs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return em(T)?i.lanes=32:i.lanes=536870912,null;Ra(i)}return T=c.children,c=c.fallback,h?(ci(),h=i.mode,T=fd({mode:"hidden",children:T},h),c=cs(c,h,l,null),T.return=i,c.return=i,T.sibling=c,i.child=T,h=i.child,h.memoizedState=gp(l),h.childLanes=yp(a,x,l),i.memoizedState=mp,c):(li(i),vp(i,T))}if(L=a.memoizedState,L!==null&&(T=L.dehydrated,T!==null)){if(g)i.flags&256?(li(i),i.flags&=-257,i=_p(a,i,l)):i.memoizedState!==null?(ci(),i.child=a.child,i.flags|=128,i=null):(ci(),h=c.fallback,T=i.mode,c=fd({mode:"visible",children:c.children},T),h=cs(h,T,l,null),h.flags|=2,c.return=i,h.return=i,c.sibling=h,i.child=c,Do(i,a.child,null,l),c=i.child,c.memoizedState=gp(l),c.childLanes=yp(a,x,l),i.memoizedState=mp,i=h);else if(li(i),em(T)){if(x=T.nextSibling&&T.nextSibling.dataset,x)var G=x.dgst;x=G,c=Error(n(419)),c.stack="",c.digest=x,Bl({value:c,source:null,stack:null}),i=_p(a,i,l)}else if(nn||Fl(a,i,l,!1),x=(l&a.childLanes)!==0,nn||x){if(x=wt,x!==null&&(c=l&-l,c=(c&42)!==0?1:$a(c),c=(c&(x.suspendedLanes|l))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,mo(a,c),$n(x,a,c),r_;T.data==="$?"||Vp(),i=_p(a,i,l)}else T.data==="$?"?(i.flags|=192,i.child=a.child,i=null):(a=L.treeContext,Nt=Ar(T.nextSibling),On=i,nt=!0,fs=null,Hr=!1,a!==null&&(ur[dr++]=xa,ur[dr++]=Ta,ur[dr++]=us,xa=a.id,Ta=a.overflow,us=i),i=vp(i,c.children),i.flags|=4096);return i}return h?(ci(),h=c.fallback,T=i.mode,L=a.child,G=L.sibling,c=Ea(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,G!==null?h=Ea(G,h):(h=cs(h,T,l,null),h.flags|=2),h.return=i,c.return=i,c.sibling=h,i.child=c,c=h,h=i.child,T=a.child.memoizedState,T===null?T=gp(l):(L=T.cachePool,L!==null?(G=Zt._currentValue,L=L.parent!==G?{parent:G,pool:G}:L):L=Zy(),T={baseLanes:T.baseLanes|l,cachePool:L}),h.memoizedState=T,h.childLanes=yp(a,x,l),i.memoizedState=mp,c):(li(i),l=a.child,a=l.sibling,l=Ea(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,a!==null&&(x=i.deletions,x===null?(i.deletions=[a],i.flags|=16):x.push(a)),i.child=l,i.memoizedState=null,l)}function vp(a,i){return i=fd({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function fd(a,i){return a=qn(22,a,null,i),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function _p(a,i,l){return Do(i,a.child,null,l),a=vp(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function h_(a,i,l){a.lanes|=i;var c=a.alternate;c!==null&&(c.lanes|=i),Vh(a.return,i,l)}function bp(a,i,l,c,h){var g=a.memoizedState;g===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:h}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=h)}function p_(a,i,l){var c=i.pendingProps,h=c.revealOrder,g=c.tail;if(hn(a,i,c.children,l),c=Jt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&h_(a,l,i);else if(a.tag===19)h_(a,l,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}c&=1}switch(ue(Jt,c),h){case"forwards":for(l=i.child,h=null;l!==null;)a=l.alternate,a!==null&&ld(a)===null&&(h=l),l=l.sibling;l=h,l===null?(h=i.child,i.child=null):(h=l.sibling,l.sibling=null),bp(i,!1,h,l,g);break;case"backwards":for(l=null,h=i.child,i.child=null;h!==null;){if(a=h.alternate,a!==null&&ld(a)===null){i.child=h;break}a=h.sibling,h.sibling=l,l=h,h=a}bp(i,!0,l,null,g);break;case"together":bp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ca(a,i,l){if(a!==null&&(i.dependencies=a.dependencies),pi|=i.lanes,(l&i.childLanes)===0)if(a!==null){if(Fl(a,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(n(153));if(i.child!==null){for(a=i.child,l=Ea(a,a.pendingProps),i.child=l,l.return=i;a.sibling!==null;)a=a.sibling,l=l.sibling=Ea(a,a.pendingProps),l.return=i;l.sibling=null}return i.child}function wp(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&Qu(a)))}function xS(a,i,l){switch(i.tag){case 3:Ye(i,i.stateNode.containerInfo),ri(i,Zt,a.memoizedState.cache),Ul();break;case 27:case 5:tr(i);break;case 4:Ye(i,i.stateNode.containerInfo);break;case 10:ri(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(li(i),i.flags|=128,null):(l&i.child.childLanes)!==0?f_(a,i,l):(li(i),a=Ca(a,i,l),a!==null?a.sibling:null);li(i);break;case 19:var h=(a.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(Fl(a,i,l,!1),c=(l&i.childLanes)!==0),h){if(c)return p_(a,i,l);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ue(Jt,Jt.current),c)break;return null;case 22:case 23:return i.lanes=0,o_(a,i,l);case 24:ri(i,Zt,a.memoizedState.cache)}return Ca(a,i,l)}function m_(a,i,l){if(a!==null)if(a.memoizedProps!==i.pendingProps)nn=!0;else{if(!wp(a,l)&&(i.flags&128)===0)return nn=!1,xS(a,i,l);nn=(a.flags&131072)!==0}else nn=!1,nt&&(i.flags&1048576)!==0&&qy(i,qu,i.index);switch(i.lanes=0,i.tag){case 16:e:{a=i.pendingProps;var c=i.elementType,h=c._init;if(c=h(c._payload),i.type=c,typeof c=="function")Nh(c)?(a=vs(c,a),i.tag=1,i=u_(null,i,c,a,l)):(i.tag=0,i=pp(null,i,c,a,l));else{if(c!=null){if(h=c.$$typeof,h===te){i.tag=11,i=a_(null,i,c,a,l);break e}else if(h===O){i.tag=14,i=i_(null,i,c,a,l);break e}}throw i=Ae(c)||c,Error(n(306,i,""))}}return i;case 0:return pp(a,i,i.type,i.pendingProps,l);case 1:return c=i.type,h=vs(c,i.pendingProps),u_(a,i,c,h,l);case 3:e:{if(Ye(i,i.stateNode.containerInfo),a===null)throw Error(n(387));c=i.pendingProps;var g=i.memoizedState;h=g.element,Hh(a,i),Kl(i,c,null,l);var x=i.memoizedState;if(c=x.cache,ri(i,Zt,c),c!==g.cache&&Lh(i,[Zt],l,!0),Gl(),c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=d_(a,i,c,l);break e}else if(c!==h){h=lr(Error(n(424)),i),Bl(h),i=d_(a,i,c,l);break e}else{switch(a=i.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Nt=Ar(a.firstChild),On=i,nt=!0,fs=null,Hr=!0,l=Gv(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ul(),c===h){i=Ca(a,i,l);break e}hn(a,i,c,l)}i=i.child}return i;case 26:return dd(a,i),a===null?(l=_0(i.type,null,i.pendingProps,null))?i.memoizedState=l:nt||(l=i.type,a=i.pendingProps,c=Dd(xe.current).createElement(l),c[Wt]=i,c[Ft]=a,mn(c,l,a),Pt(c),i.stateNode=c):i.memoizedState=_0(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return tr(i),a===null&&nt&&(c=i.stateNode=g0(i.type,i.pendingProps,xe.current),On=i,Hr=!0,h=Nt,vi(i.type)?(tm=h,Nt=Ar(c.firstChild)):Nt=h),hn(a,i,i.pendingProps.children,l),dd(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&nt&&((h=c=Nt)&&(c=XS(c,i.type,i.pendingProps,Hr),c!==null?(i.stateNode=c,On=i,Nt=Ar(c.firstChild),Hr=!1,h=!0):h=!1),h||hs(i)),tr(i),h=i.type,g=i.pendingProps,x=a!==null?a.memoizedProps:null,c=g.children,Xp(h,g)?c=null:x!==null&&Xp(h,x)&&(i.flags|=32),i.memoizedState!==null&&(h=$h(a,i,mS,null,null,l),gc._currentValue=h),dd(a,i),hn(a,i,c,l),i.child;case 6:return a===null&&nt&&((a=l=Nt)&&(l=ZS(l,i.pendingProps,Hr),l!==null?(i.stateNode=l,On=i,Nt=null,a=!0):a=!1),a||hs(i)),null;case 13:return f_(a,i,l);case 4:return Ye(i,i.stateNode.containerInfo),c=i.pendingProps,a===null?i.child=Do(i,null,c,l):hn(a,i,c,l),i.child;case 11:return a_(a,i,i.type,i.pendingProps,l);case 7:return hn(a,i,i.pendingProps,l),i.child;case 8:return hn(a,i,i.pendingProps.children,l),i.child;case 12:return hn(a,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,ri(i,i.type,c.value),hn(a,i,c.children,l),i.child;case 9:return h=i.type._context,c=i.pendingProps.children,ms(i),h=En(h),c=c(h),i.flags|=1,hn(a,i,c,l),i.child;case 14:return i_(a,i,i.type,i.pendingProps,l);case 15:return s_(a,i,i.type,i.pendingProps,l);case 19:return p_(a,i,l);case 31:return c=i.pendingProps,l=i.mode,c={mode:c.mode,children:c.children},a===null?(l=fd(c,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=Ea(a.child,c),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return o_(a,i,l);case 24:return ms(i),c=En(Zt),a===null?(h=Fh(),h===null&&(h=wt,g=Uh(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=l),h=g),i.memoizedState={parent:c,cache:h},Yh(i),ri(i,Zt,h)):((a.lanes&l)!==0&&(Hh(a,i),Kl(i,null,null,l),Gl()),h=a.memoizedState,g=i.memoizedState,h.parent!==c?(h={parent:c,cache:c},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ri(i,Zt,c)):(c=g.cache,ri(i,Zt,c),c!==h.cache&&Lh(i,[Zt],l,!0))),hn(a,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function Na(a){a.flags|=4}function g_(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!T0(i)){if(i=fr.current,i!==null&&((Qe&4194048)===Qe?qr!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||i!==qr))throw ql=zh,Jy;a.flags|=8192}}function hd(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?vl():536870912,a.lanes|=i,No|=i)}function tc(a,i){if(!nt)switch(a.tailMode){case"hidden":i=a.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:c.sibling=null}}function St(a){var i=a.alternate!==null&&a.alternate.child===a.child,l=0,c=0;if(i)for(var h=a.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=a,h=h.sibling;else for(h=a.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=a,h=h.sibling;return a.subtreeFlags|=c,a.childLanes=l,i}function TS(a,i,l){var c=i.pendingProps;switch(Ih(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(i),null;case 1:return St(i),null;case 3:return l=i.stateNode,c=null,a!==null&&(c=a.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Da(Zt),Cn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Ll(i)?Na(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ky())),St(i),null;case 26:return l=i.memoizedState,a===null?(Na(i),l!==null?(St(i),g_(i,l)):(St(i),i.flags&=-16777217)):l?l!==a.memoizedState?(Na(i),St(i),g_(i,l)):(St(i),i.flags&=-16777217):(a.memoizedProps!==c&&Na(i),St(i),i.flags&=-16777217),null;case 27:zn(i),l=xe.current;var h=i.type;if(a!==null&&i.stateNode!=null)a.memoizedProps!==c&&Na(i);else{if(!c){if(i.stateNode===null)throw Error(n(166));return St(i),null}a=_e.current,Ll(i)?Qy(i):(a=g0(h,c,l),i.stateNode=a,Na(i))}return St(i),null;case 5:if(zn(i),l=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==c&&Na(i);else{if(!c){if(i.stateNode===null)throw Error(n(166));return St(i),null}if(a=_e.current,Ll(i))Qy(i);else{switch(h=Dd(xe.current),a){case 1:a=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=h.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?a.multiple=!0:c.size&&(a.size=c.size);break;default:a=typeof c.is=="string"?h.createElement(l,{is:c.is}):h.createElement(l)}}a[Wt]=i,a[Ft]=c;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=a;e:switch(mn(a,l,c),l){case"button":case"input":case"select":case"textarea":a=!!c.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Na(i)}}return St(i),i.flags&=-16777217,null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==c&&Na(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(n(166));if(a=xe.current,Ll(i)){if(a=i.stateNode,l=i.memoizedProps,c=null,h=On,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}a[Wt]=i,a=!!(a.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||c0(a.nodeValue,l)),a||hs(i)}else a=Dd(a).createTextNode(c),a[Wt]=i,i.stateNode=a}return St(i),null;case 13:if(c=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(h=Ll(i),c!==null&&c.dehydrated!==null){if(a===null){if(!h)throw Error(n(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[Wt]=i}else Ul(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;St(i),h=!1}else h=Ky(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ra(i),i):(Ra(i),null)}if(Ra(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=c!==null,a=a!==null&&a.memoizedState!==null,l){c=i.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)}return l!==a&&l&&(i.child.flags|=8192),hd(i,i.updateQueue),St(i),null;case 4:return Cn(),a===null&&Qp(i.stateNode.containerInfo),St(i),null;case 10:return Da(i.type),St(i),null;case 19:if(de(Jt),h=i.memoizedState,h===null)return St(i),null;if(c=(i.flags&128)!==0,g=h.rendering,g===null)if(c)tc(h,!1);else{if(kt!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(g=ld(a),g!==null){for(i.flags|=128,tc(h,!1),a=g.updateQueue,i.updateQueue=a,hd(i,a),i.subtreeFlags=0,a=l,l=i.child;l!==null;)Hy(l,a),l=l.sibling;return ue(Jt,Jt.current&1|2),i.child}a=a.sibling}h.tail!==null&&K()>gd&&(i.flags|=128,c=!0,tc(h,!1),i.lanes=4194304)}else{if(!c)if(a=ld(g),a!==null){if(i.flags|=128,c=!0,a=a.updateQueue,i.updateQueue=a,hd(i,a),tc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!nt)return St(i),null}else 2*K()-h.renderingStartTime>gd&&l!==536870912&&(i.flags|=128,c=!0,tc(h,!1),i.lanes=4194304);h.isBackwards?(g.sibling=i.child,i.child=g):(a=h.last,a!==null?a.sibling=g:i.child=g,h.last=g)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=K(),i.sibling=null,a=Jt.current,ue(Jt,c?a&1|2:a&1),i):(St(i),null);case 22:case 23:return Ra(i),Kh(),c=i.memoizedState!==null,a!==null?a.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(St(i),i.subtreeFlags&6&&(i.flags|=8192)):St(i),l=i.updateQueue,l!==null&&hd(i,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),a!==null&&de(gs),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Da(Zt),St(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function SS(a,i){switch(Ih(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return Da(Zt),Cn(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return zn(i),null;case 13:if(Ra(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ul()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return de(Jt),null;case 4:return Cn(),null;case 10:return Da(i.type),null;case 22:case 23:return Ra(i),Kh(),a!==null&&de(gs),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return Da(Zt),null;case 25:return null;default:return null}}function y_(a,i){switch(Ih(i),i.tag){case 3:Da(Zt),Cn();break;case 26:case 27:case 5:zn(i);break;case 4:Cn();break;case 13:Ra(i);break;case 19:de(Jt);break;case 10:Da(i.type);break;case 22:case 23:Ra(i),Kh(),a!==null&&de(gs);break;case 24:Da(Zt)}}function nc(a,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&a)===a){c=void 0;var g=l.create,x=l.inst;c=g(),x.destroy=c}l=l.next}while(l!==h)}}catch(T){_t(i,i.return,T)}}function ui(a,i,l){try{var c=i.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&a)===a){var x=c.inst,T=x.destroy;if(T!==void 0){x.destroy=void 0,h=i;var L=l,G=T;try{G()}catch(ae){_t(h,L,ae)}}}c=c.next}while(c!==g)}}catch(ae){_t(i,i.return,ae)}}function v_(a){var i=a.updateQueue;if(i!==null){var l=a.stateNode;try{iv(i,l)}catch(c){_t(a,a.return,c)}}}function __(a,i,l){l.props=vs(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(c){_t(a,i,c)}}function rc(a,i){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var c=a.stateNode;break;case 30:c=a.stateNode;break;default:c=a.stateNode}typeof l=="function"?a.refCleanup=l(c):l.current=c}}catch(h){_t(a,i,h)}}function Qr(a,i){var l=a.ref,c=a.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(h){_t(a,i,h)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){_t(a,i,h)}else l.current=null}function b_(a){var i=a.type,l=a.memoizedProps,c=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(h){_t(a,a.return,h)}}function Ep(a,i,l){try{var c=a.stateNode;QS(c,a.type,l,i),c[Ft]=i}catch(h){_t(a,a.return,h)}}function w_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&vi(a.type)||a.tag===4}function xp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||w_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&vi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Tp(a,i,l){var c=a.tag;if(c===5||c===6)a=a.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(a),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Sd));else if(c!==4&&(c===27&&vi(a.type)&&(l=a.stateNode,i=null),a=a.child,a!==null))for(Tp(a,i,l),a=a.sibling;a!==null;)Tp(a,i,l),a=a.sibling}function pd(a,i,l){var c=a.tag;if(c===5||c===6)a=a.stateNode,i?l.insertBefore(a,i):l.appendChild(a);else if(c!==4&&(c===27&&vi(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(pd(a,i,l),a=a.sibling;a!==null;)pd(a,i,l),a=a.sibling}function E_(a){var i=a.stateNode,l=a.memoizedProps;try{for(var c=a.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);mn(i,c,l),i[Wt]=a,i[Ft]=l}catch(g){_t(a,a.return,g)}}var ka=!1,Vt=!1,Sp=!1,x_=typeof WeakSet=="function"?WeakSet:Set,rn=null;function DS(a,i){if(a=a.containerInfo,Wp=Md,a=Iy(a),xh(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var x=0,T=-1,L=-1,G=0,ae=0,le=a,X=null;t:for(;;){for(var J;le!==l||h!==0&&le.nodeType!==3||(T=x+h),le!==g||c!==0&&le.nodeType!==3||(L=x+c),le.nodeType===3&&(x+=le.nodeValue.length),(J=le.firstChild)!==null;)X=le,le=J;for(;;){if(le===a)break t;if(X===l&&++G===h&&(T=x),X===g&&++ae===c&&(L=x),(J=le.nextSibling)!==null)break;le=X,X=le.parentNode}le=J}l=T===-1||L===-1?null:{start:T,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for($p={focusedElem:a,selectionRange:l},Md=!1,rn=i;rn!==null;)if(i=rn,a=i.child,(i.subtreeFlags&1024)!==0&&a!==null)a.return=i,rn=a;else for(;rn!==null;){switch(i=rn,g=i.alternate,a=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&g!==null){a=void 0,l=i,h=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var ke=vs(l.type,h,l.elementType===l.type);a=c.getSnapshotBeforeUpdate(ke,g),c.__reactInternalSnapshotBeforeUpdate=a}catch(Re){_t(l,l.return,Re)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,l=a.nodeType,l===9)Jp(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Jp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=i.sibling,a!==null){a.return=i.return,rn=a;break}rn=i.return}}function T_(a,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:di(a,l),c&4&&nc(5,l);break;case 1:if(di(a,l),c&4)if(a=l.stateNode,i===null)try{a.componentDidMount()}catch(x){_t(l,l.return,x)}else{var h=vs(l.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(h,i,a.__reactInternalSnapshotBeforeUpdate)}catch(x){_t(l,l.return,x)}}c&64&&v_(l),c&512&&rc(l,l.return);break;case 3:if(di(a,l),c&64&&(a=l.updateQueue,a!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{iv(a,i)}catch(x){_t(l,l.return,x)}}break;case 27:i===null&&c&4&&E_(l);case 26:case 5:di(a,l),i===null&&c&4&&b_(l),c&512&&rc(l,l.return);break;case 12:di(a,l);break;case 13:di(a,l),c&4&&A_(a,l),c&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=PS.bind(null,l),JS(a,l))));break;case 22:if(c=l.memoizedState!==null||ka,!c){i=i!==null&&i.memoizedState!==null||Vt,h=ka;var g=Vt;ka=c,(Vt=i)&&!g?fi(a,l,(l.subtreeFlags&8772)!==0):di(a,l),ka=h,Vt=g}break;case 30:break;default:di(a,l)}}function S_(a){var i=a.alternate;i!==null&&(a.alternate=null,S_(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&Ja(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var xt=null,Un=!1;function Ma(a,i,l){for(l=l.child;l!==null;)D_(a,i,l),l=l.sibling}function D_(a,i,l){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(ft,l)}catch{}switch(l.tag){case 26:Vt||Qr(l,i),Ma(a,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Vt||Qr(l,i);var c=xt,h=Un;vi(l.type)&&(xt=l.stateNode,Un=!1),Ma(a,i,l),fc(l.stateNode),xt=c,Un=h;break;case 5:Vt||Qr(l,i);case 6:if(c=xt,h=Un,xt=null,Ma(a,i,l),xt=c,Un=h,xt!==null)if(Un)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(l.stateNode)}catch(g){_t(l,i,g)}else try{xt.removeChild(l.stateNode)}catch(g){_t(l,i,g)}break;case 18:xt!==null&&(Un?(a=xt,p0(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),bc(a)):p0(xt,l.stateNode));break;case 4:c=xt,h=Un,xt=l.stateNode.containerInfo,Un=!0,Ma(a,i,l),xt=c,Un=h;break;case 0:case 11:case 14:case 15:Vt||ui(2,l,i),Vt||ui(4,l,i),Ma(a,i,l);break;case 1:Vt||(Qr(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&__(l,i,c)),Ma(a,i,l);break;case 21:Ma(a,i,l);break;case 22:Vt=(c=Vt)||l.memoizedState!==null,Ma(a,i,l),Vt=c;break;default:Ma(a,i,l)}}function A_(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{bc(a)}catch(l){_t(i,i.return,l)}}function AS(a){switch(a.tag){case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new x_),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new x_),i;default:throw Error(n(435,a.tag))}}function Dp(a,i){var l=AS(a);i.forEach(function(c){var h=jS.bind(null,a,c);l.has(c)||(l.add(c),c.then(h,h))})}function Qn(a,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var h=l[c],g=a,x=i,T=x;e:for(;T!==null;){switch(T.tag){case 27:if(vi(T.type)){xt=T.stateNode,Un=!1;break e}break;case 5:xt=T.stateNode,Un=!1;break e;case 3:case 4:xt=T.stateNode.containerInfo,Un=!0;break e}T=T.return}if(xt===null)throw Error(n(160));D_(g,x,h),xt=null,Un=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)R_(i,a),i=i.sibling}var Dr=null;function R_(a,i){var l=a.alternate,c=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Qn(i,a),Gn(a),c&4&&(ui(3,a,a.return),nc(3,a),ui(5,a,a.return));break;case 1:Qn(i,a),Gn(a),c&512&&(Vt||l===null||Qr(l,l.return)),c&64&&ka&&(a=a.updateQueue,a!==null&&(c=a.callbacks,c!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var h=Dr;if(Qn(i,a),Gn(a),c&512&&(Vt||l===null||Qr(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=a.memoizedState,l===null)if(c===null)if(a.stateNode===null){e:{c=a.type,l=a.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Gi]||g[Wt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),mn(g,c,l),g[Wt]=a,Pt(g),c=g;break e;case"link":var x=E0("link","href",h).get(c+(l.href||""));if(x){for(var T=0;T<x.length;T++)if(g=x[T],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(T,1);break t}}g=h.createElement(c),mn(g,c,l),h.head.appendChild(g);break;case"meta":if(x=E0("meta","content",h).get(c+(l.content||""))){for(T=0;T<x.length;T++)if(g=x[T],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(T,1);break t}}g=h.createElement(c),mn(g,c,l),h.head.appendChild(g);break;default:throw Error(n(468,c))}g[Wt]=a,Pt(g),c=g}a.stateNode=c}else x0(h,a.type,a.stateNode);else a.stateNode=w0(h,c,a.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?x0(h,a.type,a.stateNode):w0(h,c,a.memoizedProps)):c===null&&a.stateNode!==null&&Ep(a,a.memoizedProps,l.memoizedProps)}break;case 27:Qn(i,a),Gn(a),c&512&&(Vt||l===null||Qr(l,l.return)),l!==null&&c&4&&Ep(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Qn(i,a),Gn(a),c&512&&(Vt||l===null||Qr(l,l.return)),a.flags&32){h=a.stateNode;try{ar(h,"")}catch(J){_t(a,a.return,J)}}c&4&&a.stateNode!=null&&(h=a.memoizedProps,Ep(a,h,l!==null?l.memoizedProps:h)),c&1024&&(Sp=!0);break;case 6:if(Qn(i,a),Gn(a),c&4){if(a.stateNode===null)throw Error(n(162));c=a.memoizedProps,l=a.stateNode;try{l.nodeValue=c}catch(J){_t(a,a.return,J)}}break;case 3:if(Cd=null,h=Dr,Dr=Ad(i.containerInfo),Qn(i,a),Dr=h,Gn(a),c&4&&l!==null&&l.memoizedState.isDehydrated)try{bc(i.containerInfo)}catch(J){_t(a,a.return,J)}Sp&&(Sp=!1,C_(a));break;case 4:c=Dr,Dr=Ad(a.stateNode.containerInfo),Qn(i,a),Gn(a),Dr=c;break;case 12:Qn(i,a),Gn(a);break;case 13:Qn(i,a),Gn(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Mp=K()),c&4&&(c=a.updateQueue,c!==null&&(a.updateQueue=null,Dp(a,c)));break;case 22:h=a.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,G=ka,ae=Vt;if(ka=G||h,Vt=ae||L,Qn(i,a),Vt=ae,ka=G,Gn(a),c&8192)e:for(i=a.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(l===null||L||ka||Vt||_s(a)),l=null,i=a;;){if(i.tag===5||i.tag===26){if(l===null){L=l=i;try{if(g=L.stateNode,h)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{T=L.stateNode;var le=L.memoizedProps.style,X=le!=null&&le.hasOwnProperty("display")?le.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(J){_t(L,L.return,J)}}}else if(i.tag===6){if(l===null){L=i;try{L.stateNode.nodeValue=h?"":L.memoizedProps}catch(J){_t(L,L.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=a.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Dp(a,l))));break;case 19:Qn(i,a),Gn(a),c&4&&(c=a.updateQueue,c!==null&&(a.updateQueue=null,Dp(a,c)));break;case 30:break;case 21:break;default:Qn(i,a),Gn(a)}}function Gn(a){var i=a.flags;if(i&2){try{for(var l,c=a.return;c!==null;){if(w_(c)){l=c;break}c=c.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var h=l.stateNode,g=xp(a);pd(a,g,h);break;case 5:var x=l.stateNode;l.flags&32&&(ar(x,""),l.flags&=-33);var T=xp(a);pd(a,T,x);break;case 3:case 4:var L=l.stateNode.containerInfo,G=xp(a);Tp(a,G,L);break;default:throw Error(n(161))}}catch(ae){_t(a,a.return,ae)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function C_(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;C_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function di(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)T_(a,i.alternate,i),i=i.sibling}function _s(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:ui(4,i,i.return),_s(i);break;case 1:Qr(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&__(i,i.return,l),_s(i);break;case 27:fc(i.stateNode);case 26:case 5:Qr(i,i.return),_s(i);break;case 22:i.memoizedState===null&&_s(i);break;case 30:_s(i);break;default:_s(i)}a=a.sibling}}function fi(a,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,h=a,g=i,x=g.flags;switch(g.tag){case 0:case 11:case 15:fi(h,g,l),nc(4,g);break;case 1:if(fi(h,g,l),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){_t(c,c.return,G)}if(c=g,h=c.updateQueue,h!==null){var T=c.stateNode;try{var L=h.shared.hiddenCallbacks;if(L!==null)for(h.shared.hiddenCallbacks=null,h=0;h<L.length;h++)av(L[h],T)}catch(G){_t(c,c.return,G)}}l&&x&64&&v_(g),rc(g,g.return);break;case 27:E_(g);case 26:case 5:fi(h,g,l),l&&c===null&&x&4&&b_(g),rc(g,g.return);break;case 12:fi(h,g,l);break;case 13:fi(h,g,l),l&&x&4&&A_(h,g);break;case 22:g.memoizedState===null&&fi(h,g,l),rc(g,g.return);break;case 30:break;default:fi(h,g,l)}i=i.sibling}}function Ap(a,i){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&zl(l))}function Rp(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&zl(a))}function Gr(a,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(a,i,l,c),i=i.sibling}function N_(a,i,l,c){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Gr(a,i,l,c),h&2048&&nc(9,i);break;case 1:Gr(a,i,l,c);break;case 3:Gr(a,i,l,c),h&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&zl(a)));break;case 12:if(h&2048){Gr(a,i,l,c),a=i.stateNode;try{var g=i.memoizedProps,x=g.id,T=g.onPostCommit;typeof T=="function"&&T(x,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(L){_t(i,i.return,L)}}else Gr(a,i,l,c);break;case 13:Gr(a,i,l,c);break;case 23:break;case 22:g=i.stateNode,x=i.alternate,i.memoizedState!==null?g._visibility&2?Gr(a,i,l,c):ac(a,i):g._visibility&2?Gr(a,i,l,c):(g._visibility|=2,Ao(a,i,l,c,(i.subtreeFlags&10256)!==0)),h&2048&&Ap(x,i);break;case 24:Gr(a,i,l,c),h&2048&&Rp(i.alternate,i);break;default:Gr(a,i,l,c)}}function Ao(a,i,l,c,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=a,x=i,T=l,L=c,G=x.flags;switch(x.tag){case 0:case 11:case 15:Ao(g,x,T,L,h),nc(8,x);break;case 23:break;case 22:var ae=x.stateNode;x.memoizedState!==null?ae._visibility&2?Ao(g,x,T,L,h):ac(g,x):(ae._visibility|=2,Ao(g,x,T,L,h)),h&&G&2048&&Ap(x.alternate,x);break;case 24:Ao(g,x,T,L,h),h&&G&2048&&Rp(x.alternate,x);break;default:Ao(g,x,T,L,h)}i=i.sibling}}function ac(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=a,c=i,h=c.flags;switch(c.tag){case 22:ac(l,c),h&2048&&Ap(c.alternate,c);break;case 24:ac(l,c),h&2048&&Rp(c.alternate,c);break;default:ac(l,c)}i=i.sibling}}var ic=8192;function Ro(a){if(a.subtreeFlags&ic)for(a=a.child;a!==null;)k_(a),a=a.sibling}function k_(a){switch(a.tag){case 26:Ro(a),a.flags&ic&&a.memoizedState!==null&&fD(Dr,a.memoizedState,a.memoizedProps);break;case 5:Ro(a);break;case 3:case 4:var i=Dr;Dr=Ad(a.stateNode.containerInfo),Ro(a),Dr=i;break;case 22:a.memoizedState===null&&(i=a.alternate,i!==null&&i.memoizedState!==null?(i=ic,ic=16777216,Ro(a),ic=i):Ro(a));break;default:Ro(a)}}function M_(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function sc(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];rn=c,I_(c,a)}M_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)O_(a),a=a.sibling}function O_(a){switch(a.tag){case 0:case 11:case 15:sc(a),a.flags&2048&&ui(9,a,a.return);break;case 3:sc(a);break;case 12:sc(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,md(a)):sc(a);break;default:sc(a)}}function md(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];rn=c,I_(c,a)}M_(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:ui(8,i,i.return),md(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,md(i));break;default:md(i)}a=a.sibling}}function I_(a,i){for(;rn!==null;){var l=rn;switch(l.tag){case 0:case 11:case 15:ui(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:zl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,rn=c;else e:for(l=a;rn!==null;){c=rn;var h=c.sibling,g=c.return;if(S_(c),c===l){rn=null;break e}if(h!==null){h.return=g,rn=h;break e}rn=g}}}var RS={getCacheForType:function(a){var i=En(Zt),l=i.data.get(a);return l===void 0&&(l=a(),i.data.set(a,l)),l}},CS=typeof WeakMap=="function"?WeakMap:Map,lt=0,wt=null,Be=null,Qe=0,ct=0,Kn=null,hi=!1,Co=!1,Cp=!1,Oa=0,kt=0,pi=0,bs=0,Np=0,hr=0,No=0,oc=null,Bn=null,kp=!1,Mp=0,gd=1/0,yd=null,mi=null,pn=0,gi=null,ko=null,Mo=0,Op=0,Ip=null,P_=null,lc=0,Pp=null;function Wn(){if((lt&2)!==0&&Qe!==0)return Qe&-Qe;if(Y.T!==null){var a=_o;return a!==0?a:zp()}return Xa()}function j_(){hr===0&&(hr=(Qe&536870912)===0||nt?yl():536870912);var a=fr.current;return a!==null&&(a.flags|=32),hr}function $n(a,i,l){(a===wt&&(ct===2||ct===9)||a.cancelPendingCommit!==null)&&(Oo(a,0),yi(a,Qe,hr,!1)),da(a,l),((lt&2)===0||a!==wt)&&(a===wt&&((lt&2)===0&&(bs|=l),kt===4&&yi(a,Qe,hr,!1)),Kr(a))}function V_(a,i,l){if((lt&6)!==0)throw Error(n(327));var c=!l&&(i&124)===0&&(i&a.expiredLanes)===0||Qi(a,i),h=c?MS(a,i):Lp(a,i,!0),g=c;do{if(h===0){Co&&!c&&yi(a,i,0,!1);break}else{if(l=a.current.alternate,g&&!NS(l)){h=Lp(a,i,!1),g=!1;continue}if(h===2){if(g=i,a.errorRecoveryDisabledLanes&g)var x=0;else x=a.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var T=a;h=oc;var L=T.current.memoizedState.isDehydrated;if(L&&(Oo(T,x).flags|=256),x=Lp(T,x,!1),x!==2){if(Cp&&!L){T.errorRecoveryDisabledLanes|=g,bs|=g,h=4;break e}g=Bn,Bn=h,g!==null&&(Bn===null?Bn=g:Bn.push.apply(Bn,g))}h=x}if(g=!1,h!==2)continue}}if(h===1){Oo(a,0),yi(a,i,0,!0);break}e:{switch(c=a,g=h,g){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:yi(c,i,hr,!hi);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(h=Mp+300-K(),10<h)){if(yi(c,i,hr,!hi),Ws(c,0,!0)!==0)break e;c.timeoutHandle=f0(L_.bind(null,c,l,Bn,yd,kp,i,hr,bs,No,hi,g,2,-0,0),h);break e}L_(c,l,Bn,yd,kp,i,hr,bs,No,hi,g,0,-0,0)}}break}while(!0);Kr(a)}function L_(a,i,l,c,h,g,x,T,L,G,ae,le,X,J){if(a.timeoutHandle=-1,le=i.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(mc={stylesheets:null,count:0,unsuspend:dD},k_(i),le=hD(),le!==null)){a.cancelPendingCommit=le(q_.bind(null,a,i,g,l,c,h,x,T,L,ae,1,X,J)),yi(a,g,x,!G);return}q_(a,i,g,l,c,h,x,T,L)}function NS(a){for(var i=a;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var h=l[c],g=h.getSnapshot;h=h.value;try{if(!Hn(g(),h))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function yi(a,i,l,c){i&=~Np,i&=~bs,a.suspendedLanes|=i,a.pingedLanes&=~i,c&&(a.warmLanes|=i),c=a.expirationTimes;for(var h=i;0<h;){var g=31-Kt(h),x=1<<g;c[g]=-1,h&=~x}l!==0&&Or(a,l,i)}function vd(){return(lt&6)===0?(cc(0),!1):!0}function jp(){if(Be!==null){if(ct===0)var a=Be.return;else a=Be,Sa=ps=null,Jh(a),So=null,Jl=0,a=Be;for(;a!==null;)y_(a.alternate,a),a=a.return;Be=null}}function Oo(a,i){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,KS(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),jp(),wt=a,Be=l=Ea(a.current,null),Qe=i,ct=0,Kn=null,hi=!1,Co=Qi(a,i),Cp=!1,No=hr=Np=bs=pi=kt=0,Bn=oc=null,kp=!1,(i&8)!==0&&(i|=i&32);var c=a.entangledLanes;if(c!==0)for(a=a.entanglements,c&=i;0<c;){var h=31-Kt(c),g=1<<h;i|=a[h],c&=~g}return Oa=i,Bu(),l}function U_(a,i){je=null,Y.H=id,i===Hl||i===Wu?(i=nv(),ct=3):i===Jy?(i=nv(),ct=4):ct=i===r_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kn=i,Be===null&&(kt=1,ud(a,lr(i,a.current)))}function B_(){var a=Y.H;return Y.H=id,a===null?id:a}function F_(){var a=Y.A;return Y.A=RS,a}function Vp(){kt=4,hi||(Qe&4194048)!==Qe&&fr.current!==null||(Co=!0),(pi&134217727)===0&&(bs&134217727)===0||wt===null||yi(wt,Qe,hr,!1)}function Lp(a,i,l){var c=lt;lt|=2;var h=B_(),g=F_();(wt!==a||Qe!==i)&&(yd=null,Oo(a,i)),i=!1;var x=kt;e:do try{if(ct!==0&&Be!==null){var T=Be,L=Kn;switch(ct){case 8:jp(),x=6;break e;case 3:case 2:case 9:case 6:fr.current===null&&(i=!0);var G=ct;if(ct=0,Kn=null,Io(a,T,L,G),l&&Co){x=0;break e}break;default:G=ct,ct=0,Kn=null,Io(a,T,L,G)}}kS(),x=kt;break}catch(ae){U_(a,ae)}while(!0);return i&&a.shellSuspendCounter++,Sa=ps=null,lt=c,Y.H=h,Y.A=g,Be===null&&(wt=null,Qe=0,Bu()),x}function kS(){for(;Be!==null;)z_(Be)}function MS(a,i){var l=lt;lt|=2;var c=B_(),h=F_();wt!==a||Qe!==i?(yd=null,gd=K()+500,Oo(a,i)):Co=Qi(a,i);e:do try{if(ct!==0&&Be!==null){i=Be;var g=Kn;t:switch(ct){case 1:ct=0,Kn=null,Io(a,i,g,1);break;case 2:case 9:if(ev(g)){ct=0,Kn=null,Y_(i);break}i=function(){ct!==2&&ct!==9||wt!==a||(ct=7),Kr(a)},g.then(i,i);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:ev(g)?(ct=0,Kn=null,Y_(i)):(ct=0,Kn=null,Io(a,i,g,7));break;case 5:var x=null;switch(Be.tag){case 26:x=Be.memoizedState;case 5:case 27:var T=Be;if(!x||T0(x)){ct=0,Kn=null;var L=T.sibling;if(L!==null)Be=L;else{var G=T.return;G!==null?(Be=G,_d(G)):Be=null}break t}}ct=0,Kn=null,Io(a,i,g,5);break;case 6:ct=0,Kn=null,Io(a,i,g,6);break;case 8:jp(),kt=6;break e;default:throw Error(n(462))}}OS();break}catch(ae){U_(a,ae)}while(!0);return Sa=ps=null,Y.H=c,Y.A=h,lt=l,Be!==null?0:(wt=null,Qe=0,Bu(),kt)}function OS(){for(;Be!==null&&!wr();)z_(Be)}function z_(a){var i=m_(a.alternate,a,Oa);a.memoizedProps=a.pendingProps,i===null?_d(a):Be=i}function Y_(a){var i=a,l=i.alternate;switch(i.tag){case 15:case 0:i=c_(l,i,i.pendingProps,i.type,void 0,Qe);break;case 11:i=c_(l,i,i.pendingProps,i.type.render,i.ref,Qe);break;case 5:Jh(i);default:y_(l,i),i=Be=Hy(i,Oa),i=m_(l,i,Oa)}a.memoizedProps=a.pendingProps,i===null?_d(a):Be=i}function Io(a,i,l,c){Sa=ps=null,Jh(i),So=null,Jl=0;var h=i.return;try{if(ES(a,h,i,l,Qe)){kt=1,ud(a,lr(l,a.current)),Be=null;return}}catch(g){if(h!==null)throw Be=h,g;kt=1,ud(a,lr(l,a.current)),Be=null;return}i.flags&32768?(nt||c===1?a=!0:Co||(Qe&536870912)!==0?a=!1:(hi=a=!0,(c===2||c===9||c===3||c===6)&&(c=fr.current,c!==null&&c.tag===13&&(c.flags|=16384))),H_(i,a)):_d(i)}function _d(a){var i=a;do{if((i.flags&32768)!==0){H_(i,hi);return}a=i.return;var l=TS(i.alternate,i,Oa);if(l!==null){Be=l;return}if(i=i.sibling,i!==null){Be=i;return}Be=i=a}while(i!==null);kt===0&&(kt=5)}function H_(a,i){do{var l=SS(a.alternate,a);if(l!==null){l.flags&=32767,Be=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(a=a.sibling,a!==null)){Be=a;return}Be=a=l}while(a!==null);kt=6,Be=null}function q_(a,i,l,c,h,g,x,T,L){a.cancelPendingCommit=null;do bd();while(pn!==0);if((lt&6)!==0)throw Error(n(327));if(i!==null){if(i===a.current)throw Error(n(177));if(g=i.lanes|i.childLanes,g|=Rh,_l(a,l,g,x,T,L),a===wt&&(Be=wt=null,Qe=0),ko=i,gi=a,Mo=l,Op=g,Ip=h,P_=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,VS(at,function(){return $_(),null})):(a.callbackNode=null,a.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,h=Q.p,Q.p=2,x=lt,lt|=4;try{DS(a,i,l)}finally{lt=x,Q.p=h,Y.T=c}}pn=1,Q_(),G_(),K_()}}function Q_(){if(pn===1){pn=0;var a=gi,i=ko,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var c=Q.p;Q.p=2;var h=lt;lt|=4;try{R_(i,a);var g=$p,x=Iy(a.containerInfo),T=g.focusedElem,L=g.selectionRange;if(x!==T&&T&&T.ownerDocument&&Oy(T.ownerDocument.documentElement,T)){if(L!==null&&xh(T)){var G=L.start,ae=L.end;if(ae===void 0&&(ae=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(ae,T.value.length);else{var le=T.ownerDocument||document,X=le&&le.defaultView||window;if(X.getSelection){var J=X.getSelection(),ke=T.textContent.length,Re=Math.min(L.start,ke),gt=L.end===void 0?Re:Math.min(L.end,ke);!J.extend&&Re>gt&&(x=gt,gt=Re,Re=x);var z=My(T,Re),F=My(T,gt);if(z&&F&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==F.node||J.focusOffset!==F.offset)){var q=le.createRange();q.setStart(z.node,z.offset),J.removeAllRanges(),Re>gt?(J.addRange(q),J.extend(F.node,F.offset)):(q.setEnd(F.node,F.offset),J.addRange(q))}}}}for(le=[],J=T;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<le.length;T++){var se=le[T];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Md=!!Wp,$p=Wp=null}finally{lt=h,Q.p=c,Y.T=l}}a.current=i,pn=2}}function G_(){if(pn===2){pn=0;var a=gi,i=ko,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var c=Q.p;Q.p=2;var h=lt;lt|=4;try{T_(a,i.alternate,i)}finally{lt=h,Q.p=c,Y.T=l}}pn=3}}function K_(){if(pn===4||pn===3){pn=0,Mr();var a=gi,i=ko,l=Mo,c=P_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pn=5:(pn=0,ko=gi=null,W_(a,a.pendingLanes));var h=a.pendingLanes;if(h===0&&(mi=null),$s(l),i=i.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(ft,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=Y.T,h=Q.p,Q.p=2,Y.T=null;try{for(var g=a.onRecoverableError,x=0;x<c.length;x++){var T=c[x];g(T.value,{componentStack:T.stack})}}finally{Y.T=i,Q.p=h}}(Mo&3)!==0&&bd(),Kr(a),h=a.pendingLanes,(l&4194090)!==0&&(h&42)!==0?a===Pp?lc++:(lc=0,Pp=a):lc=0,cc(0)}}function W_(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,zl(i)))}function bd(a){return Q_(),G_(),K_(),$_()}function $_(){if(pn!==5)return!1;var a=gi,i=Op;Op=0;var l=$s(Mo),c=Y.T,h=Q.p;try{Q.p=32>l?32:l,Y.T=null,l=Ip,Ip=null;var g=gi,x=Mo;if(pn=0,ko=gi=null,Mo=0,(lt&6)!==0)throw Error(n(331));var T=lt;if(lt|=4,O_(g.current),N_(g,g.current,x,l),lt=T,cc(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(ft,g)}catch{}return!0}finally{Q.p=h,Y.T=c,W_(a,i)}}function X_(a,i,l){i=lr(l,i),i=hp(a.stateNode,i,2),a=si(a,i,2),a!==null&&(da(a,2),Kr(a))}function _t(a,i,l){if(a.tag===3)X_(a,a,l);else for(;i!==null;){if(i.tag===3){X_(i,a,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mi===null||!mi.has(c))){a=lr(l,a),l=t_(2),c=si(i,l,2),c!==null&&(n_(l,c,i,a),da(c,2),Kr(c));break}}i=i.return}}function Up(a,i,l){var c=a.pingCache;if(c===null){c=a.pingCache=new CS;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(l)||(Cp=!0,h.add(l),a=IS.bind(null,a,i,l),i.then(a,a))}function IS(a,i,l){var c=a.pingCache;c!==null&&c.delete(i),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,wt===a&&(Qe&l)===l&&(kt===4||kt===3&&(Qe&62914560)===Qe&&300>K()-Mp?(lt&2)===0&&Oo(a,0):Np|=l,No===Qe&&(No=0)),Kr(a)}function Z_(a,i){i===0&&(i=vl()),a=mo(a,i),a!==null&&(da(a,i),Kr(a))}function PS(a){var i=a.memoizedState,l=0;i!==null&&(l=i.retryLane),Z_(a,l)}function jS(a,i){var l=0;switch(a.tag){case 13:var c=a.stateNode,h=a.memoizedState;h!==null&&(l=h.retryLane);break;case 19:c=a.stateNode;break;case 22:c=a.stateNode._retryCache;break;default:throw Error(n(314))}c!==null&&c.delete(i),Z_(a,l)}function VS(a,i){return vt(a,i)}var wd=null,Po=null,Bp=!1,Ed=!1,Fp=!1,ws=0;function Kr(a){a!==Po&&a.next===null&&(Po===null?wd=Po=a:Po=Po.next=a),Ed=!0,Bp||(Bp=!0,US())}function cc(a,i){if(!Fp&&Ed){Fp=!0;do for(var l=!1,c=wd;c!==null;){if(a!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var x=c.suspendedLanes,T=c.pingedLanes;g=(1<<31-Kt(42|a)+1)-1,g&=h&~(x&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,n0(c,g))}else g=Qe,g=Ws(c,c===wt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Qi(c,g)||(l=!0,n0(c,g));c=c.next}while(l);Fp=!1}}function LS(){J_()}function J_(){Ed=Bp=!1;var a=0;ws!==0&&(GS()&&(a=ws),ws=0);for(var i=K(),l=null,c=wd;c!==null;){var h=c.next,g=e0(c,i);g===0?(c.next=null,l===null?wd=h:l.next=h,h===null&&(Po=l)):(l=c,(a!==0||(g&3)!==0)&&(Ed=!0)),c=h}cc(a)}function e0(a,i){for(var l=a.suspendedLanes,c=a.pingedLanes,h=a.expirationTimes,g=a.pendingLanes&-62914561;0<g;){var x=31-Kt(g),T=1<<x,L=h[x];L===-1?((T&l)===0||(T&c)!==0)&&(h[x]=gl(T,i)):L<=i&&(a.expiredLanes|=T),g&=~T}if(i=wt,l=Qe,l=Ws(a,a===i?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),c=a.callbackNode,l===0||a===i&&(ct===2||ct===9)||a.cancelPendingCommit!==null)return c!==null&&c!==null&&cn(c),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Qi(a,l)){if(i=l&-l,i===a.callbackPriority)return i;switch(c!==null&&cn(c),$s(l)){case 2:case 8:l=Je;break;case 32:l=at;break;case 268435456:l=Pe;break;default:l=at}return c=t0.bind(null,a),l=vt(l,c),a.callbackPriority=i,a.callbackNode=l,i}return c!==null&&c!==null&&cn(c),a.callbackPriority=2,a.callbackNode=null,2}function t0(a,i){if(pn!==0&&pn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(bd()&&a.callbackNode!==l)return null;var c=Qe;return c=Ws(a,a===wt?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),c===0?null:(V_(a,c,i),e0(a,K()),a.callbackNode!=null&&a.callbackNode===l?t0.bind(null,a):null)}function n0(a,i){if(bd())return null;V_(a,i,!0)}function US(){WS(function(){(lt&6)!==0?vt(Ze,LS):J_()})}function zp(){return ws===0&&(ws=yl()),ws}function r0(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:no(""+a)}function a0(a,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,a.id&&l.setAttribute("form",a.id),i.parentNode.insertBefore(l,i),a=new FormData(a),l.parentNode.removeChild(l),a}function BS(a,i,l,c,h){if(i==="submit"&&l&&l.stateNode===h){var g=r0((h[Ft]||null).action),x=c.submitter;x&&(i=(i=x[Ft]||null)?r0(i.formAction):x.getAttribute("formAction"),i!==null&&(g=i,x=null));var T=new ro("action","action",null,c,h);a.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ws!==0){var L=x?a0(h,x):new FormData(h);lp(l,{pending:!0,data:L,method:h.method,action:g},null,L)}}else typeof g=="function"&&(T.preventDefault(),L=x?a0(h,x):new FormData(h),lp(l,{pending:!0,data:L,method:h.method,action:g},g,L))},currentTarget:h}]})}}for(var Yp=0;Yp<Ah.length;Yp++){var Hp=Ah[Yp],FS=Hp.toLowerCase(),zS=Hp[0].toUpperCase()+Hp.slice(1);Sr(FS,"on"+zS)}Sr(Vy,"onAnimationEnd"),Sr(Ly,"onAnimationIteration"),Sr(Uy,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(iS,"onTransitionRun"),Sr(sS,"onTransitionStart"),Sr(oS,"onTransitionCancel"),Sr(By,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uc));function i0(a,i){i=(i&4)!==0;for(var l=0;l<a.length;l++){var c=a[l],h=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var x=c.length-1;0<=x;x--){var T=c[x],L=T.instance,G=T.currentTarget;if(T=T.listener,L!==g&&h.isPropagationStopped())break e;g=T,h.currentTarget=G;try{g(h)}catch(ae){cd(ae)}h.currentTarget=null,g=L}else for(x=0;x<c.length;x++){if(T=c[x],L=T.instance,G=T.currentTarget,T=T.listener,L!==g&&h.isPropagationStopped())break e;g=T,h.currentTarget=G;try{g(h)}catch(ae){cd(ae)}h.currentTarget=null,g=L}}}}function Fe(a,i){var l=i[wl];l===void 0&&(l=i[wl]=new Set);var c=a+"__bubble";l.has(c)||(s0(i,a,2,!1),l.add(c))}function qp(a,i,l){var c=0;i&&(c|=4),s0(l,a,c,i)}var xd="_reactListening"+Math.random().toString(36).slice(2);function Qp(a){if(!a[xd]){a[xd]=!0,El.forEach(function(l){l!=="selectionchange"&&(YS.has(l)||qp(l,!1,a),qp(l,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[xd]||(i[xd]=!0,qp("selectionchange",!1,i))}}function s0(a,i,l,c){switch(N0(i)){case 2:var h=gD;break;case 8:h=yD;break;default:h=sm}l=h.bind(null,i,l,a),h=void 0,!sr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?a.addEventListener(i,l,{capture:!0,passive:h}):a.addEventListener(i,l,!0):h!==void 0?a.addEventListener(i,l,{passive:h}):a.addEventListener(i,l,!1)}function Gp(a,i,l,c,h){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var T=c.stateNode.containerInfo;if(T===h)break;if(x===4)for(x=c.return;x!==null;){var L=x.tag;if((L===3||L===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;T!==null;){if(x=fa(T),x===null)return;if(L=x.tag,L===5||L===6||L===26||L===27){c=g=x;continue e}T=T.parentNode}}c=c.return}Su(function(){var G=g,ae=ir(l),le=[];e:{var X=Fy.get(a);if(X!==void 0){var J=ro,ke=a;switch(a){case"keypress":if(Ur(l)===0)break e;case"keydown":case"keyup":J=co;break;case"focusin":ke="focus",J=so;break;case"focusout":ke="blur",J=so;break;case"beforeblur":case"afterblur":J=so;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=_h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Ou;break;case Vy:case Ly:case Uy:J=oo;break;case By:J=Pu;break;case"scroll":case"scrollend":J=Du;break;case"wheel":J=uo;break;case"copy":case"cut":case"paste":J=lo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Il;break;case"toggle":case"beforetoggle":J=Vu}var Re=(i&4)!==0,gt=!Re&&(a==="scroll"||a==="scrollend"),z=Re?X!==null?X+"Capture":null:X;Re=[];for(var F=G,q;F!==null;){var se=F;if(q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||q===null||z===null||(se=es(F,z),se!=null&&Re.push(dc(F,se,q))),gt)break;F=F.return}0<Re.length&&(X=new J(X,ke,null,l,ae),le.push({event:X,listeners:Re}))}}if((i&7)===0){e:{if(X=a==="mouseover"||a==="pointerover",J=a==="mouseout"||a==="pointerout",X&&l!==ga&&(ke=l.relatedTarget||l.fromElement)&&(fa(ke)||ke[rr]))break e;if((J||X)&&(X=ae.window===ae?ae:(X=ae.ownerDocument)?X.defaultView||X.parentWindow:window,J?(ke=l.relatedTarget||l.toElement,J=G,ke=ke?fa(ke):null,ke!==null&&(gt=o(ke),Re=ke.tag,ke!==gt||Re!==5&&Re!==27&&Re!==6)&&(ke=null)):(J=null,ke=G),J!==ke)){if(Re=or,se="onMouseLeave",z="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(Re=Il,se="onPointerLeave",z="onPointerEnter",F="pointer"),gt=J==null?X:Pr(J),q=ke==null?X:Pr(ke),X=new Re(se,F+"leave",J,l,ae),X.target=gt,X.relatedTarget=q,se=null,fa(ae)===G&&(Re=new Re(z,F+"enter",ke,l,ae),Re.target=q,Re.relatedTarget=gt,se=Re),gt=se,J&&ke)t:{for(Re=J,z=ke,F=0,q=Re;q;q=jo(q))F++;for(q=0,se=z;se;se=jo(se))q++;for(;0<F-q;)Re=jo(Re),F--;for(;0<q-F;)z=jo(z),q--;for(;F--;){if(Re===z||z!==null&&Re===z.alternate)break t;Re=jo(Re),z=jo(z)}Re=null}else Re=null;J!==null&&o0(le,X,J,Re,!1),ke!==null&&gt!==null&&o0(le,gt,ke,Re,!0)}}e:{if(X=G?Pr(G):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var be=Dy;else if(Xt(X))if(Ay)be=nS;else{be=eS;var Le=JT}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?G&&Al(G.elementType)&&(be=Dy):be=tS;if(be&&(be=be(a,G))){wa(le,be,l,ae);break e}Le&&Le(a,X,G),a==="focusout"&&G&&X.type==="number"&&G.memoizedProps.value!=null&&ti(X,"number",X.value)}switch(Le=G?Pr(G):window,a){case"focusin":(Xt(Le)||Le.contentEditable==="true")&&(fo=Le,Th=G,Vl=null);break;case"focusout":Vl=Th=fo=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,Py(le,l,ae);break;case"selectionchange":if(aS)break;case"keydown":case"keyup":Py(le,l,ae)}var Te;if(zr)e:{switch(a){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else He?ee(a,l)&&(Ce="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(E&&l.locale!=="ko"&&(He||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&He&&(Te=Cl()):(Lr=ae,ni="value"in Lr?Lr.value:Lr.textContent,He=!0)),Le=Td(G,Ce),0<Le.length&&(Ce=new Ml(Ce,a,null,l,ae),le.push({event:Ce,listeners:Le}),Te?Ce.data=Te:(Te=me(l),Te!==null&&(Ce.data=Te)))),(Te=_?$t(a,l):qe(a,l))&&(Ce=Td(G,"onBeforeInput"),0<Ce.length&&(Le=new Ml("onBeforeInput","beforeinput",null,l,ae),le.push({event:Le,listeners:Ce}),Le.data=Te)),BS(le,a,G,l,ae)}i0(le,i)})}function dc(a,i,l){return{instance:a,listener:i,currentTarget:l}}function Td(a,i){for(var l=i+"Capture",c=[];a!==null;){var h=a,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=es(a,l),h!=null&&c.unshift(dc(a,h,g)),h=es(a,i),h!=null&&c.push(dc(a,h,g))),a.tag===3)return c;a=a.return}return[]}function jo(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function o0(a,i,l,c,h){for(var g=i._reactName,x=[];l!==null&&l!==c;){var T=l,L=T.alternate,G=T.stateNode;if(T=T.tag,L!==null&&L===c)break;T!==5&&T!==26&&T!==27||G===null||(L=G,h?(G=es(l,g),G!=null&&x.unshift(dc(l,G,L))):h||(G=es(l,g),G!=null&&x.push(dc(l,G,L)))),l=l.return}x.length!==0&&a.push({event:i,listeners:x})}var HS=/\r\n?/g,qS=/\u0000|\uFFFD/g;function l0(a){return(typeof a=="string"?a:""+a).replace(HS,`
`).replace(qS,"")}function c0(a,i){return i=l0(i),l0(a)===i}function Sd(){}function mt(a,i,l,c,h,g){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||ar(a,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&ar(a,""+c);break;case"className":jr(a,"class",c);break;case"tabIndex":jr(a,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(a,l,c);break;case"style":Dl(a,c,g);break;case"data":if(i!=="object"){jr(a,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){a.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){a.removeAttribute(l);break}c=no(""+c),a.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&mt(a,i,"name",h.name,h,null),mt(a,i,"formEncType",h.formEncType,h,null),mt(a,i,"formMethod",h.formMethod,h,null),mt(a,i,"formTarget",h.formTarget,h,null)):(mt(a,i,"encType",h.encType,h,null),mt(a,i,"method",h.method,h,null),mt(a,i,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){a.removeAttribute(l);break}c=no(""+c),a.setAttribute(l,c);break;case"onClick":c!=null&&(a.onclick=Sd);break;case"onScroll":c!=null&&Fe("scroll",a);break;case"onScrollEnd":c!=null&&Fe("scrollend",a);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(h.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"multiple":a.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":a.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){a.removeAttribute("xlink:href");break}l=no(""+c),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(l,""+c):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":c===!0?a.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(l,c):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?a.setAttribute(l,c):a.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?a.removeAttribute(l):a.setAttribute(l,c);break;case"popover":Fe("beforetoggle",a),Fe("toggle",a),ei(a,"popover",c);break;case"xlinkActuate":dn(a,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":dn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":dn(a,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":dn(a,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":dn(a,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":dn(a,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":dn(a,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":dn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":dn(a,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ei(a,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=yh.get(l)||l,ei(a,l,c))}}function Kp(a,i,l,c,h,g){switch(l){case"style":Dl(a,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(h.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"children":typeof c=="string"?ar(a,c):(typeof c=="number"||typeof c=="bigint")&&ar(a,""+c);break;case"onScroll":c!=null&&Fe("scroll",a);break;case"onScrollEnd":c!=null&&Fe("scrollend",a);break;case"onClick":c!=null&&(a.onclick=Sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xs.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),i=l.slice(2,h?l.length-7:void 0),g=a[Ft]||null,g=g!=null?g[l]:null,typeof g=="function"&&a.removeEventListener(i,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(i,c,h);break e}l in a?a[l]=c:c===!0?a.setAttribute(l,""):ei(a,l,c)}}}function mn(a,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",a),Fe("load",a);var c=!1,h=!1,g;for(g in l)if(l.hasOwnProperty(g)){var x=l[g];if(x!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:mt(a,i,g,x,l,null)}}h&&mt(a,i,"srcSet",l.srcSet,l,null),c&&mt(a,i,"src",l.src,l,null);return;case"input":Fe("invalid",a);var T=g=x=h=null,L=null,G=null;for(c in l)if(l.hasOwnProperty(c)){var ae=l[c];if(ae!=null)switch(c){case"name":h=ae;break;case"type":x=ae;break;case"checked":L=ae;break;case"defaultChecked":G=ae;break;case"value":g=ae;break;case"defaultValue":T=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,i));break;default:mt(a,i,c,ae,l,null)}}Xi(a,g,T,L,G,x,h,!1),to(a);return;case"select":Fe("invalid",a),c=x=g=null;for(h in l)if(l.hasOwnProperty(h)&&(T=l[h],T!=null))switch(h){case"value":g=T;break;case"defaultValue":x=T;break;case"multiple":c=T;default:mt(a,i,h,T,l,null)}i=g,l=x,a.multiple=!!c,i!=null?ma(a,!!c,i,!1):l!=null&&ma(a,!!c,l,!0);return;case"textarea":Fe("invalid",a),g=h=c=null;for(x in l)if(l.hasOwnProperty(x)&&(T=l[x],T!=null))switch(x){case"value":c=T;break;case"defaultValue":h=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:mt(a,i,x,T,l,null)}Zi(a,c,h,g),to(a);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(c=l[L],c!=null))switch(L){case"selected":a.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:mt(a,i,L,c,l,null)}return;case"dialog":Fe("beforetoggle",a),Fe("toggle",a),Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":Fe("load",a);break;case"video":case"audio":for(c=0;c<uc.length;c++)Fe(uc[c],a);break;case"image":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"embed":case"source":case"link":Fe("error",a),Fe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(c=l[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:mt(a,i,G,c,l,null)}return;default:if(Al(i)){for(ae in l)l.hasOwnProperty(ae)&&(c=l[ae],c!==void 0&&Kp(a,i,ae,c,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(c=l[T],c!=null&&mt(a,i,T,c,l,null))}function QS(a,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,x=null,T=null,L=null,G=null,ae=null;for(J in l){var le=l[J];if(l.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=le;default:c.hasOwnProperty(J)||mt(a,i,J,null,c,le)}}for(var X in c){var J=c[X];if(le=l[X],c.hasOwnProperty(X)&&(J!=null||le!=null))switch(X){case"type":g=J;break;case"name":h=J;break;case"checked":G=J;break;case"defaultChecked":ae=J;break;case"value":x=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,i));break;default:J!==le&&mt(a,i,X,J,c,le)}}Yn(a,x,T,L,G,ae,g,h);return;case"select":J=x=T=X=null;for(g in l)if(L=l[g],l.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":J=L;default:c.hasOwnProperty(g)||mt(a,i,g,null,c,L)}for(h in c)if(g=c[h],L=l[h],c.hasOwnProperty(h)&&(g!=null||L!=null))switch(h){case"value":X=g;break;case"defaultValue":T=g;break;case"multiple":x=g;default:g!==L&&mt(a,i,h,g,c,L)}i=T,l=x,c=J,X!=null?ma(a,!!l,X,!1):!!c!=!!l&&(i!=null?ma(a,!!l,i,!0):ma(a,!!l,l?[]:"",!1));return;case"textarea":J=X=null;for(T in l)if(h=l[T],l.hasOwnProperty(T)&&h!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:mt(a,i,T,null,c,h)}for(x in c)if(h=c[x],g=l[x],c.hasOwnProperty(x)&&(h!=null||g!=null))switch(x){case"value":X=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(n(91));break;default:h!==g&&mt(a,i,x,h,c,g)}ht(a,X,J);return;case"option":for(var ke in l)if(X=l[ke],l.hasOwnProperty(ke)&&X!=null&&!c.hasOwnProperty(ke))switch(ke){case"selected":a.selected=!1;break;default:mt(a,i,ke,null,c,X)}for(L in c)if(X=c[L],J=l[L],c.hasOwnProperty(L)&&X!==J&&(X!=null||J!=null))switch(L){case"selected":a.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:mt(a,i,L,X,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in l)X=l[Re],l.hasOwnProperty(Re)&&X!=null&&!c.hasOwnProperty(Re)&&mt(a,i,Re,null,c,X);for(G in c)if(X=c[G],J=l[G],c.hasOwnProperty(G)&&X!==J&&(X!=null||J!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,i));break;default:mt(a,i,G,X,c,J)}return;default:if(Al(i)){for(var gt in l)X=l[gt],l.hasOwnProperty(gt)&&X!==void 0&&!c.hasOwnProperty(gt)&&Kp(a,i,gt,void 0,c,X);for(ae in c)X=c[ae],J=l[ae],!c.hasOwnProperty(ae)||X===J||X===void 0&&J===void 0||Kp(a,i,ae,X,c,J);return}}for(var z in l)X=l[z],l.hasOwnProperty(z)&&X!=null&&!c.hasOwnProperty(z)&&mt(a,i,z,null,c,X);for(le in c)X=c[le],J=l[le],!c.hasOwnProperty(le)||X===J||X==null&&J==null||mt(a,i,le,X,c,J)}var Wp=null,$p=null;function Dd(a){return a.nodeType===9?a:a.ownerDocument}function u0(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d0(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function Xp(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zp=null;function GS(){var a=window.event;return a&&a.type==="popstate"?a===Zp?!1:(Zp=a,!0):(Zp=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,WS=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(a){return h0.resolve(null).then(a).catch($S)}:f0;function $S(a){setTimeout(function(){throw a})}function vi(a){return a==="head"}function p0(a,i){var l=i,c=0,h=0;do{var g=l.nextSibling;if(a.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<c&&8>c){l=c;var x=a.ownerDocument;if(l&1&&fc(x.documentElement),l&2&&fc(x.body),l&4)for(l=x.head,fc(l),x=l.firstChild;x;){var T=x.nextSibling,L=x.nodeName;x[Gi]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=T}}if(h===0){a.removeChild(g),bc(i);return}h--}else l==="$"||l==="$?"||l==="$!"?h++:c=l.charCodeAt(0)-48;else c=0;l=g}while(l);bc(i)}function Jp(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Jp(l),Ja(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function XS(a,i,l,c){for(;a.nodeType===1;){var h=l;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(c){if(!a[Gi])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(g=a.getAttribute("rel"),g==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(g!==h.rel||a.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||a.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||a.getAttribute("title")!==(h.title==null?null:h.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(g=a.getAttribute("src"),(g!==(h.src==null?null:h.src)||a.getAttribute("type")!==(h.type==null?null:h.type)||a.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&a.getAttribute("name")===g)return a}else return a;if(a=Ar(a.nextSibling),a===null)break}return null}function ZS(a,i,l){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Ar(a.nextSibling),a===null))return null;return a}function em(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function JS(a,i){var l=a.ownerDocument;if(a.data!=="$?"||l.readyState==="complete")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),a._reactRetry=c}}function Ar(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return a}var tm=null;function m0(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return a;i--}else l==="/$"&&i++}a=a.previousSibling}return null}function g0(a,i,l){switch(i=Dd(l),a){case"html":if(a=i.documentElement,!a)throw Error(n(452));return a;case"head":if(a=i.head,!a)throw Error(n(453));return a;case"body":if(a=i.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function fc(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ja(a)}var pr=new Map,y0=new Set;function Ad(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ia=Q.d;Q.d={f:eD,r:tD,D:nD,C:rD,L:aD,m:iD,X:oD,S:sD,M:lD};function eD(){var a=Ia.f(),i=vd();return a||i}function tD(a){var i=Ir(a);i!==null&&i.tag===5&&i.type==="form"?Vv(i):Ia.r(a)}var Vo=typeof document>"u"?null:document;function v0(a,i,l){var c=Vo;if(c&&typeof i=="string"&&i){var h=zt(i);h='link[rel="'+a+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),y0.has(h)||(y0.add(h),a={rel:a,crossOrigin:l,href:i},c.querySelector(h)===null&&(i=c.createElement("link"),mn(i,"link",a),Pt(i),c.head.appendChild(i)))}}function nD(a){Ia.D(a),v0("dns-prefetch",a,null)}function rD(a,i){Ia.C(a,i),v0("preconnect",a,i)}function aD(a,i,l){Ia.L(a,i,l);var c=Vo;if(c&&a&&i){var h='link[rel="preload"][as="'+zt(i)+'"]';i==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+zt(l.imageSizes)+'"]')):h+='[href="'+zt(a)+'"]';var g=h;switch(i){case"style":g=Lo(a);break;case"script":g=Uo(a)}pr.has(g)||(a=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:a,as:i},l),pr.set(g,a),c.querySelector(h)!==null||i==="style"&&c.querySelector(hc(g))||i==="script"&&c.querySelector(pc(g))||(i=c.createElement("link"),mn(i,"link",a),Pt(i),c.head.appendChild(i)))}}function iD(a,i){Ia.m(a,i);var l=Vo;if(l&&a){var c=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+zt(c)+'"][href="'+zt(a)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Uo(a)}if(!pr.has(g)&&(a=y({rel:"modulepreload",href:a},i),pr.set(g,a),l.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(pc(g)))return}c=l.createElement("link"),mn(c,"link",a),Pt(c),l.head.appendChild(c)}}}function sD(a,i,l){Ia.S(a,i,l);var c=Vo;if(c&&a){var h=Nn(c).hoistableStyles,g=Lo(a);i=i||"default";var x=h.get(g);if(!x){var T={loading:0,preload:null};if(x=c.querySelector(hc(g)))T.loading=5;else{a=y({rel:"stylesheet",href:a,"data-precedence":i},l),(l=pr.get(g))&&nm(a,l);var L=x=c.createElement("link");Pt(L),mn(L,"link",a),L._p=new Promise(function(G,ae){L.onload=G,L.onerror=ae}),L.addEventListener("load",function(){T.loading|=1}),L.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Rd(x,i,c)}x={type:"stylesheet",instance:x,count:1,state:T},h.set(g,x)}}}function oD(a,i){Ia.X(a,i);var l=Vo;if(l&&a){var c=Nn(l).hoistableScripts,h=Uo(a),g=c.get(h);g||(g=l.querySelector(pc(h)),g||(a=y({src:a,async:!0},i),(i=pr.get(h))&&rm(a,i),g=l.createElement("script"),Pt(g),mn(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function lD(a,i){Ia.M(a,i);var l=Vo;if(l&&a){var c=Nn(l).hoistableScripts,h=Uo(a),g=c.get(h);g||(g=l.querySelector(pc(h)),g||(a=y({src:a,async:!0,type:"module"},i),(i=pr.get(h))&&rm(a,i),g=l.createElement("script"),Pt(g),mn(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function _0(a,i,l,c){var h=(h=xe.current)?Ad(h):null;if(!h)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Lo(l.href),l=Nn(h).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Lo(l.href);var g=Nn(h).hoistableStyles,x=g.get(a);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(a,x),(g=h.querySelector(hc(a)))&&!g._p&&(x.instance=g,x.state.loading=5),pr.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pr.set(a,l),g||cD(h,a,l,x.state))),i&&c===null)throw Error(n(528,""));return x}if(i&&c!==null)throw Error(n(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Uo(l),l=Nn(h).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Lo(a){return'href="'+zt(a)+'"'}function hc(a){return'link[rel="stylesheet"]['+a+"]"}function b0(a){return y({},a,{"data-precedence":a.precedence,precedence:null})}function cD(a,i,l,c){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=a.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),mn(i,"link",l),Pt(i),a.head.appendChild(i))}function Uo(a){return'[src="'+zt(a)+'"]'}function pc(a){return"script[async]"+a}function w0(a,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=a.querySelector('style[data-href~="'+zt(l.href)+'"]');if(c)return i.instance=c,Pt(c),c;var h=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(a.ownerDocument||a).createElement("style"),Pt(c),mn(c,"style",h),Rd(c,l.precedence,a),i.instance=c;case"stylesheet":h=Lo(l.href);var g=a.querySelector(hc(h));if(g)return i.state.loading|=4,i.instance=g,Pt(g),g;c=b0(l),(h=pr.get(h))&&nm(c,h),g=(a.ownerDocument||a).createElement("link"),Pt(g);var x=g;return x._p=new Promise(function(T,L){x.onload=T,x.onerror=L}),mn(g,"link",c),i.state.loading|=4,Rd(g,l.precedence,a),i.instance=g;case"script":return g=Uo(l.src),(h=a.querySelector(pc(g)))?(i.instance=h,Pt(h),h):(c=l,(h=pr.get(g))&&(c=y({},l),rm(c,h)),a=a.ownerDocument||a,h=a.createElement("script"),Pt(h),mn(h,"link",c),a.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Rd(c,l.precedence,a));return i.instance}function Rd(a,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,x=0;x<c.length;x++){var T=c[x];if(T.dataset.precedence===i)g=T;else if(g!==h)break}g?g.parentNode.insertBefore(a,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(a,i.firstChild))}function nm(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function rm(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var Cd=null;function E0(a,i,l){if(Cd===null){var c=new Map,h=Cd=new Map;h.set(l,c)}else h=Cd,c=h.get(l),c||(c=new Map,h.set(l,c));if(c.has(a))return c;for(c.set(a,null),l=l.getElementsByTagName(a),h=0;h<l.length;h++){var g=l[h];if(!(g[Gi]||g[Wt]||a==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(i)||"";x=a+x;var T=c.get(x);T?T.push(g):c.set(x,[g])}}return c}function x0(a,i,l){a=a.ownerDocument||a,a.head.insertBefore(l,i==="title"?a.querySelector("head > title"):null)}function uD(a,i,l){if(l===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return a=i.disabled,typeof i.precedence=="string"&&a==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function T0(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var mc=null;function dD(){}function fD(a,i,l){if(mc===null)throw Error(n(475));var c=mc;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Lo(l.href),g=a.querySelector(hc(h));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(c.count++,c=Nd.bind(c),a.then(c,c)),i.state.loading|=4,i.instance=g,Pt(g);return}g=a.ownerDocument||a,l=b0(l),(h=pr.get(h))&&nm(l,h),g=g.createElement("link"),Pt(g);var x=g;x._p=new Promise(function(T,L){x.onload=T,x.onerror=L}),mn(g,"link",l),i.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Nd.bind(c),a.addEventListener("load",i),a.addEventListener("error",i))}}function hD(){if(mc===null)throw Error(n(475));var a=mc;return a.stylesheets&&a.count===0&&am(a,a.stylesheets),0<a.count?function(i){var l=setTimeout(function(){if(a.stylesheets&&am(a,a.stylesheets),a.unsuspend){var c=a.unsuspend;a.unsuspend=null,c()}},6e4);return a.unsuspend=i,function(){a.unsuspend=null,clearTimeout(l)}}:null}function Nd(){if(this.count--,this.count===0){if(this.stylesheets)am(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var kd=null;function am(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,kd=new Map,i.forEach(pD,a),kd=null,Nd.call(a))}function pD(a,i){if(!(i.state.loading&4)){var l=kd.get(a);if(l)var c=l.get(null);else{l=new Map,kd.set(a,l);for(var h=a.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var x=h[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),c=x)}c&&l.set(null,c)}h=i.instance,x=h.getAttribute("data-precedence"),g=l.get(x)||c,g===c&&l.set(null,h),l.set(x,h),this.count++,c=Nd.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(h,a.firstChild)),i.state.loading|=4}}var gc={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function mD(a,i,l,c,h,g,x,T){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ua(0),this.hiddenUpdates=ua(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function S0(a,i,l,c,h,g,x,T,L,G,ae,le){return a=new mD(a,i,l,x,T,L,G,le),i=1,g===!0&&(i|=24),g=qn(3,null,null,i),a.current=g,g.stateNode=a,i=Uh(),i.refCount++,a.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:i},Yh(g),a}function D0(a){return a?(a=go,a):go}function A0(a,i,l,c,h,g){h=D0(h),c.context===null?c.context=h:c.pendingContext=h,c=ii(i),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=si(a,c,i),l!==null&&($n(l,a,i),Ql(l,a,i))}function R0(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<i?l:i}}function im(a,i){R0(a,i),(a=a.alternate)&&R0(a,i)}function C0(a){if(a.tag===13){var i=mo(a,67108864);i!==null&&$n(i,a,67108864),im(a,67108864)}}var Md=!0;function gD(a,i,l,c){var h=Y.T;Y.T=null;var g=Q.p;try{Q.p=2,sm(a,i,l,c)}finally{Q.p=g,Y.T=h}}function yD(a,i,l,c){var h=Y.T;Y.T=null;var g=Q.p;try{Q.p=8,sm(a,i,l,c)}finally{Q.p=g,Y.T=h}}function sm(a,i,l,c){if(Md){var h=om(c);if(h===null)Gp(a,i,c,Od,l),k0(a,c);else if(_D(h,a,i,l,c))c.stopPropagation();else if(k0(a,c),i&4&&-1<vD.indexOf(a)){for(;h!==null;){var g=Ir(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Er(g.pendingLanes);if(x!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;x;){var L=1<<31-Kt(x);T.entanglements[1]|=L,x&=~L}Kr(g),(lt&6)===0&&(gd=K()+500,cc(0))}}break;case 13:T=mo(g,2),T!==null&&$n(T,g,2),vd(),im(g,2)}if(g=om(c),g===null&&Gp(a,i,c,Od,l),g===h)break;h=g}h!==null&&c.stopPropagation()}else Gp(a,i,c,null,l)}}function om(a){return a=ir(a),lm(a)}var Od=null;function lm(a){if(Od=null,a=fa(a),a!==null){var i=o(a);if(i===null)a=null;else{var l=i.tag;if(l===13){if(a=u(i),a!==null)return a;a=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Od=a,null}function N0(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pe()){case Ze:return 2;case Je:return 8;case at:case it:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var cm=!1,_i=null,bi=null,wi=null,yc=new Map,vc=new Map,Ei=[],vD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(a,i){switch(a){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":yc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(i.pointerId)}}function _c(a,i,l,c,h,g){return a===null||a.nativeEvent!==g?(a={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},i!==null&&(i=Ir(i),i!==null&&C0(i)),a):(a.eventSystemFlags|=c,i=a.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),a)}function _D(a,i,l,c,h){switch(i){case"focusin":return _i=_c(_i,a,i,l,c,h),!0;case"dragenter":return bi=_c(bi,a,i,l,c,h),!0;case"mouseover":return wi=_c(wi,a,i,l,c,h),!0;case"pointerover":var g=h.pointerId;return yc.set(g,_c(yc.get(g)||null,a,i,l,c,h)),!0;case"gotpointercapture":return g=h.pointerId,vc.set(g,_c(vc.get(g)||null,a,i,l,c,h)),!0}return!1}function M0(a){var i=fa(a.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){a.blockedOn=i,vu(a.priority,function(){if(l.tag===13){var c=Wn();c=$a(c);var h=mo(l,c);h!==null&&$n(h,l,c),im(l,c)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Id(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var l=om(a.nativeEvent);if(l===null){l=a.nativeEvent;var c=new l.constructor(l.type,l);ga=c,l.target.dispatchEvent(c),ga=null}else return i=Ir(l),i!==null&&C0(i),a.blockedOn=l,!1;i.shift()}return!0}function O0(a,i,l){Id(a)&&l.delete(i)}function bD(){cm=!1,_i!==null&&Id(_i)&&(_i=null),bi!==null&&Id(bi)&&(bi=null),wi!==null&&Id(wi)&&(wi=null),yc.forEach(O0),vc.forEach(O0)}function Pd(a,i){a.blockedOn===i&&(a.blockedOn=null,cm||(cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bD)))}var jd=null;function I0(a){jd!==a&&(jd=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jd===a&&(jd=null);for(var i=0;i<a.length;i+=3){var l=a[i],c=a[i+1],h=a[i+2];if(typeof c!="function"){if(lm(c||l)===null)continue;break}var g=Ir(l);g!==null&&(a.splice(i,3),i-=3,lp(g,{pending:!0,data:h,method:l.method,action:c},c,h))}}))}function bc(a){function i(L){return Pd(L,a)}_i!==null&&Pd(_i,a),bi!==null&&Pd(bi,a),wi!==null&&Pd(wi,a),yc.forEach(i),vc.forEach(i);for(var l=0;l<Ei.length;l++){var c=Ei[l];c.blockedOn===a&&(c.blockedOn=null)}for(;0<Ei.length&&(l=Ei[0],l.blockedOn===null);)M0(l),l.blockedOn===null&&Ei.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var h=l[c],g=l[c+1],x=h[Ft]||null;if(typeof g=="function")x||I0(l);else if(x){var T=null;if(g&&g.hasAttribute("formAction")){if(h=g,x=g[Ft]||null)T=x.formAction;else if(lm(h)!==null)continue}else T=x.action;typeof T=="function"?l[c+1]=T:(l.splice(c,3),c-=3),I0(l)}}}function um(a){this._internalRoot=a}Vd.prototype.render=um.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(n(409));var l=i.current,c=Wn();A0(l,c,a,i,null,null)},Vd.prototype.unmount=um.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;A0(a.current,2,null,a,null,null),vd(),i[rr]=null}};function Vd(a){this._internalRoot=a}Vd.prototype.unstable_scheduleHydration=function(a){if(a){var i=Xa();a={blockedOn:null,target:a,priority:i};for(var l=0;l<Ei.length&&i!==0&&i<Ei[l].priority;l++);Ei.splice(l,0,a),l===0&&M0(a)}};var P0=e.version;if(P0!=="19.1.0")throw Error(n(527,P0,"19.1.0"));Q.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=p(i),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var wD={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{ft=Ld.inject(wD),Ue=Ld}catch{}}return Ec.createRoot=function(a,i){if(!s(a))throw Error(n(299));var l=!1,c="",h=Xv,g=Zv,x=Jv,T=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=S0(a,1,!1,null,null,l,c,h,g,x,T,null),a[rr]=i.current,Qp(a),new um(i)},Ec.hydrateRoot=function(a,i,l){if(!s(a))throw Error(n(299));var c=!1,h="",g=Xv,x=Zv,T=Jv,L=null,G=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(G=l.formState)),i=S0(a,1,!0,i,l??null,c,h,g,x,T,L,G),i.context=D0(null),l=i.current,c=Wn(),c=$a(c),h=ii(c),h.callback=null,si(l,h,c),l=c,i.current.lanes=l,da(i,l),Kr(i),a[rr]=i.current,Qp(a),new Vd(i)},Ec.version="19.1.0",Ec}var q0;function kD(){if(q0)return hm.exports;q0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hm.exports=ND(),hm.exports}var MD=kD(),xc={},Q0;function OD(){if(Q0)return xc;Q0=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.parse=u,xc.serialize=m;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,S){const D=new o,j=w.length;if(j<2)return D;const N=S?.decode||y;let P=0;do{const W=w.indexOf("=",P);if(W===-1)break;const Z=w.indexOf(";",P),te=Z===-1?j:Z;if(W>te){P=w.lastIndexOf(";",W-1)+1;continue}const re=f(w,P,W),he=p(w,W,re),O=w.slice(re,he);if(D[O]===void 0){let R=f(w,W+1,te),k=p(w,te,R);const C=N(w.slice(R,k));D[O]=C}P=te+1}while(P<j);return D}function f(w,S,D){do{const j=w.charCodeAt(S);if(j!==32&&j!==9)return S}while(++S<D);return D}function p(w,S,D){for(;S>D;){const j=w.charCodeAt(--S);if(j!==32&&j!==9)return S+1}return D}function m(w,S,D){const j=D?.encode||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const N=j(S);if(!e.test(N))throw new TypeError(`argument val is invalid: ${S}`);let P=w+"="+N;if(!D)return P;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);P+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);P+="; Domain="+D.domain}if(D.path){if(!n.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);P+="; Path="+D.path}if(D.expires){if(!b(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);P+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(P+="; HttpOnly"),D.secure&&(P+="; Secure"),D.partitioned&&(P+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return P}function y(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return s.call(w)==="[object Date]"}return xc}OD();var G0="popstate";function ID(r={}){function e(s,o){let{pathname:u="/",search:f="",hash:p=""}=Ys(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Lm("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let u=s.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let p=s.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof o=="string"?o:Hc(o))}function n(s,o){Cr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return jD(e,t,n,r)}function At(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Cr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PD(){return Math.random().toString(36).substring(2,10)}function K0(r,e){return{usr:r.state,key:r.key,idx:e}}function Lm(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ys(e):e,state:t,key:e&&e.key||n||PD()}}function Hc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ys(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function jD(r,e,t,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,u=s.history,f="POP",p=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function b(){f="POP";let N=y(),P=N==null?null:N-m;m=N,p&&p({action:f,location:j.location,delta:P})}function w(N,P){f="PUSH";let W=Lm(j.location,N,P);t&&t(W,N),m=y()+1;let Z=K0(W,m),te=j.createHref(W);try{u.pushState(Z,"",te)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;s.location.assign(te)}o&&p&&p({action:f,location:j.location,delta:1})}function S(N,P){f="REPLACE";let W=Lm(j.location,N,P);t&&t(W,N),m=y();let Z=K0(W,m),te=j.createHref(W);u.replaceState(Z,"",te),o&&p&&p({action:f,location:j.location,delta:0})}function D(N){return VD(N)}let j={get action(){return f},get location(){return r(s,u)},listen(N){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(G0,b),p=N,()=>{s.removeEventListener(G0,b),p=null}},createHref(N){return e(s,N)},createURL:D,encodeLocation(N){let P=D(N);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:S,go(N){return u.go(N)}};return j}function VD(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),At(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Hc(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function $w(r,e,t="/"){return LD(r,e,t,!1)}function LD(r,e,t,n){let s=typeof e=="string"?Ys(e):e,o=Ya(s.pathname||"/",t);if(o==null)return null;let u=Xw(r);UD(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let m=$D(o);f=KD(u[p],m,n)}return f}function Xw(r,e=[],t=[],n=""){let s=(o,u,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};p.relativePath.startsWith("/")&&(At(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length));let m=Pa([n,p.relativePath]),y=t.concat(p);o.children&&o.children.length>0&&(At(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Xw(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:QD(m,o.index),routesMeta:y})};return r.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))s(o,u);else for(let f of Zw(o.path))s(o,u,f)}),e}function Zw(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let u=Zw(n.join("/")),f=[];return f.push(...u.map(p=>p===""?o:[o,p].join("/"))),s&&f.push(...u),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function UD(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:GD(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var BD=/^:[\w-]+$/,FD=3,zD=2,YD=1,HD=10,qD=-2,W0=r=>r==="*";function QD(r,e){let t=r.split("/"),n=t.length;return t.some(W0)&&(n+=qD),e&&(n+=zD),t.filter(s=>!W0(s)).reduce((s,o)=>s+(BD.test(o)?FD:o===""?YD:HD),n)}function GD(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function KD(r,e,t=!1){let{routesMeta:n}=r,s={},o="/",u=[];for(let f=0;f<n.length;++f){let p=n[f],m=f===n.length-1,y=o==="/"?e:e.slice(o.length)||"/",b=pf({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),w=p.route;if(!b&&m&&t&&!n[n.length-1].route.index&&(b=pf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!b)return null;Object.assign(s,b.params),u.push({params:s,pathname:Pa([o,b.pathname]),pathnameBase:e1(Pa([o,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(o=Pa([o,b.pathnameBase]))}return u}function pf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=WD(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:n.reduce((m,{paramName:y,isOptional:b},w)=>{if(y==="*"){let D=f[w]||"";u=o.slice(0,o.length-D.length).replace(/(.)\/+$/,"$1")}const S=f[w];return b&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:r}}function WD(r,e=!1,t=!0){Cr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(n.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function $D(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ya(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function XD(r,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?Ys(r):r;return{pathname:t?t.startsWith("/")?t:ZD(t,e):e,search:t1(n),hash:n1(s)}}function ZD(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function ym(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JD(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Jw(r){let e=JD(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function eE(r,e,t,n=!1){let s;typeof r=="string"?s=Ys(r):(s={...r},At(!s.pathname||!s.pathname.includes("?"),ym("?","pathname","search",s)),At(!s.pathname||!s.pathname.includes("#"),ym("#","pathname","hash",s)),At(!s.search||!s.search.includes("#"),ym("#","search","hash",s)));let o=r===""||s.pathname==="",u=o?"/":s.pathname,f;if(u==null)f=t;else{let b=e.length-1;if(!n&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),b-=1;s.pathname=w.join("/")}f=b>=0?e[b]:"/"}let p=XD(s,f),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var Pa=r=>r.join("/").replace(/\/\/+/g,"/"),e1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),t1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,n1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function r1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var tE=["POST","PUT","PATCH","DELETE"];new Set(tE);var a1=["GET",...tE];new Set(a1);var cl=V.createContext(null);cl.displayName="DataRouter";var Ff=V.createContext(null);Ff.displayName="DataRouterState";var nE=V.createContext({isTransitioning:!1});nE.displayName="ViewTransition";var i1=V.createContext(new Map);i1.displayName="Fetchers";var s1=V.createContext(null);s1.displayName="Await";var sa=V.createContext(null);sa.displayName="Navigation";var nu=V.createContext(null);nu.displayName="Location";var oa=V.createContext({outlet:null,matches:[],isDataRoute:!1});oa.displayName="Route";var gg=V.createContext(null);gg.displayName="RouteError";function o1(r,{relative:e}={}){At(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=V.useContext(sa),{hash:s,pathname:o,search:u}=au(r,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:Pa([t,o])),n.createHref({pathname:f,search:u,hash:s})}function ru(){return V.useContext(nu)!=null}function Fi(){return At(ru(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(nu).location}var rE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aE(r){V.useContext(sa).static||V.useLayoutEffect(r)}function iE(){let{isDataRoute:r}=V.useContext(oa);return r?w1():l1()}function l1(){At(ru(),"useNavigate() may be used only in the context of a <Router> component.");let r=V.useContext(cl),{basename:e,navigator:t}=V.useContext(sa),{matches:n}=V.useContext(oa),{pathname:s}=Fi(),o=JSON.stringify(Jw(n)),u=V.useRef(!1);return aE(()=>{u.current=!0}),V.useCallback((p,m={})=>{if(Cr(u.current,rE),!u.current)return;if(typeof p=="number"){t.go(p);return}let y=eE(p,JSON.parse(o),s,m.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Pa([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,s,r])}V.createContext(null);function c1(){let{matches:r}=V.useContext(oa),e=r[r.length-1];return e?e.params:{}}function au(r,{relative:e}={}){let{matches:t}=V.useContext(oa),{pathname:n}=Fi(),s=JSON.stringify(Jw(t));return V.useMemo(()=>eE(r,JSON.parse(s),n,e==="path"),[r,s,n,e])}function u1(r,e){return sE(r,e)}function sE(r,e,t,n){At(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=V.useContext(sa),{matches:o}=V.useContext(oa),u=o[o.length-1],f=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let P=y&&y.path||"";oE(p,!y||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let b=Fi(),w;if(e){let P=typeof e=="string"?Ys(e):e;At(m==="/"||P.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${P.pathname}" was given in the \`location\` prop.`),w=P}else w=b;let S=w.pathname||"/",D=S;if(m!=="/"){let P=m.replace(/^\//,"").split("/");D="/"+S.replace(/^\//,"").split("/").slice(P.length).join("/")}let j=$w(r,{pathname:D});Cr(y||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Cr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=m1(j&&j.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:Pa([m,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:Pa([m,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,t,n);return e&&N?V.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},N):N}function d1(){let r=b1(),e=r1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:s},t):null,u)}var f1=V.createElement(d1,null),h1=class extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?V.createElement(oa.Provider,{value:this.props.routeContext},V.createElement(gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p1({routeContext:r,match:e,children:t}){let n=V.useContext(cl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(oa.Provider,{value:r},t)}function m1(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,o=t?.errors;if(o!=null){let p=s.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);At(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,f=-1;if(t)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:y,errors:b}=t,w=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||w){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((p,m,y)=>{let b,w=!1,S=null,D=null;t&&(b=o&&m.route.id?o[m.route.id]:void 0,S=m.route.errorElement||f1,u&&(f<0&&y===0?(oE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,D=null):f===y&&(w=!0,D=m.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,y+1)),N=()=>{let P;return b?P=S:w?P=D:m.route.Component?P=V.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,V.createElement(p1,{match:m,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:P})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?V.createElement(h1,{location:t.location,revalidation:t.revalidation,component:S,error:b,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):N()},null)}function yg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g1(r){let e=V.useContext(cl);return At(e,yg(r)),e}function y1(r){let e=V.useContext(Ff);return At(e,yg(r)),e}function v1(r){let e=V.useContext(oa);return At(e,yg(r)),e}function vg(r){let e=v1(r),t=e.matches[e.matches.length-1];return At(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function _1(){return vg("useRouteId")}function b1(){let r=V.useContext(gg),e=y1("useRouteError"),t=vg("useRouteError");return r!==void 0?r:e.errors?.[t]}function w1(){let{router:r}=g1("useNavigate"),e=vg("useNavigate"),t=V.useRef(!1);return aE(()=>{t.current=!0}),V.useCallback(async(s,o={})=>{Cr(t.current,rE),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...o}))},[r,e])}var $0={};function oE(r,e,t){!e&&!$0[r]&&($0[r]=!0,Cr(!1,t))}V.memo(E1);function E1({routes:r,future:e,state:t}){return sE(r,void 0,t,e)}function Si(r){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x1({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:o=!1}){At(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),f=V.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=Ys(t));let{pathname:p="/",search:m="",hash:y="",state:b=null,key:w="default"}=t,S=V.useMemo(()=>{let D=Ya(p,u);return D==null?null:{location:{pathname:D,search:m,hash:y,state:b,key:w},navigationType:n}},[u,p,m,y,b,w,n]);return Cr(S!=null,`<Router basename="${u}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:V.createElement(sa.Provider,{value:f},V.createElement(nu.Provider,{children:e,value:S}))}function T1({children:r,location:e}){return u1(Um(r),e)}function Um(r,e=[]){let t=[];return V.Children.forEach(r,(n,s)=>{if(!V.isValidElement(n))return;let o=[...e,s];if(n.type===V.Fragment){t.push.apply(t,Um(n.props.children,o));return}At(n.type===Si,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=Um(n.props.children,o)),t.push(u)}),t}var Jd="get",ef="application/x-www-form-urlencoded";function zf(r){return r!=null&&typeof r.tagName=="string"}function S1(r){return zf(r)&&r.tagName.toLowerCase()==="button"}function D1(r){return zf(r)&&r.tagName.toLowerCase()==="form"}function A1(r){return zf(r)&&r.tagName.toLowerCase()==="input"}function R1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function C1(r,e){return r.button===0&&(!e||e==="_self")&&!R1(r)}var Ud=null;function N1(){if(Ud===null)try{new FormData(document.createElement("form"),0),Ud=!1}catch{Ud=!0}return Ud}var k1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(r){return r!=null&&!k1.has(r)?(Cr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ef}"`),null):r}function M1(r,e){let t,n,s,o,u;if(D1(r)){let f=r.getAttribute("action");n=f?Ya(f,e):null,t=r.getAttribute("method")||Jd,s=vm(r.getAttribute("enctype"))||ef,o=new FormData(r)}else if(S1(r)||A1(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(n=p?Ya(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Jd,s=vm(r.getAttribute("formenctype"))||vm(f.getAttribute("enctype"))||ef,o=new FormData(f,r),!N1()){let{name:m,type:y,value:b}=r;if(y==="image"){let w=m?`${m}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else m&&o.append(m,b)}}else{if(zf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jd,n=null,s=ef,u=r}return o&&s==="text/plain"&&(u=o,o=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:o,body:u}}function _g(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function O1(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function P1(r,e,t){let n=await Promise.all(r.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await O1(o,t);return u.links?u.links():[]}return[]}));return U1(n.flat(1).filter(I1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function X0(r,e,t,n,s,o){let u=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,f=(p,m)=>t[m].pathname!==p.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==p.params["*"];return o==="assets"?e.filter((p,m)=>u(p,m)||f(p,m)):o==="data"?e.filter((p,m)=>{let y=n.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(u(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function j1(r,e,{includeHydrateFallback:t}={}){return V1(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function V1(r){return[...new Set(r)]}function L1(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function U1(r,e){let t=new Set;return new Set(e),r.reduce((n,s)=>{let o=JSON.stringify(L1(s));return t.has(o)||(t.add(o),n.push({key:o,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var B1=new Set([100,101,204,205]);function F1(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Ya(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function lE(){let r=V.useContext(cl);return _g(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function z1(){let r=V.useContext(Ff);return _g(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var bg=V.createContext(void 0);bg.displayName="FrameworkContext";function cE(){let r=V.useContext(bg);return _g(r,"You must render this element inside a <HydratedRouter> element"),r}function Y1(r,e){let t=V.useContext(bg),[n,s]=V.useState(!1),[o,u]=V.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:b}=e,w=V.useRef(null);V.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let j=P=>{P.forEach(W=>{u(W.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[r]),V.useEffect(()=>{if(n){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[n]);let S=()=>{s(!0)},D=()=>{s(!1),u(!1)};return t?r!=="intent"?[o,w,{}]:[o,w,{onFocus:Tc(f,S),onBlur:Tc(p,D),onMouseEnter:Tc(m,S),onMouseLeave:Tc(y,D),onTouchStart:Tc(b,S)}]:[!1,w,{}]}function Tc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function H1({page:r,...e}){let{router:t}=lE(),n=V.useMemo(()=>$w(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?V.createElement(Q1,{page:r,matches:n,...e}):null}function q1(r){let{manifest:e,routeModules:t}=cE(),[n,s]=V.useState([]);return V.useEffect(()=>{let o=!1;return P1(r,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[r,e,t]),n}function Q1({page:r,matches:e,...t}){let n=Fi(),{manifest:s,routeModules:o}=cE(),{basename:u}=lE(),{loaderData:f,matches:p}=z1(),m=V.useMemo(()=>X0(r,e,p,s,n,"data"),[r,e,p,s,n]),y=V.useMemo(()=>X0(r,e,p,s,n,"assets"),[r,e,p,s,n]),b=V.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let D=new Set,j=!1;if(e.forEach(P=>{let W=s.routes[P.route.id];!W||!W.hasLoader||(!m.some(Z=>Z.route.id===P.route.id)&&P.route.id in f&&o[P.route.id]?.shouldRevalidate||W.hasClientLoader?j=!0:D.add(P.route.id))}),D.size===0)return[];let N=F1(r,u);return j&&D.size>0&&N.searchParams.set("_routes",e.filter(P=>D.has(P.route.id)).map(P=>P.route.id).join(",")),[N.pathname+N.search]},[u,f,n,s,m,e,r,o]),w=V.useMemo(()=>j1(y,s),[y,s]),S=q1(y);return V.createElement(V.Fragment,null,b.map(D=>V.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),w.map(D=>V.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),S.map(({key:D,link:j})=>V.createElement("link",{key:D,...j})))}function G1(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var uE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uE&&(window.__reactRouterVersion="7.6.2")}catch{}function K1({basename:r,children:e,window:t}){let n=V.useRef();n.current==null&&(n.current=ID({window:t,v5Compat:!0}));let s=n.current,[o,u]=V.useState({action:s.action,location:s.location}),f=V.useCallback(p=>{V.startTransition(()=>u(p))},[u]);return V.useLayoutEffect(()=>s.listen(f),[s,f]),V.createElement(x1,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:s})}var dE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Is=V.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:o,replace:u,state:f,target:p,to:m,preventScrollReset:y,viewTransition:b,...w},S){let{basename:D}=V.useContext(sa),j=typeof m=="string"&&dE.test(m),N,P=!1;if(typeof m=="string"&&j&&(N=m,uE))try{let k=new URL(window.location.href),C=m.startsWith("//")?new URL(k.protocol+m):new URL(m),U=Ya(C.pathname,D);C.origin===k.origin&&U!=null?m=U+C.search+C.hash:P=!0}catch{Cr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=o1(m,{relative:s}),[Z,te,re]=Y1(n,w),he=Z1(m,{replace:u,state:f,target:p,preventScrollReset:y,relative:s,viewTransition:b});function O(k){e&&e(k),k.defaultPrevented||he(k)}let R=V.createElement("a",{...w,...re,href:N||W,onClick:P||o?e:O,ref:G1(S,te),target:p,"data-discover":!j&&t==="render"?"true":void 0});return Z&&!j?V.createElement(V.Fragment,null,R,V.createElement(H1,{page:W})):R});Is.displayName="Link";var W1=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:o,to:u,viewTransition:f,children:p,...m},y){let b=au(u,{relative:m.relative}),w=Fi(),S=V.useContext(Ff),{navigator:D,basename:j}=V.useContext(sa),N=S!=null&&rA(b)&&f===!0,P=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,W=w.pathname,Z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(W=W.toLowerCase(),Z=Z?Z.toLowerCase():null,P=P.toLowerCase()),Z&&j&&(Z=Ya(Z,j)||Z);const te=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let re=W===P||!s&&W.startsWith(P)&&W.charAt(te)==="/",he=Z!=null&&(Z===P||!s&&Z.startsWith(P)&&Z.charAt(P.length)==="/"),O={isActive:re,isPending:he,isTransitioning:N},R=re?e:void 0,k;typeof n=="function"?k=n(O):k=[n,re?"active":null,he?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(O):o;return V.createElement(Is,{...m,"aria-current":R,className:k,ref:y,style:C,to:u,viewTransition:f},typeof p=="function"?p(O):p)});W1.displayName="NavLink";var $1=V.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:o,method:u=Jd,action:f,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:b,...w},S)=>{let D=tA(),j=nA(f,{relative:m}),N=u.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&dE.test(f),W=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let te=Z.nativeEvent.submitter,re=te?.getAttribute("formmethod")||u;D(te||Z.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:s,state:o,relative:m,preventScrollReset:y,viewTransition:b})};return V.createElement("form",{ref:S,method:N,action:j,onSubmit:n?p:W,...w,"data-discover":!P&&r==="render"?"true":void 0})});$1.displayName="Form";function X1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fE(r){let e=V.useContext(cl);return At(e,X1(r)),e}function Z1(r,{target:e,replace:t,state:n,preventScrollReset:s,relative:o,viewTransition:u}={}){let f=iE(),p=Fi(),m=au(r,{relative:o});return V.useCallback(y=>{if(C1(y,e)){y.preventDefault();let b=t!==void 0?t:Hc(p)===Hc(m);f(r,{replace:b,state:n,preventScrollReset:s,relative:o,viewTransition:u})}},[p,f,m,t,n,e,r,s,o,u])}var J1=0,eA=()=>`__${String(++J1)}__`;function tA(){let{router:r}=fE("useSubmit"),{basename:e}=V.useContext(sa),t=_1();return V.useCallback(async(n,s={})=>{let{action:o,method:u,encType:f,formData:p,body:m}=M1(n,e);if(s.navigate===!1){let y=s.fetcherKey||eA();await r.fetch(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await r.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function nA(r,{relative:e}={}){let{basename:t}=V.useContext(sa),n=V.useContext(oa);At(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...au(r||".",{relative:e})},u=Fi();if(r==null){o.search=u.search;let f=new URLSearchParams(o.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let y=f.toString();o.search=y?`?${y}`:""}}return(!r||r===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Pa([t,o.pathname])),Hc(o)}function rA(r,e={}){let t=V.useContext(nE);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=fE("useViewTransitionState"),s=au(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ya(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=Ya(t.nextLocation.pathname,n)||t.nextLocation.pathname;return pf(s.pathname,u)!=null||pf(s.pathname,o)!=null}[...B1];var hE=Ww();const aA=Gw(hE);function iA({onLeaveReview:r}){const[e,t]=V.useState(!1),[n,s]=V.useState(!1),o=Fi(),u=iE(),[f,p]=V.useState(!1);V.useEffect(()=>{const y=()=>{s(window.scrollY>20)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]),V.useEffect(()=>{if(f&&o.pathname==="/"){const y=document.getElementById("services");y&&y.scrollIntoView({behavior:"smooth"}),p(!1)}},[f,o]);const m=y=>{y.preventDefault();const b=document.getElementById("navbarNav");if(b&&b.classList.contains("show")&&b.classList.remove("show"),t(!1),o.pathname==="/"){const w=document.getElementById("services");w&&w.scrollIntoView({behavior:"smooth"})}else p(!0),u("/")};return v.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark py-3",children:v.jsxs("div",{className:"container-fluid px-4",children:[v.jsxs(Is,{className:"navbar-brand d-flex align-items-center",to:"/",children:[v.jsx("img",{src:"/gallery/Logo.png",alt:"Jakes Car Care Logo",className:"me-2",style:{height:44,width:44,filter:"brightness(0) invert(1)"}}),v.jsx("span",{className:"fw-bold fs-6",style:{fontFamily:"'GoodTimes', 'Poppins', 'Segoe UI', sans-serif",letterSpacing:"0.02em",background:"linear-gradient(45deg, #ffffff, #dc3545)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"none"},children:"Jakes Car Care"})]}),v.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",onClick:()=>t(!e),children:v.jsx("span",{className:"navbar-toggler-icon"})}),v.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:v.jsxs("ul",{className:"navbar-nav ms-auto",children:[v.jsx("li",{className:"nav-item",children:v.jsx("a",{className:"nav-link",href:"#services",onClick:m,children:"Services"})}),v.jsx("li",{className:"nav-item",children:v.jsx("a",{className:"nav-link",href:"/#/service-areas",children:"Service Areas"})}),v.jsx("li",{className:"nav-item",children:v.jsx("a",{className:"nav-link",href:"/#/blog",children:"Blog"})}),v.jsx("li",{className:"nav-item",children:v.jsx("a",{className:"nav-link",href:"#reviews",onClick:y=>{y.preventDefault(),r()},children:"Reviews"})})]})})]})})}const Z0=["/gallery/option1.jpg","/gallery/option 4.jpg","/gallery/option 3.jpg"];function sA({onBookNow:r}){const[e,t]=V.useState(!1),[n,s]=V.useState(0),o=V.useRef(null);return V.useEffect(()=>(t(!0),o.current=setInterval(()=>{s(u=>(u+1)%Z0.length)},1e4),()=>clearInterval(o.current)),[]),v.jsxs("section",{className:"position-relative w-100",style:{minHeight:"60vh",overflow:"hidden"},children:[Z0.map((u,f)=>v.jsx("img",{src:u,alt:"Car background",className:"position-absolute top-0 start-0 w-100 h-100 object-fit-cover transition-opacity",style:{zIndex:0,minHeight:"60vh",objectPosition:"center",opacity:f===n?1:0,transition:"opacity 1s ease-in-out"}},u)),v.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"rgba(0,0,0,0.5)",zIndex:1,minHeight:"60vh"}}),v.jsxs("div",{className:"container position-relative d-flex flex-column justify-content-center align-items-center text-center",style:{zIndex:2,minHeight:"60vh"},children:[v.jsxs("div",{className:`transition-opacity ${e?"opacity-100":"opacity-0"}`,style:{transition:"opacity 1s ease-in-out"},children:[v.jsx("div",{className:"mb-4",children:v.jsx("img",{src:"/gallery/Logo.png",alt:"Jakes Car Care Logo",className:"img-fluid",style:{maxHeight:"400px",filter:"drop-shadow(4px 4px 12px rgba(0,0,0,0.8))",transition:"transform 0.3s ease",marginBottom:"1rem"},onMouseEnter:u=>{u.target.style.transform="scale(1.05)"},onMouseLeave:u=>{u.target.style.transform="scale(1)"}})}),v.jsx("h2",{className:"fw-bold text-white mb-3",style:{fontFamily:"'Bebas Neue', 'Poppins', 'Segoe UI', sans-serif",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"2px 2px 8px rgba(0,0,0,0.7)",letterSpacing:"0.08em",lineHeight:"1.1",fontSize:"clamp(1.5rem, 4vw, 2.5rem)"},children:"Jakes Car Care"}),v.jsx("p",{className:"lead text-light mb-3 px-3",style:{fontFamily:"'Inter', 'Segoe UI', sans-serif",fontSize:"1.25rem",textShadow:"1px 1px 2px rgba(0,0,0,0.7)",maxWidth:"600px",margin:"0 auto"},children:"Professional car valeting services at your doorstep"}),v.jsxs("div",{className:"mb-4 d-flex flex-column flex-md-row justify-content-center align-items-center gap-3",children:[v.jsx("a",{href:"tel:0877665058",className:"btn btn-outline-light btn-lg px-4 py-2 fw-semibold",style:{fontSize:"1.1rem",textDecoration:"none",transition:"all 0.3s ease",border:"2px solid white",borderRadius:"50px"},onMouseEnter:u=>{u.target.style.backgroundColor="white",u.target.style.color="#000",u.target.style.transform="translateY(-2px)"},onMouseLeave:u=>{u.target.style.backgroundColor="transparent",u.target.style.color="white",u.target.style.transform="translateY(0)"},children:" Call 087 766 5058"}),v.jsx("a",{href:"https://www.facebook.com/profile.php?id=61560837419584",target:"_blank",rel:"noopener noreferrer",className:"btn d-inline-flex align-items-center justify-content-center",style:{width:"56px",height:"56px",borderRadius:"50%",backgroundColor:"#4267B2",color:"#fff",fontSize:"2rem",border:"2px solid #4267B2",boxShadow:"0 2px 8px rgba(66,103,178,0.15)",transition:"background 0.2s, color 0.2s"},"aria-label":"Facebook",children:v.jsx("i",{className:"bi bi-facebook"})})]})]}),v.jsx("div",{className:"d-flex flex-column flex-md-row justify-content-center align-items-center gap-3 mt-3",children:v.jsx("button",{type:"button",className:"btn btn-primary btn-lg px-5 py-3 fw-semibold shadow-lg",style:{fontSize:"1.1rem",letterSpacing:"0.02em",transition:"all 0.3s ease",border:"2px solid transparent"},onClick:r,onMouseEnter:u=>{u.target.style.transform="translateY(-2px)",u.target.style.boxShadow="0 8px 25px rgba(220,53,69,0.4)"},onMouseLeave:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow="0 4px 15px rgba(0,0,0,0.2)"},children:"Book Now"})})]})]})}var J0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},oA=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const s=r[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const o=r[t++];e[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=r[t++],u=r[t++],f=r[t++],p=((s&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const o=r[t++],u=r[t++];e[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},mE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const o=r[s],u=s+1<r.length,f=u?r[s+1]:0,p=s+2<r.length,m=p?r[s+2]:0,y=o>>2,b=(o&3)<<4|f>>4;let w=(f&15)<<2|m>>6,S=m&63;p||(S=64,u||(w=64)),n.push(t[y],t[b],t[w],t[S])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(pE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):oA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const o=t[r.charAt(s++)],f=s<r.length?t[r.charAt(s)]:0;++s;const m=s<r.length?t[r.charAt(s)]:64;++s;const b=s<r.length?t[r.charAt(s)]:64;if(++s,o==null||f==null||m==null||b==null)throw new lA;const w=o<<2|f>>4;if(n.push(w),m!==64){const S=f<<4&240|m>>2;if(n.push(S),b!==64){const D=m<<6&192|b;n.push(D)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class lA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cA=function(r){const e=pE(r);return mE.encodeByteArray(e,!0)},mf=function(r){return cA(r).replace(/\./g,"")},uA=function(r){try{return mE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=()=>dA().__FIREBASE_DEFAULTS__,hA=()=>{if(typeof process>"u"||typeof J0>"u")return;const r=J0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&uA(r[1]);return e&&JSON.parse(e)},wg=()=>{try{return fA()||hA()||pA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mA=r=>{var e,t;return(t=(e=wg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},gE=r=>{const e=mA(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},yE=()=>{var r;return(r=wg())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",s=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[mf(JSON.stringify(t)),mf(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vA(){var r;const e=(r=wg())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _A(){return!vA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bA(){try{return typeof indexedDB=="object"}catch{return!1}}function wA(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="FirebaseError";class Hs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=EA,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_E.prototype.create)}}class _E{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?xA(o,n):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new Hs(s,f,n)}}function xA(r,e){return r.replace(TA,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const TA=/\{\$([^}]+)}/g;function Bm(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const o=r[s],u=e[s];if(eb(o)&&eb(u)){if(!Bm(o,u))return!1}else if(o!==u)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function eb(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(r){return r&&r._delegate?r._delegate:r}class Wo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new gA;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AA(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);n===f&&u.resolve(s)}return s}onInit(e,t){var n;const s=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:DA(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DA(r){return r===Es?void 0:r}function AA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(We||(We={}));const CA={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},NA=We.INFO,kA={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},MA=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),s=kA[e];if(s)console[s](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bE{constructor(e){this.name=e,this._logLevel=NA,this._logHandler=MA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const OA=(r,e)=>e.some(t=>r instanceof t);let tb,nb;function IA(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PA(){return nb||(nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wE=new WeakMap,Fm=new WeakMap,EE=new WeakMap,_m=new WeakMap,Eg=new WeakMap;function jA(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",o),r.removeEventListener("error",u)},o=()=>{t(Ci(r.result)),s()},u=()=>{n(r.error),s()};r.addEventListener("success",o),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&wE.set(t,r)}).catch(()=>{}),Eg.set(e,r),e}function VA(r){if(Fm.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",u),r.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",o),r.addEventListener("error",u),r.addEventListener("abort",u)});Fm.set(r,e)}let zm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||EE.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ci(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function LA(r){zm=r(zm)}function UA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(bm(this),e,...t);return EE.set(n,e.sort?e.sort():[e]),Ci(n)}:PA().includes(r)?function(...e){return r.apply(bm(this),e),Ci(wE.get(this))}:function(...e){return Ci(r.apply(bm(this),e))}}function BA(r){return typeof r=="function"?UA(r):(r instanceof IDBTransaction&&VA(r),OA(r,IA())?new Proxy(r,zm):r)}function Ci(r){if(r instanceof IDBRequest)return jA(r);if(_m.has(r))return _m.get(r);const e=BA(r);return e!==r&&(_m.set(r,e),Eg.set(e,r)),e}const bm=r=>Eg.get(r);function FA(r,e,{blocked:t,upgrade:n,blocking:s,terminated:o}={}){const u=indexedDB.open(r,e),f=Ci(u);return n&&u.addEventListener("upgradeneeded",p=>{n(Ci(u.result),p.oldVersion,p.newVersion,Ci(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{o&&p.addEventListener("close",()=>o()),s&&p.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const zA=["get","getKey","getAll","getAllKeys","count"],YA=["put","add","delete","clear"],wm=new Map;function rb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=YA.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||zA.includes(t)))return;const o=async function(u,...f){const p=this.transaction(u,s?"readwrite":"readonly");let m=p.store;return n&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),s&&p.done]))[0]};return wm.set(e,o),o}LA(r=>({...r,get:(e,t,n)=>rb(e,t)||r.get(e,t,n),has:(e,t)=>!!rb(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qA(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function qA(r){const e=r.getComponent();return e?.type==="VERSION"}const Ym="@firebase/app",ab="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new bE("@firebase/app"),QA="@firebase/app-compat",GA="@firebase/analytics-compat",KA="@firebase/analytics",WA="@firebase/app-check-compat",$A="@firebase/app-check",XA="@firebase/auth",ZA="@firebase/auth-compat",JA="@firebase/database",eR="@firebase/data-connect",tR="@firebase/database-compat",nR="@firebase/functions",rR="@firebase/functions-compat",aR="@firebase/installations",iR="@firebase/installations-compat",sR="@firebase/messaging",oR="@firebase/messaging-compat",lR="@firebase/performance",cR="@firebase/performance-compat",uR="@firebase/remote-config",dR="@firebase/remote-config-compat",fR="@firebase/storage",hR="@firebase/storage-compat",pR="@firebase/firestore",mR="@firebase/vertexai-preview",gR="@firebase/firestore-compat",yR="firebase",vR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",_R={[Ym]:"fire-core",[QA]:"fire-core-compat",[KA]:"fire-analytics",[GA]:"fire-analytics-compat",[$A]:"fire-app-check",[WA]:"fire-app-check-compat",[XA]:"fire-auth",[ZA]:"fire-auth-compat",[JA]:"fire-rtdb",[eR]:"fire-data-connect",[tR]:"fire-rtdb-compat",[nR]:"fire-fn",[rR]:"fire-fn-compat",[aR]:"fire-iid",[iR]:"fire-iid-compat",[sR]:"fire-fcm",[oR]:"fire-fcm-compat",[lR]:"fire-perf",[cR]:"fire-perf-compat",[uR]:"fire-rc",[dR]:"fire-rc-compat",[fR]:"fire-gcs",[hR]:"fire-gcs-compat",[pR]:"fire-fst",[gR]:"fire-fst-compat",[mR]:"fire-vertex","fire-js":"fire-js",[yR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map,bR=new Map,qm=new Map;function ib(r,e){try{r.container.addComponent(e)}catch(t){Ha.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function qc(r){const e=r.name;if(qm.has(e))return Ha.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,r);for(const t of gf.values())ib(t,r);for(const t of bR.values())ib(t,r);return!0}function xE(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new _E("app","Firebase",wR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=vR;function SE(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Hm,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Ni.create("bad-app-name",{appName:String(s)});if(t||(t=yE()),!t)throw Ni.create("no-options");const o=gf.get(s);if(o){if(Bm(t,o.options)&&Bm(n,o.config))return o;throw Ni.create("duplicate-app",{appName:s})}const u=new RA(s);for(const p of qm.values())u.addComponent(p);const f=new ER(t,n,u);return gf.set(s,f),f}function DE(r=Hm){const e=gf.get(r);if(!e&&r===Hm&&yE())return SE();if(!e)throw Ni.create("no-app",{appName:r});return e}function ki(r,e,t){var n;let s=(n=_R[r])!==null&&n!==void 0?n:r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ha.warn(f.join(" "));return}qc(new Wo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firebase-heartbeat-database",TR=1,Qc="firebase-heartbeat-store";let Em=null;function AE(){return Em||(Em=FA(xR,TR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Qc)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ni.create("idb-open",{originalErrorMessage:r.message})})),Em}async function SR(r){try{const t=(await AE()).transaction(Qc),n=await t.objectStore(Qc).get(RE(r));return await t.done,n}catch(e){if(e instanceof Hs)Ha.warn(e.message);else{const t=Ni.create("idb-get",{originalErrorMessage:e?.message});Ha.warn(t.message)}}}async function sb(r,e){try{const n=(await AE()).transaction(Qc,"readwrite");await n.objectStore(Qc).put(e,RE(r)),await n.done}catch(t){if(t instanceof Hs)Ha.warn(t.message);else{const n=Ni.create("idb-set",{originalErrorMessage:t?.message});Ha.warn(n.message)}}}function RE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=1024,AR=30*24*60*60*1e3;class RR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NR(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ob();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=AR}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ha.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ob(),{heartbeatsToSend:n,unsentEntries:s}=CR(this._heartbeatsCache.heartbeats),o=mf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ha.warn(t),""}}}function ob(){return new Date().toISOString().substring(0,10)}function CR(r,e=DR){const t=[];let n=r.slice();for(const s of r){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),lb(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),lb(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class NR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bA()?wA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return sb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return sb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function lb(r){return mf(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){qc(new Wo("platform-logger",e=>new HA(e),"PRIVATE")),qc(new Wo("heartbeat",e=>new RR(e),"PRIVATE")),ki(Ym,ab,r),ki(Ym,ab,"esm2017"),ki("fire-js","")}kR("");var cb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,CE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function k(){}k.prototype=R.prototype,O.D=R.prototype,O.prototype=new k,O.prototype.constructor=O,O.C=function(C,U,B){for(var M=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)M[Ae-2]=arguments[Ae];return R.prototype[U].apply(C,M)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,R,k){k||(k=0);var C=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)C[U]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(U=0;16>U;++U)C[U]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=O.g[0],k=O.g[1],U=O.g[2];var B=O.g[3],M=R+(B^k&(U^B))+C[0]+3614090360&4294967295;R=k+(M<<7&4294967295|M>>>25),M=B+(U^R&(k^U))+C[1]+3905402710&4294967295,B=R+(M<<12&4294967295|M>>>20),M=U+(k^B&(R^k))+C[2]+606105819&4294967295,U=B+(M<<17&4294967295|M>>>15),M=k+(R^U&(B^R))+C[3]+3250441966&4294967295,k=U+(M<<22&4294967295|M>>>10),M=R+(B^k&(U^B))+C[4]+4118548399&4294967295,R=k+(M<<7&4294967295|M>>>25),M=B+(U^R&(k^U))+C[5]+1200080426&4294967295,B=R+(M<<12&4294967295|M>>>20),M=U+(k^B&(R^k))+C[6]+2821735955&4294967295,U=B+(M<<17&4294967295|M>>>15),M=k+(R^U&(B^R))+C[7]+4249261313&4294967295,k=U+(M<<22&4294967295|M>>>10),M=R+(B^k&(U^B))+C[8]+1770035416&4294967295,R=k+(M<<7&4294967295|M>>>25),M=B+(U^R&(k^U))+C[9]+2336552879&4294967295,B=R+(M<<12&4294967295|M>>>20),M=U+(k^B&(R^k))+C[10]+4294925233&4294967295,U=B+(M<<17&4294967295|M>>>15),M=k+(R^U&(B^R))+C[11]+2304563134&4294967295,k=U+(M<<22&4294967295|M>>>10),M=R+(B^k&(U^B))+C[12]+1804603682&4294967295,R=k+(M<<7&4294967295|M>>>25),M=B+(U^R&(k^U))+C[13]+4254626195&4294967295,B=R+(M<<12&4294967295|M>>>20),M=U+(k^B&(R^k))+C[14]+2792965006&4294967295,U=B+(M<<17&4294967295|M>>>15),M=k+(R^U&(B^R))+C[15]+1236535329&4294967295,k=U+(M<<22&4294967295|M>>>10),M=R+(U^B&(k^U))+C[1]+4129170786&4294967295,R=k+(M<<5&4294967295|M>>>27),M=B+(k^U&(R^k))+C[6]+3225465664&4294967295,B=R+(M<<9&4294967295|M>>>23),M=U+(R^k&(B^R))+C[11]+643717713&4294967295,U=B+(M<<14&4294967295|M>>>18),M=k+(B^R&(U^B))+C[0]+3921069994&4294967295,k=U+(M<<20&4294967295|M>>>12),M=R+(U^B&(k^U))+C[5]+3593408605&4294967295,R=k+(M<<5&4294967295|M>>>27),M=B+(k^U&(R^k))+C[10]+38016083&4294967295,B=R+(M<<9&4294967295|M>>>23),M=U+(R^k&(B^R))+C[15]+3634488961&4294967295,U=B+(M<<14&4294967295|M>>>18),M=k+(B^R&(U^B))+C[4]+3889429448&4294967295,k=U+(M<<20&4294967295|M>>>12),M=R+(U^B&(k^U))+C[9]+568446438&4294967295,R=k+(M<<5&4294967295|M>>>27),M=B+(k^U&(R^k))+C[14]+3275163606&4294967295,B=R+(M<<9&4294967295|M>>>23),M=U+(R^k&(B^R))+C[3]+4107603335&4294967295,U=B+(M<<14&4294967295|M>>>18),M=k+(B^R&(U^B))+C[8]+1163531501&4294967295,k=U+(M<<20&4294967295|M>>>12),M=R+(U^B&(k^U))+C[13]+2850285829&4294967295,R=k+(M<<5&4294967295|M>>>27),M=B+(k^U&(R^k))+C[2]+4243563512&4294967295,B=R+(M<<9&4294967295|M>>>23),M=U+(R^k&(B^R))+C[7]+1735328473&4294967295,U=B+(M<<14&4294967295|M>>>18),M=k+(B^R&(U^B))+C[12]+2368359562&4294967295,k=U+(M<<20&4294967295|M>>>12),M=R+(k^U^B)+C[5]+4294588738&4294967295,R=k+(M<<4&4294967295|M>>>28),M=B+(R^k^U)+C[8]+2272392833&4294967295,B=R+(M<<11&4294967295|M>>>21),M=U+(B^R^k)+C[11]+1839030562&4294967295,U=B+(M<<16&4294967295|M>>>16),M=k+(U^B^R)+C[14]+4259657740&4294967295,k=U+(M<<23&4294967295|M>>>9),M=R+(k^U^B)+C[1]+2763975236&4294967295,R=k+(M<<4&4294967295|M>>>28),M=B+(R^k^U)+C[4]+1272893353&4294967295,B=R+(M<<11&4294967295|M>>>21),M=U+(B^R^k)+C[7]+4139469664&4294967295,U=B+(M<<16&4294967295|M>>>16),M=k+(U^B^R)+C[10]+3200236656&4294967295,k=U+(M<<23&4294967295|M>>>9),M=R+(k^U^B)+C[13]+681279174&4294967295,R=k+(M<<4&4294967295|M>>>28),M=B+(R^k^U)+C[0]+3936430074&4294967295,B=R+(M<<11&4294967295|M>>>21),M=U+(B^R^k)+C[3]+3572445317&4294967295,U=B+(M<<16&4294967295|M>>>16),M=k+(U^B^R)+C[6]+76029189&4294967295,k=U+(M<<23&4294967295|M>>>9),M=R+(k^U^B)+C[9]+3654602809&4294967295,R=k+(M<<4&4294967295|M>>>28),M=B+(R^k^U)+C[12]+3873151461&4294967295,B=R+(M<<11&4294967295|M>>>21),M=U+(B^R^k)+C[15]+530742520&4294967295,U=B+(M<<16&4294967295|M>>>16),M=k+(U^B^R)+C[2]+3299628645&4294967295,k=U+(M<<23&4294967295|M>>>9),M=R+(U^(k|~B))+C[0]+4096336452&4294967295,R=k+(M<<6&4294967295|M>>>26),M=B+(k^(R|~U))+C[7]+1126891415&4294967295,B=R+(M<<10&4294967295|M>>>22),M=U+(R^(B|~k))+C[14]+2878612391&4294967295,U=B+(M<<15&4294967295|M>>>17),M=k+(B^(U|~R))+C[5]+4237533241&4294967295,k=U+(M<<21&4294967295|M>>>11),M=R+(U^(k|~B))+C[12]+1700485571&4294967295,R=k+(M<<6&4294967295|M>>>26),M=B+(k^(R|~U))+C[3]+2399980690&4294967295,B=R+(M<<10&4294967295|M>>>22),M=U+(R^(B|~k))+C[10]+4293915773&4294967295,U=B+(M<<15&4294967295|M>>>17),M=k+(B^(U|~R))+C[1]+2240044497&4294967295,k=U+(M<<21&4294967295|M>>>11),M=R+(U^(k|~B))+C[8]+1873313359&4294967295,R=k+(M<<6&4294967295|M>>>26),M=B+(k^(R|~U))+C[15]+4264355552&4294967295,B=R+(M<<10&4294967295|M>>>22),M=U+(R^(B|~k))+C[6]+2734768916&4294967295,U=B+(M<<15&4294967295|M>>>17),M=k+(B^(U|~R))+C[13]+1309151649&4294967295,k=U+(M<<21&4294967295|M>>>11),M=R+(U^(k|~B))+C[4]+4149444226&4294967295,R=k+(M<<6&4294967295|M>>>26),M=B+(k^(R|~U))+C[11]+3174756917&4294967295,B=R+(M<<10&4294967295|M>>>22),M=U+(R^(B|~k))+C[2]+718787259&4294967295,U=B+(M<<15&4294967295|M>>>17),M=k+(B^(U|~R))+C[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+B&4294967295}n.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var k=R-this.blockSize,C=this.B,U=this.h,B=0;B<R;){if(U==0)for(;B<=k;)s(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<R;)if(C[U++]=O.charCodeAt(B++),U==this.blockSize){s(this,C),U=0;break}}else for(;B<R;)if(C[U++]=O[B++],U==this.blockSize){s(this,C),U=0;break}}this.h=U,this.o+=R},n.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var k=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=k&255,k/=256;for(this.u(O),O=Array(16),R=k=0;4>R;++R)for(var C=0;32>C;C+=8)O[k++]=this.g[R]>>>C&255;return O};function o(O,R){var k=f;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=R(O)}function u(O,R){this.h=R;for(var k=[],C=!0,U=O.length-1;0<=U;U--){var B=O[U]|0;C&&B==R||(k[U]=B,C=!1)}this.g=k}var f={};function p(O){return-128<=O&&128>O?o(O,function(R){return new u([R|0],0>R?-1:0)}):new u([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return N(m(-O));for(var R=[],k=1,C=0;O>=k;C++)R[C]=O/k|0,k*=4294967296;return new u(R,0)}function y(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return N(y(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(R,8)),C=b,U=0;U<O.length;U+=8){var B=Math.min(8,O.length-U),M=parseInt(O.substring(U,U+B),R);8>B?(B=m(Math.pow(R,B)),C=C.j(B).add(m(M))):(C=C.j(k),C=C.add(m(M)))}return C}var b=p(0),w=p(1),S=p(16777216);r=u.prototype,r.m=function(){if(j(this))return-N(this).m();for(var O=0,R=1,k=0;k<this.g.length;k++){var C=this.i(k);O+=(0<=C?C:4294967296+C)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(D(this))return"0";if(j(this))return"-"+N(this).toString(O);for(var R=m(Math.pow(O,6)),k=this,C="";;){var U=te(k,R).g;k=P(k,U.j(R));var B=((0<k.g.length?k.g[0]:k.h)>>>0).toString(O);if(k=U,D(k))return B+C;for(;6>B.length;)B="0"+B;C=B+C}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function D(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function j(O){return O.h==-1}r.l=function(O){return O=P(this,O),j(O)?-1:D(O)?0:1};function N(O){for(var R=O.g.length,k=[],C=0;C<R;C++)k[C]=~O.g[C];return new u(k,~O.h).add(w)}r.abs=function(){return j(this)?N(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),k=[],C=0,U=0;U<=R;U++){var B=C+(this.i(U)&65535)+(O.i(U)&65535),M=(B>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);C=M>>>16,B&=65535,M&=65535,k[U]=M<<16|B}return new u(k,k[k.length-1]&-2147483648?-1:0)};function P(O,R){return O.add(N(R))}r.j=function(O){if(D(this)||D(O))return b;if(j(this))return j(O)?N(this).j(N(O)):N(N(this).j(O));if(j(O))return N(this.j(N(O)));if(0>this.l(S)&&0>O.l(S))return m(this.m()*O.m());for(var R=this.g.length+O.g.length,k=[],C=0;C<2*R;C++)k[C]=0;for(C=0;C<this.g.length;C++)for(var U=0;U<O.g.length;U++){var B=this.i(C)>>>16,M=this.i(C)&65535,Ae=O.i(U)>>>16,ve=O.i(U)&65535;k[2*C+2*U]+=M*ve,W(k,2*C+2*U),k[2*C+2*U+1]+=B*ve,W(k,2*C+2*U+1),k[2*C+2*U+1]+=M*Ae,W(k,2*C+2*U+1),k[2*C+2*U+2]+=B*Ae,W(k,2*C+2*U+2)}for(C=0;C<R;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=R;C<2*R;C++)k[C]=0;return new u(k,0)};function W(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function Z(O,R){this.g=O,this.h=R}function te(O,R){if(D(R))throw Error("division by zero");if(D(O))return new Z(b,b);if(j(O))return R=te(N(O),R),new Z(N(R.g),N(R.h));if(j(R))return R=te(O,N(R)),new Z(N(R.g),R.h);if(30<O.g.length){if(j(O)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var k=w,C=R;0>=C.l(O);)k=re(k),C=re(C);var U=he(k,1),B=he(C,1);for(C=he(C,2),k=he(k,2);!D(C);){var M=B.add(C);0>=M.l(O)&&(U=U.add(k),B=M),C=he(C,1),k=he(k,1)}return R=P(O,U.j(R)),new Z(U,R)}for(U=b;0<=O.l(R);){for(k=Math.max(1,Math.floor(O.m()/R.m())),C=Math.ceil(Math.log(k)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),B=m(k),M=B.j(R);j(M)||0<M.l(O);)k-=C,B=m(k),M=B.j(R);D(B)&&(B=w),U=U.add(B),O=P(O,M)}return new Z(U,O)}r.A=function(O){return te(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),k=[],C=0;C<R;C++)k[C]=this.i(C)&O.i(C);return new u(k,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),k=[],C=0;C<R;C++)k[C]=this.i(C)|O.i(C);return new u(k,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),k=[],C=0;C<R;C++)k[C]=this.i(C)^O.i(C);return new u(k,this.h^O.h)};function re(O){for(var R=O.g.length+1,k=[],C=0;C<R;C++)k[C]=O.i(C)<<1|O.i(C-1)>>>31;return new u(k,O.h)}function he(O,R){var k=R>>5;R%=32;for(var C=O.g.length-k,U=[],B=0;B<C;B++)U[B]=0<R?O.i(B+k)>>>R|O.i(B+k+1)<<32-R:O.i(B+k);return new u(U,O.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,CE=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Rs=u}).apply(typeof cb<"u"?cb:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NE,Mc,kE,tf,Qm,ME,OE,IE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=t(this);function s(d,_){if(_)e:{var E=n;d=d.split(".");for(var A=0;A<d.length-1;A++){var H=d[A];if(!(H in E))break e;E=E[H]}d=d[d.length-1],A=E[d],_=_(A),_!=A&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var E=0,A=!1,H={next:function(){if(!A&&E<d.length){var ee=E++;return{value:_(ee,d[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(d){return d||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function m(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,E){return d.call.apply(d.bind,arguments)}function b(d,_,E){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),d.apply(_,H)}}return function(){return d.apply(_,arguments)}}function w(d,_,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,w.apply(null,arguments)}function S(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function D(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(A,H,ee){for(var me=Array(arguments.length-2),He=2;He<arguments.length;He++)me[He-2]=arguments[He];return _.prototype[H].apply(A,me)}}function j(d){const _=d.length;if(0<_){const E=Array(_);for(let A=0;A<_;A++)E[A]=d[A];return E}return[]}function N(d,_){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(p(A)){const H=d.length||0,ee=A.length||0;d.length=H+ee;for(let me=0;me<ee;me++)d[H+me]=A[me]}else d.push(A)}}class P{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function W(d){return/^[\s\xa0]*$/.test(d)}function Z(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function te(d){return te[" "](d),d}te[" "]=function(){};var re=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function he(d,_,E){for(const A in d)_.call(E,d[A],A,d)}function O(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function R(d){const _={};for(const E in d)_[E]=d[E];return _}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(d,_){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)d[E]=A[E];for(let ee=0;ee<k.length;ee++)E=k[ee],Object.prototype.hasOwnProperty.call(A,E)&&(d[E]=A[E])}}function U(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function B(d){f.setTimeout(()=>{throw d},0)}function M(){var d=ne;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Ae{constructor(){this.h=this.g=null}add(_,E){const A=ve.get();A.set(_,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ve=new P(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,ce=!1,ne=new Ae,I=()=>{const d=f.Promise.resolve(void 0);Q=()=>{d.then($)}};var $=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(E){B(E)}var _=ve;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}ce=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};f.addEventListener("test",E,_),f.removeEventListener("test",E,_)}catch{}return d}();function De(d,_){if(ue.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(re){e:{try{te(_.nodeName);var H=!0;break e}catch{}H=!1}H||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:xe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&De.aa.h.call(this)}}D(De,ue);var xe={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Cn(d,_,E,A,H){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!A,this.ha=H,this.key=++Ye,this.da=this.fa=!1}function tr(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function zn(d){this.src=d,this.g={},this.h=0}zn.prototype.add=function(d,_,E,A,H){var ee=d.toString();d=this.g[ee],d||(d=this.g[ee]=[],this.h++);var me=vt(d,_,A,H);return-1<me?(_=d[me],E||(_.fa=!1)):(_=new Cn(_,this.src,ee,!!A,H),_.fa=E,d.push(_)),_};function br(d,_){var E=_.type;if(E in d.g){var A=d.g[E],H=Array.prototype.indexOf.call(A,_,void 0),ee;(ee=0<=H)&&Array.prototype.splice.call(A,H,1),ee&&(tr(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function vt(d,_,E,A){for(var H=0;H<d.length;++H){var ee=d[H];if(!ee.da&&ee.listener==_&&ee.capture==!!E&&ee.ha==A)return H}return-1}var cn="closure_lm_"+(1e6*Math.random()|0),wr={};function Mr(d,_,E,A,H){if(Array.isArray(_)){for(var ee=0;ee<_.length;ee++)Mr(d,_[ee],E,A,H);return null}return E=nr(E),d&&d[yt]?d.K(_,E,m(A)?!!A.capture:!1,H):K(d,_,E,!1,A,H)}function K(d,_,E,A,H,ee){if(!_)throw Error("Invalid event type");var me=m(H)?!!H.capture:!!H,He=Pe(d);if(He||(d[cn]=He=new zn(d)),E=He.add(_,E,A,me,ee),E.proxy)return E;if(A=pe(),E.proxy=A,A.src=d,A.listener=E,d.addEventListener)_e||(H=me),H===void 0&&(H=!1),d.addEventListener(_.toString(),A,H);else if(d.attachEvent)d.attachEvent(at(_.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function pe(){function d(E){return _.call(d.src,d.listener,E)}const _=it;return d}function Ze(d,_,E,A,H){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)Ze(d,_[ee],E,A,H);else A=m(A)?!!A.capture:!!A,E=nr(E),d&&d[yt]?(d=d.i,_=String(_).toString(),_ in d.g&&(ee=d.g[_],E=vt(ee,E,A,H),-1<E&&(tr(ee[E]),Array.prototype.splice.call(ee,E,1),ee.length==0&&(delete d.g[_],d.h--)))):d&&(d=Pe(d))&&(_=d.g[_.toString()],d=-1,_&&(d=vt(_,E,A,H)),(E=-1<d?_[d]:null)&&Je(E))}function Je(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[yt])br(_.i,d);else{var E=d.type,A=d.proxy;_.removeEventListener?_.removeEventListener(E,A,d.capture):_.detachEvent?_.detachEvent(at(E),A):_.addListener&&_.removeListener&&_.removeListener(A),(E=Pe(_))?(br(E,d),E.h==0&&(E.src=null,_[cn]=null)):tr(d)}}}function at(d){return d in wr?wr[d]:wr[d]="on"+d}function it(d,_){if(d.da)d=!0;else{_=new De(_,this);var E=d.listener,A=d.ha||d.src;d.fa&&Je(d),d=E.call(A,_)}return d}function Pe(d){return d=d[cn],d instanceof zn?d:null}var Gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function nr(d){return typeof d=="function"?d:(d[Gt]||(d[Gt]=function(_){return d.handleEvent(_)}),d[Gt])}function ft(){de.call(this),this.i=new zn(this),this.M=this,this.F=null}D(ft,de),ft.prototype[yt]=!0,ft.prototype.removeEventListener=function(d,_,E,A){Ze(this,d,_,E,A)};function Ue(d,_){var E,A=d.F;if(A)for(E=[];A;A=A.F)E.push(A);if(d=d.M,A=_.type||_,typeof _=="string")_=new ue(_,d);else if(_ instanceof ue)_.target=_.target||d;else{var H=_;_=new ue(A,d),C(_,H)}if(H=!0,E)for(var ee=E.length-1;0<=ee;ee--){var me=_.g=E[ee];H=un(me,A,!0,_)&&H}if(me=_.g=d,H=un(me,A,!0,_)&&H,H=un(me,A,!1,_)&&H,E)for(ee=0;ee<E.length;ee++)me=_.g=E[ee],H=un(me,A,!1,_)&&H}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],A=0;A<E.length;A++)tr(E[A]);delete d.g[_],d.h--}}this.F=null},ft.prototype.K=function(d,_,E,A){return this.i.add(String(d),_,!1,E,A)},ft.prototype.L=function(d,_,E,A){return this.i.add(String(d),_,!0,E,A)};function un(d,_,E,A){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var H=!0,ee=0;ee<_.length;++ee){var me=_[ee];if(me&&!me.da&&me.capture==E){var He=me.listener,$t=me.ha||me.src;me.fa&&br(d.i,me),H=He.call($t,A)!==!1&&H}}return H&&!A.defaultPrevented}function Kt(d,_,E){if(typeof d=="function")E&&(d=w(d,E));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function Ks(d){d.g=Kt(()=>{d.g=null,d.i&&(d.i=!1,Ks(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Wa extends de{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ks(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(d){de.call(this),this.h=d,this.g={}}D(ca,de);var Hi=[];function qi(d){he(d.g,function(_,E){this.g.hasOwnProperty(E)&&Je(_)},d),d.g={}}ca.prototype.N=function(){ca.aa.N.call(this),qi(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=f.JSON.stringify,Ws=f.JSON.parse,Qi=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function gl(){}gl.prototype.h=null;function yl(d){return d.h||(d.h=d.i())}function vl(){}var ua={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function da(){ue.call(this,"d")}D(da,ue);function _l(){ue.call(this,"c")}D(_l,ue);var Or={},bl=null;function $a(){return bl=bl||new ft}Or.La="serverreachability";function $s(d){ue.call(this,Or.La,d)}D($s,ue);function Xa(d){const _=$a();Ue(_,new $s(_))}Or.STAT_EVENT="statevent";function vu(d,_){ue.call(this,Or.STAT_EVENT,d),this.stat=_}D(vu,ue);function Et(d){const _=$a();Ue(_,new vu(_,d))}Or.Ma="timingevent";function Wt(d,_){ue.call(this,Or.Ma,d),this.size=_}D(Wt,ue);function Ft(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function rr(){this.g=!0}rr.prototype.xa=function(){this.g=!1};function wl(d,_,E,A,H,ee){d.info(function(){if(d.g)if(ee)for(var me="",He=ee.split("&"),$t=0;$t<He.length;$t++){var qe=He[$t].split("=");if(1<qe.length){var tn=qe[0];qe=qe[1];var Xt=tn.split("_");me=2<=Xt.length&&Xt[1]=="type"?me+(tn+"="+qe+"&"):me+(tn+"=redacted&")}}else me=null;else me=ee;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+_+`
`+E+`
`+me})}function ph(d,_,E,A,H,ee,me){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+_+`
`+E+`
`+ee+" "+me})}function Za(d,_,E,A){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Gi(d,E)+(A?" "+A:"")})}function _u(d,_){d.info(function(){return"TIMEOUT: "+_})}rr.prototype.info=function(){};function Gi(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var A=E[d];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var ee=H[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var me=1;me<H.length;me++)H[me]=""}}}}return Er(E)}catch{return _}}var Ja={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ir;function Pr(){}D(Pr,gl),Pr.prototype.g=function(){return new XMLHttpRequest},Pr.prototype.i=function(){return{}},Ir=new Pr;function Nn(d,_,E,A){this.j=d,this.i=_,this.l=E,this.R=A||1,this.U=new ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pt}function Pt(){this.i=null,this.g="",this.h=!1}var El={},Xs={};function xr(d,_,E){d.L=1,d.v=Zi(Yn(_)),d.m=E,d.P=!0,ha(d,null)}function ha(d,_){d.F=Date.now(),Ki(d),d.A=Yn(d.v);var E=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),Rl(E.i,"t",A),d.C=0,E=d.j.J,d.h=new Pt,d.g=Pu(d.j,E?_:null,!d.m),0<d.O&&(d.M=new Wa(w(d.Y,d,d.g),d.O)),_=d.U,E=d.g,A=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(Hi[0]=H.toString()),H=Hi);for(var ee=0;ee<H.length;ee++){var me=Mr(E,H[ee],A||_.handleEvent,!1,_.h||_);if(!me)break;_.g[me.key]=me}_=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Xa(),wl(d.i,d.u,d.A,d.l,d.R,d.m)}Nn.prototype.ca=function(d){d=d.target;const _=this.M;_&&or(d)==3?_.j():this.Y(d)},Nn.prototype.Y=function(d){try{if(d==this.g)e:{const Xt=or(this.g);var _=this.g.Ba();const wa=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||Xt!=4||_==7||(_==8||0>=wa?Xa(3):Xa(2)),ei(this);var E=this.g.Z();this.X=E;t:if(bu(this)){var A=Au(this.g);d="";var H=A.length,ee=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),jr(this);var me="";break t}this.h.i=new f.TextDecoder}for(_=0;_<H;_++)this.h.h=!0,d+=this.h.i.decode(A[_],{stream:!(ee&&_==H-1)});A.length=0,this.h.g+=d,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=E==200,ph(this.i,this.u,this.A,this.l,this.R,Xt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var He,$t=this.g;if((He=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(He)){var qe=He;break t}}qe=null}if(E=qe)Za(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wi(this,E);else{this.o=!1,this.s=3,Et(12),dn(this),jr(this);break e}}if(this.P){E=!0;let fn;for(;!this.J&&this.C<me.length;)if(fn=wu(this,me),fn==Xs){Xt==4&&(this.s=4,Et(14),E=!1),Za(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==El){this.s=4,Et(15),Za(this.i,this.l,me,"[Invalid Chunk]"),E=!1;break}else Za(this.i,this.l,fn,null),Wi(this,fn);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||me.length!=0||this.h.h||(this.s=1,Et(16),E=!1),this.o=this.o&&E,!E)Za(this.i,this.l,me,"[Invalid Chunked Response]"),dn(this),jr(this);else if(0<me.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),ss(tn),tn.M=!0,Et(11))}}else Za(this.i,this.l,me,null),Wi(this,me);Xt==4&&dn(this),this.o&&!this.J&&(Xt==4?Mu(this.j,this):(this.o=!1,Ki(this)))}else _h(this.g),E==400&&0<me.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),dn(this),jr(this)}}}catch{}finally{}};function bu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function wu(d,_){var E=d.C,A=_.indexOf(`
`,E);return A==-1?Xs:(E=Number(_.substring(E,A)),isNaN(E)?El:(A+=1,A+E>_.length?Xs:(_=_.slice(A,A+E),d.C=A+E,_)))}Nn.prototype.cancel=function(){this.J=!0,dn(this)};function Ki(d){d.S=Date.now()+d.I,Eu(d,d.I)}function Eu(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ft(w(d.ba,d),_)}function ei(d){d.B&&(f.clearTimeout(d.B),d.B=null)}Nn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(_u(this.i,this.A),this.L!=2&&(Xa(),Et(17)),dn(this),this.s=2,jr(this)):Eu(this,this.S-d)};function jr(d){d.j.G==0||d.J||Mu(d.j,d)}function dn(d){ei(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,qi(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Wi(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||xl(E.h,d))){if(!d.K&&xl(E.h,d)&&E.G==3){try{var A=E.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)co(E),oo(E);else break e;Ol(E),Et(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ft(w(E.Za,E),6e3));if(1>=Js(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ba(E,11)}else if((d.K||E.g==d)&&co(E),!W(_))for(H=E.Da.g.parse(_),_=0;_<H.length;_++){let qe=H[_];if(E.T=qe[0],qe=qe[1],E.G==2)if(qe[0]=="c"){E.K=qe[1],E.ia=qe[2];const tn=qe[3];tn!=null&&(E.la=tn,E.j.info("VER="+E.la));const Xt=qe[4];Xt!=null&&(E.Aa=Xt,E.j.info("SVER="+E.Aa));const wa=qe[5];wa!=null&&typeof wa=="number"&&0<wa&&(A=1.5*wa,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const fn=d.g;if(fn){const Yr=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var ee=A.h;ee.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(eo(ee,ee.h),ee.h=null))}if(A.D){const Pl=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Pl&&(A.ya=Pl,ht(A.I,A.D,Pl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var me=d;if(A.qa=Iu(A,A.J?A.ia:null,A.W),me.K){kn(A.h,me);var He=me,$t=A.L;$t&&(He.I=$t),He.B&&(ei(He),Ki(He)),A.g=me}else Nu(A);0<E.i.length&&lo(E)}else qe[0]!="stop"&&qe[0]!="close"||ba(E,7);else E.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ba(E,7):kl(E):qe[0]!="noop"&&E.l&&E.l.ta(qe),E.v=0)}}Xa(4)}catch{}}var xu=class{constructor(d,_){this.g=d,this.map=_}};function pa(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zs(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Js(d){return d.h?1:d.g?d.g.size:0}function xl(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function eo(d,_){d.g?d.g.add(_):d.h=_}function kn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}pa.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Tl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return j(d.i)}function mh(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var _=[],E=d.length,A=0;A<E;A++)_.push(d[A]);return _}_=[],E=0;for(A in d)_[E++]=d[A];return _}function to(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const A in d)_[E++]=A;return _}}}function Sl(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=to(d),A=mh(d),H=A.length,ee=0;ee<H;ee++)_.call(void 0,A[ee],E&&E[ee],d)}var $i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gh(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var A=d[E].indexOf("="),H=null;if(0<=A){var ee=d[E].substring(0,A);H=d[E].substring(A+1)}else ee=d[E];_(ee,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function zt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof zt){this.h=d.h,Xi(this,d.j),this.o=d.o,this.g=d.g,ti(this,d.s),this.l=d.l;var _=d.i,E=new ga;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),ma(this,E),this.m=d.m}else d&&(_=String(d).match($i))?(this.h=!1,Xi(this,_[1]||"",!0),this.o=ar(_[2]||""),this.g=ar(_[3]||"",!0),ti(this,_[4]),this.l=ar(_[5]||"",!0),ma(this,_[6]||"",!0),this.m=ar(_[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}zt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Ji(_,Dl,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Ji(_,Dl,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ji(E,E.charAt(0)=="/"?yh:Al,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ji(E,no)),d.join("")};function Yn(d){return new zt(d)}function Xi(d,_,E){d.j=E?ar(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ti(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function ma(d,_,E){_ instanceof ga?(d.i=_,Su(d.i,d.h)):(E||(_=Ji(_,vh)),d.i=new ga(_,d.h))}function ht(d,_,E){d.i.set(_,E)}function Zi(d){return ht(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ar(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ji(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,Tu),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Tu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Dl=/[#\/\?@]/g,Al=/[#\?:]/g,yh=/[#\?]/g,vh=/[#\?@]/g,no=/#/g;function ga(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function ir(d){d.g||(d.g=new Map,d.h=0,d.i&&gh(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}r=ga.prototype,r.add=function(d,_){ir(this),this.i=null,d=Vr(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function ya(d,_){ir(d),_=Vr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function va(d,_){return ir(d),_=Vr(d,_),d.g.has(_)}r.forEach=function(d,_){ir(this),this.g.forEach(function(E,A){E.forEach(function(H){d.call(_,H,A,this)},this)},this)},r.na=function(){ir(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let A=0;A<_.length;A++){const H=d[A];for(let ee=0;ee<H.length;ee++)E.push(_[A])}return E},r.V=function(d){ir(this);let _=[];if(typeof d=="string")va(this,d)&&(_=_.concat(this.g.get(Vr(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},r.set=function(d,_){return ir(this),this.i=null,d=Vr(this,d),va(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},r.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Rl(d,_,E){ya(d,_),0<E.length&&(d.i=null,d.g.set(Vr(d,_),j(E)),d.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var A=_[E];const ee=encodeURIComponent(String(A)),me=this.V(A);for(A=0;A<me.length;A++){var H=ee;me[A]!==""&&(H+="="+encodeURIComponent(String(me[A]))),d.push(H)}}return this.i=d.join("&")};function Vr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Su(d,_){_&&!d.j&&(ir(d),d.i=null,d.g.forEach(function(E,A){var H=A.toLowerCase();A!=H&&(ya(this,A),Rl(this,H,E))},d)),d.j=_}function es(d,_){const E=new rr;if(f.Image){const A=new Image;A.onload=S(sr,E,"TestLoadImage: loaded",!0,_,A),A.onerror=S(sr,E,"TestLoadImage: error",!1,_,A),A.onabort=S(sr,E,"TestLoadImage: abort",!1,_,A),A.ontimeout=S(sr,E,"TestLoadImage: timeout",!1,_,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else _(!1)}function Tr(d,_){const E=new rr,A=new AbortController,H=setTimeout(()=>{A.abort(),sr(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:A.signal}).then(ee=>{clearTimeout(H),ee.ok?sr(E,"TestPingServer: ok",!0,_):sr(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),sr(E,"TestPingServer: error",!1,_)})}function sr(d,_,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function ts(){this.g=new Qi}function Lr(d,_,E){const A=E||"";try{Sl(d,function(H,ee){let me=H;m(H)&&(me=Er(H)),_.push(A+ee+"="+encodeURIComponent(me))})}catch(H){throw _.push(A+"type="+encodeURIComponent("_badmap")),H}}function ni(d){this.l=d.Ub||null,this.j=d.eb||!1}D(ni,gl),ni.prototype.g=function(){return new _a(this.l,this.j)},ni.prototype.i=function(d){return function(){return d}}({});function _a(d,_){ft.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(_a,ft),r=_a.prototype,r.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Br(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ur(this):Br(this),this.readyState==3&&Cl(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,Ur(this))},r.Qa=function(d){this.g&&(this.response=d,Ur(this))},r.ga=function(){this.g&&Ur(this)};function Ur(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Br(d)}r.setRequestHeader=function(d,_){this.u.append(d,_)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function Br(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Nl(d){let _="";return he(d,function(E,A){_+=A,_+=":",_+=E,_+=`\r
`}),_}function en(d,_,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Nl(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):ht(d,_,E))}function st(d){ft.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(st,ft);var ro=/^https?$/i,ns=["POST","PUT"];r=st.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,_,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ir.g(),this.v=this.o?yl(this.o):yl(Ir),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(ee){Du(this,ee);return}if(d=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())E.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),H=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ns,_,void 0))||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of E)this.g.setRequestHeader(ee,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(d),this.u=!1}catch(ee){Du(this,ee)}};function Du(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,ao(d),Fr(d)}function ao(d){d.A||(d.A=!0,Ue(d,"complete"),Ue(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ue(this,"complete"),Ue(this,"abort"),Fr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fr(this,!0)),st.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?io(this):this.bb())},r.bb=function(){io(this)};function io(d){if(d.h&&typeof u<"u"&&(!d.v[1]||or(d)!=4||d.Z()!=2)){if(d.u&&or(d)==4)Kt(d.Ea,0,d);else if(Ue(d,"readystatechange"),or(d)==4){d.h=!1;try{const me=d.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var A;if(A=me===0){var H=String(d.D).match($i)[1]||null;!H&&f.self&&f.self.location&&(H=f.self.location.protocol.slice(0,-1)),A=!ro.test(H?H.toLowerCase():"")}E=A}if(E)Ue(d,"complete"),Ue(d,"success");else{d.m=6;try{var ee=2<or(d)?d.g.statusText:""}catch{ee=""}d.l=ee+" ["+d.Z()+"]",ao(d)}}finally{Fr(d)}}}}function Fr(d,_){if(d.g){rs(d);const E=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Ue(d,"ready");try{E.onreadystatechange=A}catch{}}}function rs(d){d.I&&(f.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function or(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Ws(_)}};function Au(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function _h(d){const _={};d=(d.g&&2<=or(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(W(d[A]))continue;var E=U(d[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=_[H]||[];_[H]=ee,ee.push(E)}O(_,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function so(d){this.Aa=0,this.i=[],this.j=new rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,d),this.cb=as("retryDelaySeedMs",1e4,d),this.Wa=as("forwardChannelMaxRetries",2,d),this.wa=as("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new pa(d&&d.concurrentRequestLimit),this.Da=new ts,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=so.prototype,r.la=8,r.G=1,r.connect=function(d,_,E,A){Et(0),this.W=d,this.H=_||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=Iu(this,null,this.W),lo(this)};function kl(d){if(Ru(d),d.G==3){var _=d.U++,E=Yn(d.I);if(ht(E,"SID",d.K),ht(E,"RID",_),ht(E,"TYPE","terminate"),is(d,E),_=new Nn(d,d.j,_),_.L=2,_.v=Zi(Yn(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=_.v,E=!0),E||(_.g=Pu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ki(_)}Ou(d)}function oo(d){d.g&&(ss(d),d.g.cancel(),d.g=null)}function Ru(d){oo(d),d.u&&(f.clearTimeout(d.u),d.u=null),co(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function lo(d){if(!Zs(d.h)&&!d.s){d.s=!0;var _=d.Ga;Q||I(),ce||(Q(),ce=!0),ne.add(_,d),d.B=0}}function bh(d,_){return Js(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ft(w(d.Ga,d,_),Il(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new Nn(this,this.j,d);let ee=this.o;if(this.S&&(ee?(ee=R(ee),C(ee,this.S)):ee=this.S),this.m!==null||this.O||(H.H=ee,ee=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Cu(this,H,_),E=Yn(this.I),ht(E,"RID",d),ht(E,"CVER",22),this.D&&ht(E,"X-HTTP-Session-Id",this.D),is(this,E),ee&&(this.O?_="headers="+encodeURIComponent(String(Nl(ee)))+"&"+_:this.m&&en(E,this.m,ee)),eo(this.h,H),this.Ua&&ht(E,"TYPE","init"),this.P?(ht(E,"$req",_),ht(E,"SID","null"),H.T=!0,xr(H,E,null)):xr(H,E,_),this.G=2}}else this.G==3&&(d?Ml(this,d):this.i.length==0||Zs(this.h)||Ml(this))};function Ml(d,_){var E;_?E=_.l:E=d.U++;const A=Yn(d.I);ht(A,"SID",d.K),ht(A,"RID",E),ht(A,"AID",d.T),is(d,A),d.m&&d.o&&en(A,d.m,d.o),E=new Nn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Cu(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),eo(d.h,E),xr(E,A,_)}function is(d,_){d.H&&he(d.H,function(E,A){ht(_,A,E)}),d.l&&Sl({},function(E,A){ht(_,A,E)})}function Cu(d,_,E){E=Math.min(d.i.length,E);var A=d.l?w(d.l.Na,d.l,d):null;e:{var H=d.i;let ee=-1;for(;;){const me=["count="+E];ee==-1?0<E?(ee=H[0].g,me.push("ofs="+ee)):ee=0:me.push("ofs="+ee);let He=!0;for(let $t=0;$t<E;$t++){let qe=H[$t].g;const tn=H[$t].map;if(qe-=ee,0>qe)ee=Math.max(0,H[$t].g-100),He=!1;else try{Lr(tn,me,"req"+qe+"_")}catch{A&&A(tn)}}if(He){A=me.join("&");break e}}}return d=d.i.splice(0,E),_.D=d,A}function Nu(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;Q||I(),ce||(Q(),ce=!0),ne.add(_,d),d.v=0}}function Ol(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ft(w(d.Fa,d),Il(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ft(w(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),oo(this),ku(this))};function ss(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function ku(d){d.g=new Nn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Yn(d.qa);ht(_,"RID","rpc"),ht(_,"SID",d.K),ht(_,"AID",d.T),ht(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&ht(_,"TO",d.ja),ht(_,"TYPE","xmlhttp"),is(d,_),d.m&&d.o&&en(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Zi(Yn(_)),E.m=null,E.P=!0,ha(E,d)}r.Za=function(){this.C!=null&&(this.C=null,oo(this),Ol(this),Et(19))};function co(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Mu(d,_){var E=null;if(d.g==_){co(d),ss(d),d.g=null;var A=2}else if(xl(d.h,_))E=_.D,kn(d.h,_),A=1;else return;if(d.G!=0){if(_.o)if(A==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var H=d.B;A=$a(),Ue(A,new Wt(A,E)),lo(d)}else Nu(d);else if(H=_.s,H==3||H==0&&0<_.X||!(A==1&&bh(d,_)||A==2&&Ol(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),H){case 1:ba(d,5);break;case 4:ba(d,10);break;case 3:ba(d,6);break;default:ba(d,2)}}}function Il(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function ba(d,_){if(d.j.info("Error code "+_),_==2){var E=w(d.fb,d),A=d.Xa;const H=!A;A=new zt(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Xi(A,"https"),Zi(A),H?es(A.toString(),E):Tr(A.toString(),E)}else Et(2);d.G=0,d.l&&d.l.sa(_),Ou(d),Ru(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Ou(d){if(d.G=0,d.ka=[],d.l){const _=Tl(d.h);(_.length!=0||d.i.length!=0)&&(N(d.ka,_),N(d.ka,d.i),d.h.i.length=0,j(d.i),d.i.length=0),d.l.ra()}}function Iu(d,_,E){var A=E instanceof zt?Yn(E):new zt(E);if(A.g!="")_&&(A.g=_+"."+A.g),ti(A,A.s);else{var H=f.location;A=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;var ee=new zt(null);A&&Xi(ee,A),_&&(ee.g=_),H&&ti(ee,H),E&&(ee.l=E),A=ee}return E=d.D,_=d.ya,E&&_&&ht(A,E,_),ht(A,"VER",d.la),is(d,A),A}function Pu(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new st(new ni({eb:E})):new st(d.pa),_.Ha(d.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}r=ju.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function uo(){}uo.prototype.g=function(d,_){return new Mn(d,_)};function Mn(d,_){ft.call(this),this.g=new so(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!W(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!W(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new zr(this)}D(Mn,ft),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){kl(this.g)},Mn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Er(d),d=E);_.i.push(new xu(_.Ya++,d)),_.G==3&&lo(_)},Mn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,Mn.aa.N.call(this)};function Vu(d){da.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}D(Vu,da);function Lu(){_l.call(this),this.status=1}D(Lu,_l);function zr(d){this.g=d}D(zr,ju),zr.prototype.ua=function(){Ue(this.g,"a")},zr.prototype.ta=function(d){Ue(this.g,new Vu(d))},zr.prototype.sa=function(d){Ue(this.g,new Lu)},zr.prototype.ra=function(){Ue(this.g,"b")},uo.prototype.createWebChannel=uo.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,IE=function(){return new uo},OE=function(){return $a()},ME=Or,Qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ja.NO_ERROR=0,Ja.TIMEOUT=8,Ja.HTTP_ERROR=6,tf=Ja,fa.COMPLETE="complete",kE=fa,vl.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Mc=vl,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,NE=st}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});const ub="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new bE("@firebase/firestore");function Sc(){return Ps.logLevel}function we(r,...e){if(Ps.logLevel<=We.DEBUG){const t=e.map(xg);Ps.debug(`Firestore (${ul}): ${r}`,...t)}}function qa(r,...e){if(Ps.logLevel<=We.ERROR){const t=e.map(xg);Ps.error(`Firestore (${ul}): ${r}`,...t)}}function $o(r,...e){if(Ps.logLevel<=We.WARN){const t=e.map(xg);Ps.warn(`Firestore (${ul}): ${r}`,...t)}}function xg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r="Unexpected state"){const e=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: `+r;throw qa(e),new Error(e)}function Xe(r,e){r||Ne()}function Oe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Hs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Sn.UNAUTHENTICATED))}shutdown(){}}class OR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IR{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let n=this.i;const s=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let o=new ja;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ja,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const p=o;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},f=p=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ja)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Xe(typeof n.accessToken=="string"),new PE(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new Sn(e)}}class PR{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jR{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new PR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Xe(this.o===void 0);const n=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const s=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new VR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=UR(40);for(let o=0;o<s.length;++o)n.length<20&&s[o]<t&&(n+=e.charAt(s[o]%e.length))}return n}}function tt(r,e){return r<e?-1:r>e?1:0}function Xo(r,e,t){return r.length===e.length&&r.every((n,s)=>t(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Rt(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Rt(0,0))}static max(){return new Me(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ne(),n===void 0?n=e.length-t:n>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Gc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gc?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.get(s),u=t.get(s);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bt extends Gc{construct(e,t,n){return new bt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ye(oe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(s=>s.length>0))}return new bt(t)}static emptyPath(){return new bt([])}}const BR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Gc{construct(e,t,n){return new vn(e,t,n)}static isValidIdentifier(e){return BR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const t=[];let n="",s=0;const o=()=>{if(n.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new ye(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(n+=f,s++):(o(),s++)}if(o(),u)throw new ye(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(t)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(bt.fromString(e))}static fromName(e){return new Se(bt.fromString(e).popFirst(5))}static empty(){return new Se(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new bt(e.slice()))}}function FR(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(n===1e9?new Rt(t+1,0):new Rt(t,n));return new Pi(s,Se.empty(),e)}function zR(r){return new Pi(r.readTime,r.key,-1)}class Pi{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Pi(Me.min(),Se.empty(),-1)}static max(){return new Pi(Me.max(),Se.empty(),-1)}}function YR(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(r.documentKey,e.documentKey),t!==0?t:tt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(r){if(r.code!==oe.FAILED_PRECONDITION||r.message!==HR)throw r;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((n,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,n)=>{t(e)})}static reject(e){return new fe((t,n)=>{n(e)})}static waitFor(e){return new fe((t,n)=>{let s=0,o=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++o,u&&o===s&&t()},p=>n(p))}),u=!0,o===s&&t()})}static or(e){let t=fe.resolve(!1);for(const n of e)t=t.next(s=>s?fe.resolve(s):n());return t}static forEach(e,t){const n=[];return e.forEach((s,o)=>{n.push(t.call(this,s,o))}),this.waitFor(n)}static mapArray(e,t){return new fe((n,s)=>{const o=e.length,u=new Array(o);let f=0;for(let p=0;p<o;p++){const m=p;t(e[m]).next(y=>{u[m]=y,++f,f===o&&n(u)},y=>s(y))}})}static doWhile(e,t){return new fe((n,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):n()};o()})}}function QR(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function su(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Tg.oe=-1;function ou(r){return r==null}function yf(r){return r===0&&1/r==-1/0}function GR(r){return typeof r=="number"&&Number.isInteger(r)&&!yf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function qs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function VE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new Ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fd(this.root,e,this.comparator,!0)}}class Fd{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,n,s,o){this.key=e,this.value=t,this.color=n??yn.RED,this.left=s??yn.EMPTY,this.right=o??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,o){return new yn(e??this.key,t??this.value,n??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const o=n(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,n),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return yn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,n,s,o){return this}insert(e,t,n){return new yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fb(this.data.getIterator())}getIteratorFrom(e){return new fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Xn([])}unionWith(e){let t=new bn(vn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new LE("Invalid base64 string: "+o):o}}(e);return new wn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const KR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(r){if(Xe(!!r),typeof r=="string"){let e=0;const t=KR.exec(r);if(Xe(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Lt(r.seconds),nanos:Lt(r.nanos)}}function Lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function js(r){return typeof r=="string"?wn.fromBase64String(r):wn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Dg(r){const e=r.mapValue.fields.__previous_value__;return Sg(e)?Dg(e):e}function Kc(r){const e=ji(r.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t,n,s,o,u,f,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}class Wc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd={mapValue:{}};function Vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sg(r)?4:XR(r)?9007199254740991:$R(r)?10:11:Ne()}function aa(r,e){if(r===e)return!0;const t=Vs(r);if(t!==Vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Kc(r).isEqual(Kc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=ji(s.timestampValue),f=ji(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,o){return js(s.bytesValue).isEqual(js(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,o){return Lt(s.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)}(r,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Lt(s.integerValue)===Lt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Lt(s.doubleValue),f=Lt(o.doubleValue);return u===f?yf(u)===yf(f):isNaN(u)&&isNaN(f)}return!1}(r,e);case 9:return Xo(r.arrayValue.values||[],e.arrayValue.values||[],aa);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},f=o.mapValue.fields||{};if(db(u)!==db(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!aa(u[p],f[p])))return!1;return!0}(r,e);default:return Ne()}}function $c(r,e){return(r.values||[]).find(t=>aa(t,e))!==void 0}function Zo(r,e){if(r===e)return 0;const t=Vs(r),n=Vs(e);if(t!==n)return tt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return tt(r.booleanValue,e.booleanValue);case 2:return function(o,u){const f=Lt(o.integerValue||o.doubleValue),p=Lt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return hb(r.timestampValue,e.timestampValue);case 4:return hb(Kc(r),Kc(e));case 5:return tt(r.stringValue,e.stringValue);case 6:return function(o,u){const f=js(o),p=js(u);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),p=u.split("/");for(let m=0;m<f.length&&m<p.length;m++){const y=tt(f[m],p[m]);if(y!==0)return y}return tt(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,u){const f=tt(Lt(o.latitude),Lt(u.latitude));return f!==0?f:tt(Lt(o.longitude),Lt(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return pb(r.arrayValue,e.arrayValue);case 10:return function(o,u){var f,p,m,y;const b=o.fields||{},w=u.fields||{},S=(f=b.value)===null||f===void 0?void 0:f.arrayValue,D=(p=w.value)===null||p===void 0?void 0:p.arrayValue,j=tt(((m=S?.values)===null||m===void 0?void 0:m.length)||0,((y=D?.values)===null||y===void 0?void 0:y.length)||0);return j!==0?j:pb(S,D)}(r.mapValue,e.mapValue);case 11:return function(o,u){if(o===zd.mapValue&&u===zd.mapValue)return 0;if(o===zd.mapValue)return 1;if(u===zd.mapValue)return-1;const f=o.fields||{},p=Object.keys(f),m=u.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let b=0;b<p.length&&b<y.length;++b){const w=tt(p[b],y[b]);if(w!==0)return w;const S=Zo(f[p[b]],m[y[b]]);if(S!==0)return S}return tt(p.length,y.length)}(r.mapValue,e.mapValue);default:throw Ne()}}function hb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return tt(r,e);const t=ji(r),n=ji(e),s=tt(t.seconds,n.seconds);return s!==0?s:tt(t.nanos,n.nanos)}function pb(r,e){const t=r.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const o=Zo(t[s],n[s]);if(o)return o}return tt(t.length,n.length)}function Jo(r){return Gm(r)}function Gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=ji(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return js(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Se.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",s=!0;for(const o of t.values||[])s?s=!1:n+=",",n+=Gm(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of n)o?o=!1:s+=",",s+=`${u}:${Gm(t.fields[u])}`;return s+"}"}(r.mapValue):Ne()}function mb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Km(r){return!!r&&"integerValue"in r}function Ag(r){return!!r&&"arrayValue"in r}function gb(r){return!!r&&"nullValue"in r}function yb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nf(r){return!!r&&"mapValue"in r}function $R(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Lc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return qs(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Lc(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lc(r.arrayValue.values[t]);return e}return Object.assign({},r)}function XR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!nf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(t)}setAll(e){let t=vn.emptyPath(),n={},s=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,n,s),n={},s=[],t=f.popLast()}u?n[f.lastSegment()]=Lc(u):s.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,s)}delete(e){const t=this.field(e.popLast());nf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];nf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){qs(t,(s,o)=>e[s]=o);for(const s of n)delete e[s]}clone(){return new jn(Lc(this.value))}}function UE(r){const e=[];return qs(r.fields,(t,n)=>{const s=new vn([t]);if(nf(n)){const o=UE(n.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,t,n,s,o,u,f){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new on(e,0,Me.min(),Me.min(),Me.min(),jn.empty(),0)}static newFoundDocument(e,t,n,s){return new on(e,1,t,Me.min(),n,s,0)}static newNoDocument(e,t){return new on(e,2,t,Me.min(),Me.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,Me.min(),Me.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t){this.position=e,this.inclusive=t}}function vb(r,e,t){let n=0;for(let s=0;s<r.position.length;s++){const o=e[s],u=r.position[s];if(o.field.isKeyField()?n=Se.comparator(Se.fromName(u.referenceValue),t.key):n=Zo(u,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function _b(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!aa(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{}class Qt extends BE{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new eC(e,t,n):t==="array-contains"?new rC(e,n):t==="in"?new aC(e,n):t==="not-in"?new iC(e,n):t==="array-contains-any"?new sC(e,n):new Qt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new tC(e,n):new nC(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Zo(t,this.value)):t!==null&&Vs(this.value)===Vs(t)&&this.matchesComparison(Zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends BE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Nr(e,t)}matches(e){return FE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function FE(r){return r.op==="and"}function zE(r){return JR(r)&&FE(r)}function JR(r){for(const e of r.filters)if(e instanceof Nr)return!1;return!0}function Wm(r){if(r instanceof Qt)return r.field.canonicalString()+r.op.toString()+Jo(r.value);if(zE(r))return r.filters.map(e=>Wm(e)).join(",");{const e=r.filters.map(t=>Wm(t)).join(",");return`${r.op}(${e})`}}function YE(r,e){return r instanceof Qt?function(n,s){return s instanceof Qt&&n.op===s.op&&n.field.isEqual(s.field)&&aa(n.value,s.value)}(r,e):r instanceof Nr?function(n,s){return s instanceof Nr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((o,u,f)=>o&&YE(u,s.filters[f]),!0):!1}(r,e):void Ne()}function HE(r){return r instanceof Qt?function(t){return`${t.field.canonicalString()} ${t.op} ${Jo(t.value)}`}(r):r instanceof Nr?function(t){return t.op.toString()+" {"+t.getFilters().map(HE).join(" ,")+"}"}(r):"Filter"}class eC extends Qt{constructor(e,t,n){super(e,t,n),this.key=Se.fromName(n.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class tC extends Qt{constructor(e,t){super(e,"in",t),this.keys=qE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nC extends Qt{constructor(e,t){super(e,"not-in",t),this.keys=qE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qE(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Se.fromName(n.referenceValue))}class rC extends Qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ag(t)&&$c(t.arrayValue,this.value)}}class aC extends Qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$c(this.value.arrayValue,t)}}class iC extends Qt{constructor(e,t){super(e,"not-in",t)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!$c(this.value.arrayValue,t)}}class sC extends Qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>$c(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t=null,n=[],s=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=o,this.startAt=u,this.endAt=f,this.ue=null}}function bb(r,e=null,t=[],n=[],s=null,o=null,u=null){return new oC(r,e,t,n,s,o,u)}function Rg(r){const e=Oe(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Wm(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),ou(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Jo(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Jo(n)).join(",")),e.ue=t}return e.ue}function Cg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ZR(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!YE(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!_b(r.startAt,e.startAt)&&_b(r.endAt,e.endAt)}function $m(r){return Se.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t=null,n=[],s=[],o=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lC(r,e,t,n,s,o,u,f){return new dl(r,e,t,n,s,o,u,f)}function QE(r){return new dl(r)}function wb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function GE(r){return r.collectionGroup!==null}function Uc(r){const e=Oe(r);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new bn(vn.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Xc(o,n))}),t.has(vn.keyField().canonicalString())||e.ce.push(new Xc(vn.keyField(),n))}return e.ce}function na(r){const e=Oe(r);return e.le||(e.le=cC(e,Uc(r))),e.le}function cC(r,e){if(r.limitType==="F")return bb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Xc(s.field,o)});const t=r.endAt?new vf(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new vf(r.startAt.position,r.startAt.inclusive):null;return bb(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Xm(r,e){const t=r.filters.concat([e]);return new dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function _f(r,e,t){return new dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Yf(r,e){return Cg(na(r),na(e))&&r.limitType===e.limitType}function KE(r){return`${Rg(na(r))}|lt:${r.limitType}`}function zo(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(s=>HE(s)).join(", ")}]`),ou(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Jo(s)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Jo(s)).join(",")),`Target(${n})`}(na(r))}; limitType=${r.limitType})`}function Hf(r,e){return e.isFoundDocument()&&function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Se.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,s){for(const o of Uc(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0}(r,e)&&function(n,s){return!(n.startAt&&!function(u,f,p){const m=vb(u,f,p);return u.inclusive?m<=0:m<0}(n.startAt,Uc(n),s)||n.endAt&&!function(u,f,p){const m=vb(u,f,p);return u.inclusive?m>=0:m>0}(n.endAt,Uc(n),s))}(r,e)}function uC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function WE(r){return(e,t)=>{let n=!1;for(const s of Uc(r)){const o=dC(s,e,t);if(o!==0)return o;n=n||s.field.isKeyField()}return 0}}function dC(r,e,t){const n=r.field.isKeyField()?Se.comparator(e.key,t.key):function(o,u,f){const p=u.data.field(o),m=f.data.field(o);return p!==null&&m!==null?Zo(p,m):Ne()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,o]of n)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(t,n)=>{for(const[s,o]of n)e(s,o)})}isEmpty(){return VE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new Ct(Se.comparator);function Qa(){return fC}const $E=new Ct(Se.comparator);function Oc(...r){let e=$E;for(const t of r)e=e.insert(t.key,t);return e}function XE(r){let e=$E;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Ss(){return Bc()}function ZE(){return Bc()}function Bc(){return new fl(r=>r.toString(),(r,e)=>r.isEqual(e))}const hC=new Ct(Se.comparator),pC=new bn(Se.comparator);function ze(...r){let e=pC;for(const t of r)e=e.add(t);return e}const mC=new bn(tt);function gC(){return mC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(e)?"-0":e}}function JE(r){return{integerValue:""+r}}function yC(r,e){return GR(e)?JE(e):Ng(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this._=void 0}}function vC(r,e,t){return r instanceof bf?function(s,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Sg(o)&&(o=Dg(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):r instanceof Zc?tx(r,e):r instanceof Jc?nx(r,e):function(s,o){const u=ex(s,o),f=Eb(u)+Eb(s.Pe);return Km(u)&&Km(s.Pe)?JE(f):Ng(s.serializer,f)}(r,e)}function _C(r,e,t){return r instanceof Zc?tx(r,e):r instanceof Jc?nx(r,e):t}function ex(r,e){return r instanceof wf?function(n){return Km(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class bf extends qf{}class Zc extends qf{constructor(e){super(),this.elements=e}}function tx(r,e){const t=rx(e);for(const n of r.elements)t.some(s=>aa(s,n))||t.push(n);return{arrayValue:{values:t}}}class Jc extends qf{constructor(e){super(),this.elements=e}}function nx(r,e){let t=rx(e);for(const n of r.elements)t=t.filter(s=>!aa(s,n));return{arrayValue:{values:t}}}class wf extends qf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Eb(r){return Lt(r.integerValue||r.doubleValue)}function rx(r){return Ag(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function bC(r,e){return r.field.isEqual(e.field)&&function(n,s){return n instanceof Zc&&s instanceof Zc||n instanceof Jc&&s instanceof Jc?Xo(n.elements,s.elements,aa):n instanceof wf&&s instanceof wf?aa(n.Pe,s.Pe):n instanceof bf&&s instanceof bf}(r.transform,e.transform)}class wC{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Qf{}function ax(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Gf(r.key,Dn.none()):new lu(r.key,r.data,Dn.none());{const t=r.data,n=jn.empty();let s=new bn(vn.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?n.delete(o):n.set(o,u),s=s.add(o)}return new zi(r.key,n,new Xn(s.toArray()),Dn.none())}}function EC(r,e,t){r instanceof lu?function(s,o,u){const f=s.value.clone(),p=Tb(s.fieldTransforms,o,u.transformResults);f.setAll(p),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,e,t):r instanceof zi?function(s,o,u){if(!rf(s.precondition,o))return void o.convertToUnknownDocument(u.version);const f=Tb(s.fieldTransforms,o,u.transformResults),p=o.data;p.setAll(ix(s)),p.setAll(f),o.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,t):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Fc(r,e,t,n){return r instanceof lu?function(o,u,f,p){if(!rf(o.precondition,u))return f;const m=o.value.clone(),y=Sb(o.fieldTransforms,p,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(r,e,t,n):r instanceof zi?function(o,u,f,p){if(!rf(o.precondition,u))return f;const m=Sb(o.fieldTransforms,p,u),y=u.data;return y.setAll(ix(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(r,e,t,n):function(o,u,f){return rf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(r,e,t)}function xC(r,e){let t=null;for(const n of r.fieldTransforms){const s=e.data.field(n.field),o=ex(n.transform,s||null);o!=null&&(t===null&&(t=jn.empty()),t.set(n.field,o))}return t||null}function xb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Xo(n,s,(o,u)=>bC(o,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class lu extends Qf{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zi extends Qf{constructor(e,t,n,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ix(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Tb(r,e,t){const n=new Map;Xe(r.length===t.length);for(let s=0;s<t.length;s++){const o=r[s],u=o.transform,f=e.data.field(o.field);n.set(o.field,_C(u,f,t[s]))}return n}function Sb(r,e,t){const n=new Map;for(const s of r){const o=s.transform,u=t.data.field(s.field);n.set(s.field,vC(o,u,e))}return n}class Gf extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sx extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&EC(o,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Fc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Fc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ZE();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=t.has(s.key)?null:f;const p=ax(u,f);p!==null&&n.set(s.key,p),u.isValidDocument()||u.convertToNoDocument(Me.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(t,n)=>xb(t,n))&&Xo(this.baseMutations,e.baseMutations,(t,n)=>xb(t,n))}}class kg{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){Xe(e.mutations.length===n.length);let s=function(){return hC}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,n[u].version);return new kg(e,t,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Ge;function ox(r){switch(r){default:return Ne();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function lx(r){if(r===void 0)return qa("GRPC error has no .code"),oe.UNKNOWN;switch(r){case qt.OK:return oe.OK;case qt.CANCELLED:return oe.CANCELLED;case qt.UNKNOWN:return oe.UNKNOWN;case qt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case qt.INTERNAL:return oe.INTERNAL;case qt.UNAVAILABLE:return oe.UNAVAILABLE;case qt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case qt.NOT_FOUND:return oe.NOT_FOUND;case qt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case qt.ABORTED:return oe.ABORTED;case qt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case qt.DATA_LOSS:return oe.DATA_LOSS;default:return Ne()}}(Ge=qt||(qt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new Rs([4294967295,4294967295],0);function Db(r){const e=AC().encode(r),t=new CE;return t.update(e),new Uint8Array(t.digest())}function Ab(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rs([t,n],0),new Rs([s,o],0)]}class Mg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ic(`Invalid padding: ${t}`);if(n<0)throw new Ic(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Rs.fromNumber(this.Ie)}Ee(e,t,n){let s=e.add(t.multiply(Rs.fromNumber(n)));return s.compare(RC)===1&&(s=new Rs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Db(e),[n,s]=Ab(t);for(let o=0;o<this.hashCount;o++){const u=this.Ee(n,s,o);if(!this.de(u))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Mg(o,s,t);return n.forEach(f=>u.insert(f)),u}insert(e){if(this.Ie===0)return;const t=Db(e),[n,s]=Ab(t);for(let o=0;o<this.hashCount;o++){const u=this.Ee(n,s,o);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t,n,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Kf(Me.min(),s,new Ct(tt),Qa(),ze())}}class cu{constructor(e,t,n,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new cu(n,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t,n,s){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=s}}class cx{constructor(e,t){this.targetId=e,this.me=t}}class ux{constructor(e,t,n=wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class Rb{constructor(){this.fe=0,this.ge=Nb(),this.pe=wn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),t=ze(),n=ze();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:Ne()}}),new cu(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Nb()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class CC{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qa(),this.qe=Cb(),this.Qe=new Ct(tt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((n,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,n=e.me.count,s=this.Je(t);if(s){const o=s.target;if($m(o))if(n===0){const u=new Se(o.path);this.Ue(t,u,on.newNoDocument(u,Me.min()))}else Xe(n===1);else{const u=this.Ye(t);if(u!==n){const f=this.Ze(e),p=f?this.Xe(f,e,u):1;if(p!==0){this.je(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,m)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:o=0}=t;let u,f;try{u=js(n).toUint8Array()}catch(p){if(p instanceof LE)return $o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Mg(u,s,o)}catch(p){return $o(p instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ie===0?null:f}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let s=0;return n.forEach(o=>{const u=this.Le.tt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.Ue(t,o,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((o,u)=>{const f=this.Je(u);if(f){if(o.current&&$m(f.target)){const p=new Se(f.target.path);this.ke.get(p)!==null||this.it(u,p)||this.Ue(u,p,on.newNoDocument(p,e))}o.be&&(t.set(u,o.ve()),o.Ce())}});let n=ze();this.qe.forEach((o,u)=>{let f=!0;u.forEachWhile(p=>{const m=this.Je(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(n=n.add(o))}),this.ke.forEach((o,u)=>u.setReadTime(e));const s=new Kf(e,t,this.Qe,this.ke,n);return this.ke=Qa(),this.qe=Cb(),this.Qe=new Ct(tt),s}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Rb,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bn(tt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Rb),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Cb(){return new Ct(Se.comparator)}function Nb(){return new Ct(Se.comparator)}const NC={asc:"ASCENDING",desc:"DESCENDING"},kC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MC={and:"AND",or:"OR"};class OC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zm(r,e){return r.useProto3Json||ou(e)?e:{value:e}}function Ef(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function IC(r,e){return Ef(r,e.toTimestamp())}function Jn(r){return Xe(!!r),Me.fromTimestamp(function(t){const n=ji(t);return new Rt(n.seconds,n.nanos)}(r))}function Og(r,e){return Jm(r,e).canonicalString()}function Jm(r,e){const t=function(s){return new bt(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?t:t.child(e)}function fx(r){const e=bt.fromString(r);return Xe(vx(e)),e}function xf(r,e){return Og(r.databaseId,e.path)}function zc(r,e){const t=fx(e);if(t.get(1)!==r.databaseId.projectId)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Se(px(t))}function hx(r,e){return Og(r.databaseId,e)}function PC(r){const e=fx(r);return e.length===4?bt.emptyPath():px(e)}function eg(r){return new bt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function px(r){return Xe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function kb(r,e,t){return{name:xf(r,e),fields:t.value.mapValue.fields}}function jC(r,e){return"found"in e?function(n,s){Xe(!!s.found),s.found.name,s.found.updateTime;const o=zc(n,s.found.name),u=Jn(s.found.updateTime),f=s.found.createTime?Jn(s.found.createTime):Me.min(),p=new jn({mapValue:{fields:s.found.fields}});return on.newFoundDocument(o,u,f,p)}(r,e):"missing"in e?function(n,s){Xe(!!s.missing),Xe(!!s.readTime);const o=zc(n,s.missing),u=Jn(s.readTime);return on.newNoDocument(o,u)}(r,e):Ne()}function VC(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(Xe(y===void 0||typeof y=="string"),wn.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array),wn.fromUint8Array(y||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const y=m.code===void 0?oe.UNKNOWN:lx(m.code);return new ye(y,m.message||"")}(u);t=new ux(n,s,o,f||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=zc(r,n.document.name),o=Jn(n.document.updateTime),u=n.document.createTime?Jn(n.document.createTime):Me.min(),f=new jn({mapValue:{fields:n.document.fields}}),p=on.newFoundDocument(s,o,u,f),m=n.targetIds||[],y=n.removedTargetIds||[];t=new af(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=zc(r,n.document),o=n.readTime?Jn(n.readTime):Me.min(),u=on.newNoDocument(s,o),f=n.removedTargetIds||[];t=new af([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=zc(r,n.document),o=n.removedTargetIds||[];t=new af([],o,s,null)}else{if(!("filter"in e))return Ne();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:o}=n,u=new DC(s,o),f=n.targetId;t=new cx(f,u)}}return t}function mx(r,e){let t;if(e instanceof lu)t={update:kb(r,e.key,e.value)};else if(e instanceof Gf)t={delete:xf(r,e.key)};else if(e instanceof zi)t={update:kb(r,e.key,e.data),updateMask:QC(e.fieldMask)};else{if(!(e instanceof sx))return Ne();t={verify:xf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,u){const f=u.transform;if(f instanceof bf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Zc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Jc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof wf)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw Ne()}(0,n))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:IC(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ne()}(r,e.precondition)),t}function LC(r,e){return r&&r.length>0?(Xe(e!==void 0),r.map(t=>function(s,o){let u=s.updateTime?Jn(s.updateTime):Jn(o);return u.isEqual(Me.min())&&(u=Jn(o)),new wC(u,s.transformResults||[])}(t,e))):[]}function UC(r,e){return{documents:[hx(r,e.path)]}}function BC(r,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=hx(r,s);const o=function(m){if(m.length!==0)return yx(Nr.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(y=>function(w){return{field:Yo(w.field),direction:YC(w.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Zm(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{_t:t,parent:s}}function FC(r){let e=PC(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){Xe(n===1);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(b){const w=gx(b);return w instanceof Nr&&zE(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(b){return b.map(w=>function(D){return new Xc(Ho(D.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(w))}(t.orderBy));let f=null;t.limit&&(f=function(b){let w;return w=typeof b=="object"?b.value:b,ou(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(b){const w=!!b.before,S=b.values||[];return new vf(S,w)}(t.startAt));let m=null;return t.endAt&&(m=function(b){const w=!b.before,S=b.values||[];return new vf(S,w)}(t.endAt)),lC(e,s,u,o,f,"F",p,m)}function zC(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gx(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Ho(t.unaryFilter.field);return Qt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Ho(t.unaryFilter.field);return Qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ho(t.unaryFilter.field);return Qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ho(t.unaryFilter.field);return Qt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(r):r.fieldFilter!==void 0?function(t){return Qt.create(Ho(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Nr.create(t.compositeFilter.filters.map(n=>gx(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(r):Ne()}function YC(r){return NC[r]}function HC(r){return kC[r]}function qC(r){return MC[r]}function Yo(r){return{fieldPath:r.canonicalString()}}function Ho(r){return vn.fromServerFormat(r.fieldPath)}function yx(r){return r instanceof Qt?function(t){if(t.op==="=="){if(yb(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NAN"}};if(gb(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yb(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NAN"}};if(gb(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(t.field),op:HC(t.op),value:t.value}}}(r):r instanceof Nr?function(t){const n=t.getFilters().map(s=>yx(s));return n.length===1?n[0]:{compositeFilter:{op:qC(t.op),filters:n}}}(r):Ne()}function QC(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,t,n,s,o=Me.min(),u=Me.min(),f=wn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.ct=e}}function KC(r){const e=FC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.un=new $C}addToCollectionParentIndex(e,t){return this.un.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Pi.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Pi.min())}updateCollectionGroup(e,t,n){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class $C{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new bn(bt.comparator),o=!s.has(n);return this.index[t]=s.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new bn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new el(0)}static kn(){return new el(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.changes=new fl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?fe.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(n!==null&&Fc(n.mutation,s,Xn.empty(),Rt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,ze()).next(()=>n))}getLocalViewOfDocuments(e,t,n=ze()){const s=Ss();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,n).next(o=>{let u=Oc();return o.forEach((f,p)=>{u=u.insert(f,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const n=Ss();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ze()))}populateOverlays(e,t,n){const s=[];return n.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,n,s){let o=Qa();const u=Bc(),f=function(){return Bc()}();return t.forEach((p,m)=>{const y=n.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof zi)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Fc(y.mutation,m,y.mutation.getFieldMask(),Rt.now())):u.set(m.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((m,y)=>u.set(m,y)),t.forEach((m,y)=>{var b;return f.set(m,new ZC(y,(b=u.get(m))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,t){const n=Bc();let s=new Ct((u,f)=>u-f),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let y=n.get(p)||Xn.empty();y=f.applyToLocalView(m,y),n.set(p,y);const b=(s.get(f.batchId)||ze()).add(p);s=s.insert(f.batchId,b)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,y=p.value,b=ZE();y.forEach(w=>{if(!o.has(w)){const S=ax(t.get(w),n.get(w));S!==null&&b.set(w,S),o=o.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,b))}return fe.waitFor(u)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,s){return function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-o.size):fe.resolve(Ss());let f=-1,p=o;return u.next(m=>fe.forEach(m,(y,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),o.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{p=p.insert(y,w)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,p,m,ze())).next(y=>({batchId:f,changes:XE(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(n=>{let s=Oc();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const o=t.collectionGroup;let u=Oc();return this.indexManager.getCollectionParents(e,o).next(f=>fe.forEach(f,p=>{const m=function(b,w){return new dl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,n,s).next(y=>{y.forEach((b,w)=>{u=u.insert(b,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,s))).next(u=>{o.forEach((p,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,on.newInvalidDocument(y)))});let f=Oc();return u.forEach((p,m)=>{const y=o.get(p);y!==void 0&&Fc(y.mutation,m,Xn.empty(),Rt.now()),Hf(t,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return fe.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Jn(s.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:KC(s.bundledQuery),readTime:Jn(s.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.overlays=new Ct(Se.comparator),this.Ir=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ss();return fe.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&n.set(s,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((s,o)=>{this.ht(e,t,o)}),fe.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(n)),fe.resolve()}getOverlaysForCollection(e,t,n){const s=Ss(),o=t.length+1,u=new Se(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&p.largestBatchId>n&&s.set(p.getKey(),p)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let o=new Ct((m,y)=>m-y);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>n){let y=o.get(m.largestBatchId);y===null&&(y=Ss(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=Ss(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>f.set(m,y)),!(f.size()>=s)););return fe.resolve(f)}ht(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const u=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new SC(t,n));let o=this.Ir.get(t);o===void 0&&(o=ze(),this.Ir.set(t,o)),this.Ir.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this.Tr=new bn(sn.Er),this.dr=new bn(sn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new sn(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Vr(new sn(e,t))}mr(e,t){e.forEach(n=>this.removeReference(n,t))}gr(e){const t=new Se(new bt([])),n=new sn(t,e),s=new sn(t,e+1),o=[];return this.dr.forEachInRange([n,s],u=>{this.Vr(u),o.push(u.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Se(new bt([])),n=new sn(t,e),s=new sn(t,e+1);let o=ze();return this.dr.forEachInRange([n,s],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new sn(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class sn{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Se.comparator(e.key,t.key)||tt(e.wr,t.wr)}static Ar(e,t){return tt(e.wr,t.wr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new bn(sn.Er)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new TC(o,t,n,s);this.mutationQueue.push(u);for(const f of s)this.br=this.br.add(new sn(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,t){return fe.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.vr(n),o=s<0?0:s;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new sn(t,0),s=new sn(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([n,s],u=>{const f=this.Dr(u.wr);o.push(f)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bn(tt);return t.forEach(s=>{const o=new sn(s,0),u=new sn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,u],f=>{n=n.add(f.wr)})}),fe.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let o=n;Se.isDocumentKey(o)||(o=o.child(""));const u=new sn(new Se(o),0);let f=new bn(tt);return this.br.forEachWhile(p=>{const m=p.key.path;return!!n.isPrefixOf(m)&&(m.length===s&&(f=f.add(p.wr)),!0)},u),fe.resolve(this.Cr(f))}Cr(e){const t=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Xe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return fe.forEach(t.mutations,s=>{const o=new sn(s.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new sn(t,0),s=this.br.firstAfterOrEqual(n);return fe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.Mr=e,this.docs=function(){return new Ct(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),o=s?s.size:0,u=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return fe.resolve(n?n.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let n=Qa();return t.forEach(s=>{const o=this.docs.get(s);n=n.insert(s,o?o.document.mutableCopy():on.newInvalidDocument(s))}),fe.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let o=Qa();const u=t.path,f=new Se(u.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||YR(zR(y),n)<=0||(s.has(y.key)||Hf(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,t,n,s){Ne()}Or(e,t){return fe.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new iN(this)}getSize(e){return fe.resolve(this.size)}}class iN extends XC{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),fe.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.persistence=e,this.Nr=new fl(t=>Rg(t),Cg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ig,this.targetCount=0,this.kr=el.Bn()}forEachTarget(e,t){return this.Nr.forEach((n,s)=>t(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),fe.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new el(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Kn(t),fe.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,n){let s=0;const o=[];return this.Nr.forEach((u,f)=>{f.sequenceNumber<=t&&n.get(f.targetId)===null&&(this.Nr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),fe.waitFor(o).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return fe.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),fe.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return fe.resolve(n)}containsKey(e,t){return fe.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Tg(0),this.Kr=!1,this.Kr=!0,this.$r=new nN,this.referenceDelegate=e(this),this.Ur=new sN(this),this.indexManager=new WC,this.remoteDocumentCache=function(s){return new aN(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new GC(t),this.Gr=new eN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new rN(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){we("MemoryPersistence","Starting transaction:",e);const s=new lN(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(o=>this.referenceDelegate.jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Hr(e,t){return fe.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class lN extends qR{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Jr=new Ig,this.Yr=null}static Zr(e){return new Pg(e)}get Xr(){if(this.Yr)return this.Yr;throw Ne()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),fe.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.Xr.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Xr,n=>{const s=Se.fromPath(n);return this.ei(e,s).next(o=>{o||t.removeEntry(s,Me.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return fe.or([()=>fe.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=s}static Wi(e,t){let n=ze(),s=ze();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new jg(e,t.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _A()?8:QR(yA())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,s){const o={result:null};return this.Yi(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Zi(e,t,s,n).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new cN;return this.Xi(e,t,u).next(f=>{if(o.result=f,this.zi)return this.es(e,t,u,f.size)})}).next(()=>o.result)}es(e,t,n,s){return n.documentReadCount<this.ji?(Sc()<=We.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),fe.resolve()):(Sc()<=We.DEBUG&&we("QueryEngine","Query:",zo(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(Sc()<=We.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,na(t))):fe.resolve())}Yi(e,t){if(wb(t))return fe.resolve(null);let n=na(t);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=_f(t,null,"F"),n=na(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const u=ze(...o);return this.Ji.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,n).next(p=>{const m=this.ts(t,f);return this.ns(t,m,u,p.readTime)?this.Yi(e,_f(t,null,"F")):this.rs(e,m,t,p)}))})))}Zi(e,t,n,s){return wb(t)||s.isEqual(Me.min())?fe.resolve(null):this.Ji.getDocuments(e,n).next(o=>{const u=this.ts(t,o);return this.ns(t,u,n,s)?fe.resolve(null):(Sc()<=We.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zo(t)),this.rs(e,u,t,FR(s,-1)).next(f=>f))})}ts(e,t){let n=new bn(WE(e));return t.forEach((s,o)=>{Hf(e,o)&&(n=n.add(o))}),n}ns(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(e,t,n){return Sc()<=We.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",zo(t)),this.Ji.getDocumentsMatchingQuery(e,t,Pi.min(),n)}rs(e,t,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t,n,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new Ct(tt),this._s=new fl(o=>Rg(o),Cg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function fN(r,e,t,n){return new dN(r,e,t,n)}async function _x(r,e){const t=Oe(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next(o=>(s=o,t.ls(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const u=[],f=[];let p=ze();for(const m of s){u.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of o){f.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(n,p).next(m=>({hs:m,removedBatchIds:u,addedBatchIds:f}))})})}function hN(r,e){const t=Oe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(f,p,m,y){const b=m.batch,w=b.keys();let S=fe.resolve();return w.forEach(D=>{S=S.next(()=>y.getEntry(p,D)).next(j=>{const N=m.docVersions.get(D);Xe(N!==null),j.version.compareTo(N)<0&&(b.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),y.addEntry(j)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(p,b))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(f){let p=ze();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(n,s))})}function bx(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function pN(r,e){const t=Oe(r),n=e.snapshotVersion;let s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;const f=[];e.targetChanges.forEach((y,b)=>{const w=s.get(b);if(!w)return;f.push(t.Ur.removeMatchingKeys(o,y.removedDocuments,b).next(()=>t.Ur.addMatchingKeys(o,y.addedDocuments,b)));let S=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(wn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,n)),s=s.insert(b,S),function(j,N,P){return j.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(w,S,y)&&f.push(t.Ur.updateTargetData(o,S))});let p=Qa(),m=ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),f.push(mN(o,u,e.documentUpdates).next(y=>{p=y.Ps,m=y.Is})),!n.isEqual(Me.min())){const y=t.Ur.getLastRemoteSnapshotVersion(o).next(b=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,n));f.push(y)}return fe.waitFor(f).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,m)).next(()=>p)}).then(o=>(t.os=s,o))}function mN(r,e,t){let n=ze(),s=ze();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let u=Qa();return t.forEach((f,p)=>{const m=o.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(f)),p.isNoDocument()&&p.version.isEqual(Me.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):we("LocalStore","Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Ps:u,Is:s}})}function gN(r,e){const t=Oe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function yN(r,e){const t=Oe(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return t.Ur.getTargetData(n,e).next(o=>o?(s=o,fe.resolve(s)):t.Ur.allocateTargetId(n).next(u=>(s=new Ai(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=t.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n})}async function tg(r,e,t){const n=Oe(r),s=n.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,u=>n.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!su(u))throw u;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function Mb(r,e,t){const n=Oe(r);let s=Me.min(),o=ze();return n.persistence.runTransaction("Execute query","readwrite",u=>function(p,m,y){const b=Oe(p),w=b._s.get(y);return w!==void 0?fe.resolve(b.os.get(w)):b.Ur.getTargetData(m,y)}(n,u,na(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(u,f.targetId).next(p=>{o=p})}).next(()=>n.ss.getDocumentsMatchingQuery(u,e,t?s:Me.min(),t?o:ze())).next(f=>(vN(n,uC(e),f),{documents:f,Ts:o})))}function vN(r,e,t){let n=r.us.get(e)||Me.min();t.forEach((s,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.us.set(e,n)}class Ob{constructor(){this.activeTargetIds=gC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _N{constructor(){this.so=new Ob,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ob,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function xm(){return Yd===null?Yd=function(){return 268435456+Math.round(2147483648*Math.random())}():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class xN extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(t,n,s,o,u){const f=xm(),p=this.xo(t,n.toUriEncodedString());we("RestConnection",`Sending RPC '${t}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,o,u),this.No(t,p,m,s).then(y=>(we("RestConnection",`Received RPC '${t}' ${f}: `,y),y),y=>{throw $o("RestConnection",`RPC '${t}' ${f} failed with error: `,y,"url: ",p,"request:",s),y})}Lo(t,n,s,o,u,f){return this.Mo(t,n,s,o,u)}Oo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}xo(t,n){const s=wN[t];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,s){const o=xm();return new Promise((u,f)=>{const p=new NE;p.setWithCredentials(!0),p.listenOnce(kE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case tf.NO_ERROR:const y=p.getResponseJson();we(Tn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),u(y);break;case tf.TIMEOUT:we(Tn,`RPC '${e}' ${o} timed out`),f(new ye(oe.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const b=p.getStatus();if(we(Tn,`RPC '${e}' ${o} failed with status:`,b,"response text:",p.getResponseText()),b>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w?.error;if(S&&S.status&&S.message){const D=function(N){const P=N.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(P)>=0?P:oe.UNKNOWN}(S.status);f(new ye(D,S.message))}else f(new ye(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ye(oe.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{we(Tn,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(s);we(Tn,`RPC '${e}' ${o} sending request:`,s),p.send(t,"POST",m,n,15)})}Bo(e,t,n){const s=xm(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=IE(),f=OE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const y=o.join("");we(Tn,`Creating RPC '${e}' stream ${s}: ${y}`,p);const b=u.createWebChannel(y,p);let w=!1,S=!1;const D=new EN({Io:N=>{S?we(Tn,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(w||(we(Tn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),w=!0),we(Tn,`RPC '${e}' stream ${s} sending:`,N),b.send(N))},To:()=>b.close()}),j=(N,P,W)=>{N.listen(P,Z=>{try{W(Z)}catch(te){setTimeout(()=>{throw te},0)}})};return j(b,Mc.EventType.OPEN,()=>{S||(we(Tn,`RPC '${e}' stream ${s} transport opened.`),D.yo())}),j(b,Mc.EventType.CLOSE,()=>{S||(S=!0,we(Tn,`RPC '${e}' stream ${s} transport closed`),D.So())}),j(b,Mc.EventType.ERROR,N=>{S||(S=!0,$o(Tn,`RPC '${e}' stream ${s} transport errored:`,N),D.So(new ye(oe.UNAVAILABLE,"The operation could not be completed")))}),j(b,Mc.EventType.MESSAGE,N=>{var P;if(!S){const W=N.data[0];Xe(!!W);const Z=W,te=Z.error||((P=Z[0])===null||P===void 0?void 0:P.error);if(te){we(Tn,`RPC '${e}' stream ${s} received error:`,te);const re=te.status;let he=function(k){const C=qt[k];if(C!==void 0)return lx(C)}(re),O=te.message;he===void 0&&(he=oe.INTERNAL,O="Unknown error status: "+re+" with message "+te.message),S=!0,D.So(new ye(he,O)),b.close()}else we(Tn,`RPC '${e}' stream ${s} received:`,W),D.bo(W)}}),j(f,ME.STAT_EVENT,N=>{N.stat===Qm.PROXY?we(Tn,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Qm.NOPROXY&&we(Tn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(r){return new OC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t,n=1e3,s=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-n);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,t,n,s,o,u,f,p){this.ui=e,this.Ho=n,this.Jo=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Vg(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(qa(t.toString()),qa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===t&&this.P_(n,s)},n=>{e(()=>{const s=new ye(oe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TN extends wx{constructor(e,t,n,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,u),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=VC(this.serializer,e),n=function(o){if(!("targetChange"in o))return Me.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?Jn(u.readTime):Me.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=eg(this.serializer),t.addTarget=function(o,u){let f;const p=u.target;if(f=$m(p)?{documents:UC(o,p)}:{query:BC(o,p)._t},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=dx(o,u.resumeToken);const m=Zm(o,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(Me.min())>0){f.readTime=Ef(o,u.snapshotVersion.toTimestamp());const m=Zm(o,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const n=zC(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=eg(this.serializer),t.removeTarget=e,this.a_(t)}}class SN extends wx{constructor(e,t,n,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,u),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=LC(e.writeResults,e.commitTime),n=Jn(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=eg(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>mx(this.serializer,n))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN extends class{}{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Mo(e,Jm(t,n),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(oe.UNKNOWN,o.toString())})}Lo(e,t,n,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Lo(e,Jm(t,n),s,u,f,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(oe.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class AN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qa(t),this.D_=!1):we("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t,n,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(u=>{n.enqueueAndForget(async()=>{Qs(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(p){const m=Oe(p);m.L_.add(4),await uu(m),m.q_.set("Unknown"),m.L_.delete(4),await $f(m)}(this))})}),this.q_=new AN(n,s)}}async function $f(r){if(Qs(r))for(const e of r.B_)await e(!0)}async function uu(r){for(const e of r.B_)await e(!1)}function Ex(r,e){const t=Oe(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Fg(t)?Bg(t):hl(t).r_()&&Ug(t,e))}function Lg(r,e){const t=Oe(r),n=hl(t);t.N_.delete(e),n.r_()&&xx(t,e),t.N_.size===0&&(n.r_()?n.o_():Qs(t)&&t.q_.set("Unknown"))}function Ug(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hl(r).A_(e)}function xx(r,e){r.Q_.xe(e),hl(r).R_(e)}function Bg(r){r.Q_=new CC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),hl(r).start(),r.q_.v_()}function Fg(r){return Qs(r)&&!hl(r).n_()&&r.N_.size>0}function Qs(r){return Oe(r).L_.size===0}function Tx(r){r.Q_=void 0}async function CN(r){r.q_.set("Online")}async function NN(r){r.N_.forEach((e,t)=>{Ug(r,e)})}async function kN(r,e){Tx(r),Fg(r)?(r.q_.M_(e),Bg(r)):r.q_.set("Unknown")}async function MN(r,e,t){if(r.q_.set("Online"),e instanceof ux&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const f of o.targetIds)s.N_.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.N_.delete(f),s.Q_.removeTarget(f))}(r,e)}catch(n){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Tf(r,n)}else if(e instanceof af?r.Q_.Ke(e):e instanceof cx?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Me.min()))try{const n=await bx(r.localStore);t.compareTo(n)>=0&&await function(o,u){const f=o.Q_.rt(u);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=o.N_.get(m);y&&o.N_.set(m,y.withResumeToken(p.resumeToken,u))}}),f.targetMismatches.forEach((p,m)=>{const y=o.N_.get(p);if(!y)return;o.N_.set(p,y.withResumeToken(wn.EMPTY_BYTE_STRING,y.snapshotVersion)),xx(o,p);const b=new Ai(y.target,p,m,y.sequenceNumber);Ug(o,b)}),o.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(n){we("RemoteStore","Failed to raise snapshot:",n),await Tf(r,n)}}async function Tf(r,e,t){if(!su(e))throw e;r.L_.add(1),await uu(r),r.q_.set("Offline"),t||(t=()=>bx(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await $f(r)})}function Sx(r,e){return e().catch(t=>Tf(r,t,e))}async function Xf(r){const e=Oe(r),t=Vi(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ON(e);)try{const s=await gN(e.localStore,n);if(s===null){e.O_.length===0&&t.o_();break}n=s.batchId,IN(e,s)}catch(s){await Tf(e,s)}Dx(e)&&Ax(e)}function ON(r){return Qs(r)&&r.O_.length<10}function IN(r,e){r.O_.push(e);const t=Vi(r);t.r_()&&t.V_&&t.m_(e.mutations)}function Dx(r){return Qs(r)&&!Vi(r).n_()&&r.O_.length>0}function Ax(r){Vi(r).start()}async function PN(r){Vi(r).p_()}async function jN(r){const e=Vi(r);for(const t of r.O_)e.m_(t.mutations)}async function VN(r,e,t){const n=r.O_.shift(),s=kg.from(n,e,t);await Sx(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await Xf(r)}async function LN(r,e){e&&Vi(r).V_&&await async function(n,s){if(function(u){return ox(u)&&u!==oe.ABORTED}(s.code)){const o=n.O_.shift();Vi(n).s_(),await Sx(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Xf(n)}}(r,e),Dx(r)&&Ax(r)}async function Pb(r,e){const t=Oe(r);t.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const n=Qs(t);t.L_.add(3),await uu(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await $f(t)}async function UN(r,e){const t=Oe(r);e?(t.L_.delete(2),await $f(t)):e||(t.L_.add(2),await uu(t),t.q_.set("Unknown"))}function hl(r){return r.K_||(r.K_=function(t,n,s){const o=Oe(t);return o.w_(),new TN(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(r.datastore,r.asyncQueue,{Eo:CN.bind(null,r),Ro:NN.bind(null,r),mo:kN.bind(null,r),d_:MN.bind(null,r)}),r.B_.push(async e=>{e?(r.K_.s_(),Fg(r)?Bg(r):r.q_.set("Unknown")):(await r.K_.stop(),Tx(r))})),r.K_}function Vi(r){return r.U_||(r.U_=function(t,n,s){const o=Oe(t);return o.w_(),new SN(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:PN.bind(null,r),mo:LN.bind(null,r),f_:jN.bind(null,r),g_:VN.bind(null,r)}),r.B_.push(async e=>{e?(r.U_.s_(),await Xf(r)):(await r.U_.stop(),r.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t,n,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=o,this.deferred=new ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,o){const u=Date.now()+n,f=new zg(e,t,u,s,o);return f.start(n),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(r,e){if(qa("AsyncQueue",`${e}: ${r}`),su(r))return new ye(oe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Se.comparator(t.key,n.key):(t,n)=>Se.comparator(t.key,n.key),this.keyedMap=Oc(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new Qo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Qo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.W_=new Ct(Se.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ne():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class tl{constructor(e,t,n,s,o,u,f,p,m){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,n,s,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new tl(e,t,Qo.emptySet(t),u,n,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class FN{constructor(){this.queries=Vb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const s=Oe(t),o=s.queries;s.queries=Vb(),o.forEach((u,f)=>{for(const p of f.j_)p.onError(n)})})(this,new ye(oe.ABORTED,"Firestore shutting down"))}}function Vb(){return new fl(r=>KE(r),Yf)}async function zN(r,e){const t=Oe(r);let n=3;const s=e.query;let o=t.queries.get(s);o?!o.H_()&&e.J_()&&(n=2):(o=new BN,n=e.J_()?0:1);try{switch(n){case 0:o.z_=await t.onListen(s,!0);break;case 1:o.z_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const f=Yg(u,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&Hg(t)}async function YN(r,e){const t=Oe(r),n=e.query;let s=3;const o=t.queries.get(n);if(o){const u=o.j_.indexOf(e);u>=0&&(o.j_.splice(u,1),o.j_.length===0?s=e.J_()?0:1:!o.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function HN(r,e){const t=Oe(r);let n=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const f of u.j_)f.X_(s)&&(n=!0);u.z_=s}}n&&Hg(t)}function qN(r,e,t){const n=Oe(r),s=n.queries.get(e);if(s)for(const o of s.j_)o.onError(t);n.queries.delete(e)}function Hg(r){r.Y_.forEach(e=>{e.next()})}var ng,Lb;(Lb=ng||(ng={})).ea="default",Lb.Cache="cache";class QN{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new tl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.key=e}}class Cx{constructor(e){this.key=e}}class GN{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ze(),this.mutatedKeys=ze(),this.Aa=WE(e),this.Ra=new Qo(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new jb,s=t?t.Ra:this.Ra;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,f=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,b)=>{const w=s.get(y),S=Hf(this.query,b)?b:null,D=!!w&&this.mutatedKeys.has(w.key),j=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let N=!1;w&&S?w.data.isEqual(S.data)?D!==j&&(n.track({type:3,doc:S}),N=!0):this.ga(w,S)||(n.track({type:2,doc:S}),N=!0,(p&&this.Aa(S,p)>0||m&&this.Aa(S,m)<0)&&(f=!0)):!w&&S?(n.track({type:0,doc:S}),N=!0):w&&!S&&(n.track({type:1,doc:w}),N=!0,(p||m)&&(f=!0)),N&&(S?(u=u.add(S),o=j?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),n.track({type:1,doc:y})}return{Ra:u,fa:n,ns:f,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort((y,b)=>function(S,D){const j=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return j(S)-j(D)}(y.type,b.type)||this.Aa(y.doc,b.doc)),this.pa(n),s=s!=null&&s;const f=t&&!s?this.ya():[],p=this.da.size===0&&this.current&&!s?1:0,m=p!==this.Ea;return this.Ea=p,u.length!==0||m?{snapshot:new tl(this.query,e.Ra,o,u,e.mutatedKeys,p===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new jb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ze(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const t=[];return e.forEach(n=>{this.da.has(n)||t.push(new Cx(n))}),this.da.forEach(n=>{e.has(n)||t.push(new Rx(n))}),t}ba(e){this.Ta=e.Ts,this.da=ze();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return tl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class KN{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class WN{constructor(e){this.key=e,this.va=!1}}class $N{constructor(e,t,n,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new fl(f=>KE(f),Yf),this.Ma=new Map,this.xa=new Set,this.Oa=new Ct(Se.comparator),this.Na=new Map,this.La=new Ig,this.Ba={},this.ka=new Map,this.qa=el.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function XN(r,e,t=!0){const n=Px(r);let s;const o=n.Fa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await Nx(n,e,t,!0),s}async function ZN(r,e){const t=Px(r);await Nx(t,e,!0,!1)}async function Nx(r,e,t,n){const s=await yN(r.localStore,na(e)),o=s.targetId,u=r.sharedClientState.addLocalQueryTarget(o,t);let f;return n&&(f=await JN(r,e,o,u==="current",s.resumeToken)),r.isPrimaryClient&&t&&Ex(r.remoteStore,s),f}async function JN(r,e,t,n,s){r.Ka=(b,w,S)=>async function(j,N,P,W){let Z=N.view.ma(P);Z.ns&&(Z=await Mb(j.localStore,N.query,!1).then(({documents:O})=>N.view.ma(O,Z)));const te=W&&W.targetChanges.get(N.targetId),re=W&&W.targetMismatches.get(N.targetId)!=null,he=N.view.applyChanges(Z,j.isPrimaryClient,te,re);return Bb(j,N.targetId,he.wa),he.snapshot}(r,b,w,S);const o=await Mb(r.localStore,e,!0),u=new GN(e,o.Ts),f=u.ma(o.documents),p=cu.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",s),m=u.applyChanges(f,r.isPrimaryClient,p);Bb(r,t,m.wa);const y=new KN(e,t,u);return r.Fa.set(e,y),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),m.snapshot}async function ek(r,e,t){const n=Oe(r),s=n.Fa.get(e),o=n.Ma.get(s.targetId);if(o.length>1)return n.Ma.set(s.targetId,o.filter(u=>!Yf(u,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await tg(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),t&&Lg(n.remoteStore,s.targetId),rg(n,s.targetId)}).catch(iu)):(rg(n,s.targetId),await tg(n.localStore,s.targetId,!0))}async function tk(r,e){const t=Oe(r),n=t.Fa.get(e),s=t.Ma.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Lg(t.remoteStore,n.targetId))}async function nk(r,e,t){const n=ck(r);try{const s=await function(u,f){const p=Oe(u),m=Rt.now(),y=f.reduce((S,D)=>S.add(D.key),ze());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let D=Qa(),j=ze();return p.cs.getEntries(S,y).next(N=>{D=N,D.forEach((P,W)=>{W.isValidDocument()||(j=j.add(P))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,D)).next(N=>{b=N;const P=[];for(const W of f){const Z=xC(W,b.get(W.key).overlayedDocument);Z!=null&&P.push(new zi(W.key,Z,UE(Z.value.mapValue),Dn.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,P,f)}).next(N=>{w=N;const P=N.applyToLocalDocumentSet(b,j);return p.documentOverlayCache.saveOverlays(S,N.batchId,P)})}).then(()=>({batchId:w.batchId,changes:XE(b)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(u,f,p){let m=u.Ba[u.currentUser.toKey()];m||(m=new Ct(tt)),m=m.insert(f,p),u.Ba[u.currentUser.toKey()]=m}(n,s.batchId,t),await du(n,s.changes),await Xf(n.remoteStore)}catch(s){const o=Yg(s,"Failed to persist write");t.reject(o)}}async function kx(r,e){const t=Oe(r);try{const n=await pN(t.localStore,e);e.targetChanges.forEach((s,o)=>{const u=t.Na.get(o);u&&(Xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.va=!0:s.modifiedDocuments.size>0?Xe(u.va):s.removedDocuments.size>0&&(Xe(u.va),u.va=!1))}),await du(t,n,e)}catch(n){await iu(n)}}function Ub(r,e,t){const n=Oe(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.Fa.forEach((o,u)=>{const f=u.view.Z_(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const p=Oe(u);p.onlineState=f;let m=!1;p.queries.forEach((y,b)=>{for(const w of b.j_)w.Z_(f)&&(m=!0)}),m&&Hg(p)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function rk(r,e,t){const n=Oe(r);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Na.get(e),o=s&&s.key;if(o){let u=new Ct(Se.comparator);u=u.insert(o,on.newNoDocument(o,Me.min()));const f=ze().add(o),p=new Kf(Me.min(),new Map,new Ct(tt),u,f);await kx(n,p),n.Oa=n.Oa.remove(o),n.Na.delete(e),qg(n)}else await tg(n.localStore,e,!1).then(()=>rg(n,e,t)).catch(iu)}async function ak(r,e){const t=Oe(r),n=e.batch.batchId;try{const s=await hN(t.localStore,e);Ox(t,n,null),Mx(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await du(t,s)}catch(s){await iu(s)}}async function ik(r,e,t){const n=Oe(r);try{const s=await function(u,f){const p=Oe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,f).next(b=>(Xe(b!==null),y=b.keys(),p.mutationQueue.removeMutationBatch(m,b))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(n.localStore,e);Ox(n,e,t),Mx(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await du(n,s)}catch(s){await iu(s)}}function Mx(r,e){(r.ka.get(e)||[]).forEach(t=>{t.resolve()}),r.ka.delete(e)}function Ox(r,e,t){const n=Oe(r);let s=n.Ba[n.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function rg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(n=>{r.La.containsKey(n)||Ix(r,n)})}function Ix(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(Lg(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),qg(r))}function Bb(r,e,t){for(const n of t)n instanceof Rx?(r.La.addReference(n.key,e),sk(r,n)):n instanceof Cx?(we("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||Ix(r,n.key)):Ne()}function sk(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(we("SyncEngine","New document in limbo: "+t),r.xa.add(n),qg(r))}function qg(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new Se(bt.fromString(e)),n=r.qa.next();r.Na.set(n,new WN(t)),r.Oa=r.Oa.insert(t,n),Ex(r.remoteStore,new Ai(na(QE(t.path)),n,"TargetPurposeLimboResolution",Tg.oe))}}async function du(r,e,t){const n=Oe(r),s=[],o=[],u=[];n.Fa.isEmpty()||(n.Fa.forEach((f,p)=>{u.push(n.Ka(p,e,t).then(m=>{var y;if((m||t)&&n.isPrimaryClient){const b=m?!m.fromCache:(y=t?.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;n.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(m){s.push(m);const b=jg.Wi(p.targetId,m);o.push(b)}}))}),await Promise.all(u),n.Ca.d_(s),await async function(p,m){const y=Oe(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>fe.forEach(m,w=>fe.forEach(w.$i,S=>y.persistence.referenceDelegate.addReference(b,w.targetId,S)).next(()=>fe.forEach(w.Ui,S=>y.persistence.referenceDelegate.removeReference(b,w.targetId,S)))))}catch(b){if(!su(b))throw b;we("LocalStore","Failed to update sequence numbers: "+b)}for(const b of m){const w=b.targetId;if(!b.fromCache){const S=y.os.get(w),D=S.snapshotVersion,j=S.withLastLimboFreeSnapshotVersion(D);y.os=y.os.insert(w,j)}}}(n.localStore,o))}async function ok(r,e){const t=Oe(r);if(!t.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const n=await _x(t.localStore,e);t.currentUser=e,function(o,u){o.ka.forEach(f=>{f.forEach(p=>{p.reject(new ye(oe.CANCELLED,u))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await du(t,n.hs)}}function lk(r,e){const t=Oe(r),n=t.Na.get(e);if(n&&n.va)return ze().add(n.key);{let s=ze();const o=t.Ma.get(e);if(!o)return s;for(const u of o){const f=t.Fa.get(u);s=s.unionWith(f.view.Va)}return s}}function Px(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=kx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rk.bind(null,e),e.Ca.d_=HN.bind(null,e.eventManager),e.Ca.$a=qN.bind(null,e.eventManager),e}function ck(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ak.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ik.bind(null,e),e}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return fN(this.persistence,new uN,e.initialUser,this.serializer)}Ga(e){return new oN(Pg.Zr,this.serializer)}Wa(e){return new _N}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class ag{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Ub(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=ok.bind(null,this.syncEngine),await UN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FN}()}createDatastore(e){const t=Wf(e.databaseInfo.databaseId),n=function(o){return new xN(o)}(e.databaseInfo);return function(o,u,f,p){return new DN(o,u,f,p)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,s,o,u,f){return new RN(n,s,o,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Ub(this.syncEngine,t,0),function(){return Ib.D()?new Ib:new bN}())}createSyncEngine(e,t){return function(s,o,u,f,p,m,y){const b=new $N(s,o,u,f,p,m);return y&&(b.Qa=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=Oe(s);we("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await uu(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ag.provider={build:()=>new ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ye(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(s,o){const u=Oe(s),f={documents:o.map(b=>xf(u.serializer,b))},p=await u.Lo("BatchGetDocuments",u.serializer.databaseId,bt.emptyPath(),f,o.length),m=new Map;p.forEach(b=>{const w=jC(u.serializer,b);m.set(w.key.toString(),w)});const y=[];return o.forEach(b=>{const w=m.get(b.toString());Xe(!!w),y.push(w)}),y}(this.datastore,e);return t.forEach(n=>this.recordVersion(n)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,n)=>{const s=Se.fromPath(n);this.mutations.push(new sx(s,this.precondition(s)))}),await async function(n,s){const o=Oe(n),u={writes:s.map(f=>mx(o.serializer,f))};await o.Mo("Commit",o.serializer.databaseId,bt.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ne();t=Me.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ye(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Me.min())?Dn.exists(!1):Dn.updateTime(t):Dn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Me.min()))throw new ye(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(t)}return Dn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t,n,s,o){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=s,this.deferred=o,this._u=n.maxAttempts,this.t_=new Vg(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new dk(this.datastore),t=this.cu(e);t&&t.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(s=>{this.lu(s)}))}).catch(n=>{this.lu(n)})})}cu(e){try{const t=this.updateFunction(e);return!ou(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!ox(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t,n,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=Sn.UNAUTHENTICATED,this.clientId=jE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async u=>{we("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(n,u=>(we("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Yg(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Sm(r,e){r.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async s=>{n.isEqual(s)||(await _x(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Fb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await pk(r);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>Pb(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,s)=>Pb(e.remoteStore,s)),r._onlineComponents=e}async function pk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;$o("Error using user provided cache. Falling back to memory cache: "+t),await Sm(r,new Sf)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await Sm(r,new Sf);return r._offlineComponents}async function Qg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await Fb(r,r._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await Fb(r,new ag))),r._onlineComponents}function mk(r){return Qg(r).then(e=>e.syncEngine)}function gk(r){return Qg(r).then(e=>e.datastore)}async function yk(r){const e=await Qg(r),t=e.eventManager;return t.onListen=XN.bind(null,e.syncEngine),t.onUnlisten=ek.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ZN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tk.bind(null,e.syncEngine),t}function vk(r,e,t={}){const n=new ja;return r.asyncQueue.enqueueAndForget(async()=>function(o,u,f,p,m){const y=new uk({next:w=>{y.Za(),u.enqueueAndForget(()=>YN(o,b)),w.fromCache&&p.source==="server"?m.reject(new ye(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),b=new QN(f,y,{includeMetadataChanges:!0,_a:!0});return zN(o,b)}(await yk(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(r,e,t){if(!t)throw new ye(oe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _k(r,e,t,n){if(e===!0&&n===!0)throw new ye(oe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Yb(r){if(!Se.isDocumentKey(r))throw new ye(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Hb(r){if(Se.isDocumentKey(r))throw new ye(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Zf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ne()}function Li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zf(r);throw new ye(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function bk(r,e){if(e<=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_k("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jx((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jf{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new MR;switch(n.type){case"firstParty":return new jR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ye(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=zb.get(t);n&&(we("ComponentProvider","Removing Datastore"),zb.delete(t),n.terminate())}(this),Promise.resolve()}}function wk(r,e,t,n={}){var s;const o=(r=Li(r,Jf))._getSettings(),u=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==u&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),n.mockUserToken){let f,p;if(typeof n.mockUserToken=="string")f=n.mockUserToken,p=Sn.MOCK_USER;else{f=vE(n.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new ye(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Sn(m)}r._authCredentials=new OR(new PE(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class Fn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class Mi extends Yi{constructor(e,t,n){super(e,t,QE(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new Se(e))}withConverter(e){return new Mi(this.firestore,e,this._path)}}function vr(r,e,...t){if(r=Rn(r),Vx("collection","path",e),r instanceof Jf){const n=bt.fromString(e,...t);return Hb(n),new Mi(r,null,n)}{if(!(r instanceof Fn||r instanceof Mi))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(bt.fromString(e,...t));return Hb(n),new Mi(r.firestore,null,n)}}function Ts(r,e,...t){if(r=Rn(r),arguments.length===1&&(e=jE.newId()),Vx("doc","path",e),r instanceof Jf){const n=bt.fromString(e,...t);return Yb(n),new Fn(r,null,new Se(n))}{if(!(r instanceof Fn||r instanceof Mi))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(bt.fromString(e,...t));return Yb(n),new Fn(r.firestore,r instanceof Mi?r.converter:null,new Se(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Vg(this,"async_queue_retry"),this.Vu=()=>{const n=Tm();n&&we("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=Tm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Tm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new ja;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!su(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(n);throw qa("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const s=zg.createAndSchedule(this,e,t,n,o=>this.yu(o));return this.Tu.push(s),s}fu(){this.Eu&&Ne()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class pl extends Jf{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new Qb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qb(e),this._firestoreClient=void 0,await e}}}function Lx(r,e){const t=typeof r=="object"?r:DE(),n=typeof r=="string"?r:"(default)",s=xE(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const o=gE("firestore");o&&wk(s,...o)}return s}function Gg(r){if(r._terminated)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Ek(r),r._firestoreClient}function Ek(r){var e,t,n;const s=r._freezeSettings(),o=function(f,p,m,y){return new WR(f,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,jx(y.experimentalLongPollingOptions),y.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,s);r._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),r._firestoreClient=new hk(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(f){const p=f?._online.build();return{_offline:f?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ls(wn.fromBase64String(e))}catch(t){throw new ye(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ls(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=/^__.*__$/;class Tk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new lu(e,this.data,t,this.fieldTransforms)}}class Ux{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new zi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bx(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class Xg{constructor(e,t,n,s,o,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Df(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Bx(this.Cu)&&xk.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Sk{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Wf(e)}Qu(e,t,n,s=!1){return new Xg({Cu:e,methodName:t,qu:n,path:vn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eh(r){const e=r._freezeSettings(),t=Wf(r._databaseId);return new Sk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Fx(r,e,t,n,s,o={}){const u=r.Qu(o.merge||o.mergeFields?2:0,e,t,s);Zg("Data must be an object, but it was:",u,n);const f=Hx(n,u);let p,m;if(o.merge)p=new Xn(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const w=ig(e,b,t);if(!u.contains(w))throw new ye(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Qx(y,w)||y.push(w)}p=new Xn(y),m=u.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,m=u.fieldTransforms;return new Tk(new jn(f),p,m)}class th extends Kg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof th}}function zx(r,e,t,n){const s=r.Qu(1,e,t);Zg("Data must be an object, but it was:",s,n);const o=[],u=jn.empty();qs(n,(p,m)=>{const y=Jg(e,p,t);m=Rn(m);const b=s.Nu(y);if(m instanceof th)o.push(y);else{const w=hu(m,b);w!=null&&(o.push(y),u.set(y,w))}});const f=new Xn(o);return new Ux(u,f,s.fieldTransforms)}function Yx(r,e,t,n,s,o){const u=r.Qu(1,e,t),f=[ig(e,n,t)],p=[s];if(o.length%2!=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)f.push(ig(e,o[w])),p.push(o[w+1]);const m=[],y=jn.empty();for(let w=f.length-1;w>=0;--w)if(!Qx(m,f[w])){const S=f[w];let D=p[w];D=Rn(D);const j=u.Nu(S);if(D instanceof th)m.push(S);else{const N=hu(D,j);N!=null&&(m.push(S),y.set(S,N))}}const b=new Xn(m);return new Ux(y,b,u.fieldTransforms)}function Dk(r,e,t,n=!1){return hu(t,r.Qu(n?4:3,e))}function hu(r,e){if(qx(r=Rn(r)))return Zg("Unsupported field value:",e,r),Hx(r,e);if(r instanceof Kg)return function(n,s){if(!Bx(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const o=[];let u=0;for(const f of n){let p=hu(f,s.Lu(u));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),u++}return{arrayValue:{values:o}}}(r,e)}return function(n,s){if((n=Rn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return yC(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Rt.fromDate(n);return{timestampValue:Ef(s.serializer,o)}}if(n instanceof Rt){const o=new Rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ef(s.serializer,o)}}if(n instanceof Wg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ls)return{bytesValue:dx(s.serializer,n._byteString)};if(n instanceof Fn){const o=s.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw s.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Og(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof $g)return function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.Bu("VectorValues must only contain numeric values.");return Ng(f.serializer,p)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${Zf(n)}`)}(r,e)}function Hx(r,e){const t={};return VE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(r,(n,s)=>{const o=hu(s,e.Mu(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function qx(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Wg||r instanceof Ls||r instanceof Fn||r instanceof Kg||r instanceof $g)}function Zg(r,e,t){if(!qx(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const n=Zf(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function ig(r,e,t){if((e=Rn(e))instanceof fu)return e._internalPath;if(typeof e=="string")return Jg(r,e);throw Df("Field path arguments must be of type string or ",r,!1,void 0,t)}const Ak=new RegExp("[~\\*/\\[\\]]");function Jg(r,e,t){if(e.search(Ak)>=0)throw Df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new fu(...e.split("."))._internalPath}catch{throw Df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Df(r,e,t,n,s){const o=n&&!n.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(o||u)&&(p+=" (found",o&&(p+=` in field ${n}`),u&&(p+=` in document ${s}`),p+=")"),new ye(oe.INVALID_ARGUMENT,f+r+p)}function Qx(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t,n,s,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Rk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Rk extends Af{data(){return super.data()}}function nh(r,e){return typeof e=="string"?Jg(r,e):e instanceof fu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ey{}class ty extends ey{}function Cs(r,e,...t){let n=[];e instanceof ey&&n.push(e),n=n.concat(t),function(o){const u=o.filter(p=>p instanceof ny).length,f=o.filter(p=>p instanceof rh).length;if(u>1||u>0&&f>0)throw new ye(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)r=s._apply(r);return r}class rh extends ty{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new rh(e,t,n)}_apply(e){const t=this._parse(e);return Gx(e._query,t),new Yi(e.firestore,e.converter,Xm(e._query,t))}_parse(e){const t=eh(e.firestore);return function(o,u,f,p,m,y,b){let w;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){$b(b,y);const S=[];for(const D of b)S.push(Wb(p,o,D));w={arrayValue:{values:S}}}else w=Wb(p,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||$b(b,y),w=Dk(f,u,b,y==="in"||y==="not-in");return Qt.create(m,y,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function sf(r,e,t){const n=e,s=nh("where",r);return rh._create(s,n,t)}class ny extends ey{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ny(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let u=s;const f=o.getFlattenedFilters();for(const p of f)Gx(u,p),u=Xm(u,p)}(e._query,t),new Yi(e.firestore,e.converter,Xm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ry extends ty{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ry(e,t)}_apply(e){const t=function(s,o,u){if(s.startAt!==null)throw new ye(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ye(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(o,u)}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new dl(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Gb(r,e="asc"){const t=e,n=nh("orderBy",r);return ry._create(n,t)}class ay extends ty{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new ay(e,t,n)}_apply(e){return new Yi(e.firestore,e.converter,_f(e._query,this._limit,this._limitType))}}function Kb(r){return bk("limit",r),ay._create("limit",r,"F")}function Wb(r,e,t){if(typeof(t=Rn(t))=="string"){if(t==="")throw new ye(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GE(e)&&t.indexOf("/")!==-1)throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(bt.fromString(t));if(!Se.isDocumentKey(n))throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return mb(r,new Se(n))}if(t instanceof Fn)return mb(r,t._key);throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zf(t)}.`)}function $b(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gx(r,e){const t=function(s,o){for(const u of s)for(const f of u.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Kx{convertValue(e,t="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return qs(e,(s,o)=>{n[s]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,s;const o=(s=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(u=>Lt(u.doubleValue));return new $g(o)}convertGeoPoint(e){return new Wg(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Dg(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){const t=ji(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=bt.fromString(e);Xe(vx(n));const s=new Wc(n.get(1),n.get(3)),o=new Se(n.popFirst(5));return s.isEqual(t)||qa(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class Nk extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $x extends Af{constructor(e,t,n,s,o,u){super(e,t,n,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(nh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class of extends $x{data(e={}){return super.data(e)}}class kk{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Pc(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new of(this._firestore,this._userDataWriter,n.key,n,new Pc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const p=new of(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Pc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const p=new of(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Pc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:Mk(f.type),doc:p,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Mk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}class Xx extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,t)}}function Va(r){r=Li(r,Yi);const e=Li(r.firestore,pl),t=Gg(e),n=new Xx(e);return Ck(r._query),vk(t,r._query).then(s=>new kk(e,n,r,s))}function Xb(r,e,t,...n){r=Li(r,Fn);const s=Li(r.firestore,pl),o=eh(s);let u;return u=typeof(e=Rn(e))=="string"||e instanceof fu?Yx(o,"updateDoc",r._key,e,t,n):zx(o,"updateDoc",r._key,e),iy(s,[u.toMutation(r._key,Dn.exists(!0))])}function Dm(r){return iy(Li(r.firestore,pl),[new Gf(r._key,Dn.none())])}function sg(r,e){const t=Li(r.firestore,pl),n=Ts(r),s=Wx(r.converter,e);return iy(t,[Fx(eh(r.firestore),"addDoc",n._key,s,r.converter!==null,{}).toMutation(n._key,Dn.exists(!1))]).then(()=>n)}function iy(r,e){return function(n,s){const o=new ja;return n.asyncQueue.enqueueAndForget(async()=>nk(await mk(n),s,o)),o.promise}(Gg(r),e)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok={maxAttempts:5};function Dc(r,e){if((r=Rn(r)).firestore!==e)throw new ye(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik extends class{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=eh(t)}get(t){const n=Dc(t,this._firestore),s=new Nk(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||o.length!==1)return Ne();const u=o[0];if(u.isFoundDocument())return new Af(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Af(this._firestore,s,n._key,null,n.converter);throw Ne()})}set(t,n,s){const o=Dc(t,this._firestore),u=Wx(o.converter,n,s),f=Fx(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const u=Dc(t,this._firestore);let f;return f=typeof(n=Rn(n))=="string"||n instanceof fu?Yx(this._dataReader,"Transaction.update",u._key,n,s,o):zx(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=Dc(t,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Dc(e,this._firestore),n=new Xx(this._firestore);return super.get(e).then(s=>new $x(this._firestore,n,t._key,s._document,new Pc(!1,!1),t.converter))}}function Pk(r,e,t){r=Li(r,pl);const n=Object.assign(Object.assign({},Ok),t);return function(o){if(o.maxAttempts<1)throw new ye(oe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(o,u,f){const p=new ja;return o.asyncQueue.enqueueAndForget(async()=>{const m=await gk(o);new fk(o.asyncQueue,m,f,u,p).au()}),p.promise}(Gg(r),s=>e(new Ik(r,s)),n)}(function(e,t=!0){(function(s){ul=s})(TE),qc(new Wo("firestore",(n,{instanceIdentifier:s,options:o})=>{const u=n.getProvider("app").getImmediate(),f=new pl(new IR(n.getProvider("auth-internal")),new LR(n.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(m.options.projectId,y)}(u,s),u);return o=Object.assign({useFetchStreams:t},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),ki(ub,"4.7.3",e),ki(ub,"4.7.3","esm2017")})();function jk(){const[r,e]=V.useState("beforeAfter"),[t,n]=V.useState(null),[s,o]=V.useState("single"),[u,f]=V.useState([]),[p,m]=V.useState(!0),[y,b]=V.useState(null),w=V.useRef(null),S=V.useRef(null),D=(C,U="single")=>{if(n(C),o(U),U!=="video"){const B=O.findIndex(M=>M.id===C.id);b(B)}else b(null)},j=()=>{n(null),o("single"),b(null)},N=()=>{if(y===null||O.length===0)return;const C=(y-1+O.length)%O.length;n(O[C]),b(C)},P=()=>{if(y===null||O.length===0)return;const C=(y+1)%O.length;n(O[C]),b(C)},W=C=>{C.key==="Escape"?j():C.key==="ArrowLeft"&&s!=="video"?N():C.key==="ArrowRight"&&s!=="video"&&P()},Z=C=>{C.touches&&C.touches.length===1&&(S.current=C.touches[0].clientX)},te=C=>{if(S.current===null)return;const B=C.changedTouches[0].clientX-S.current;Math.abs(B)>50&&(B>0?N():P()),S.current=null};V.useEffect(()=>{re()},[]);const re=async()=>{try{const C=Lx(),U=await Va(vr(C,"gallery")),B=[];U.forEach(M=>{B.push({id:M.id,...M.data()})}),f(B)}catch(C){console.error("Error loading gallery items:",C)}finally{m(!1)}},he=u.reduce((C,U)=>(C[U.category]||(C[U.category]=[]),C[U.category].push(U),C),{}),O=he[r]?.filter(C=>C.type!=="video")||[];V.useEffect(()=>{t&&s!=="video"&&w.current&&w.current.focus()},[t,s]);const R=C=>{e(C)},k=[{id:"beforeAfter",name:"Before & After"},{id:"interiors",name:"Interiors"},{id:"exteriors",name:"Exteriors"},{id:"videos",name:"Videos"}];return p?v.jsx("section",{className:"py-5 bg-dark text-light w-100",children:v.jsx("div",{className:"container-fluid px-4",children:v.jsx("div",{className:"text-center",children:v.jsx("div",{className:"spinner-border text-primary",role:"status",children:v.jsx("span",{className:"visually-hidden",children:"Loading gallery..."})})})})}):v.jsxs("section",{className:"py-5 bg-dark text-light w-100",children:[v.jsxs("div",{className:"container-fluid px-4",children:[v.jsx("h2",{className:"display-6 fw-bold text-primary text-center mb-5",children:"Gallery"}),v.jsx("div",{className:"row justify-content-center mb-4",children:v.jsx("div",{className:"col-12 col-lg-8",children:v.jsx("div",{className:"d-flex justify-content-center flex-wrap gap-2",children:k.map(C=>v.jsx("button",{type:"button",className:`btn ${r===C.id?"btn-primary":"btn-outline-primary"}`,onClick:()=>R(C.id),style:{minWidth:"120px",margin:"2px",position:"relative",zIndex:10},children:C.name},C.id))})})}),v.jsx("div",{className:"row g-4",children:he[r]?.map(C=>v.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:C.type==="video"?v.jsxs("div",{className:"card border-0 shadow-lg bg-secondary-subtle overflow-hidden h-100",children:[v.jsxs("div",{className:"position-relative",children:[v.jsx("div",{className:"ratio ratio-16x9",children:v.jsx("img",{src:C.poster?"/"+C.poster.replace(/^\//,""):C.src.startsWith("http")?C.src:"/"+C.src.replace(/^\//,""),className:"w-100 h-100",alt:C.label,style:{objectFit:"cover",cursor:"pointer"},onClick:()=>D(C,"video")})}),v.jsx("div",{className:"position-absolute top-50 start-50 translate-middle text-center",children:v.jsx("div",{className:"bg-dark bg-opacity-75 text-white rounded-circle d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px",cursor:"pointer"},onClick:()=>D(C,"video"),children:v.jsx("span",{className:"fs-4",children:""})})}),C.duration&&v.jsx("div",{className:"position-absolute bottom-0 end-0 m-2",children:v.jsx("span",{className:"badge bg-dark bg-opacity-75",children:C.duration})})]}),v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title text-primary",children:C.label}),v.jsx("p",{className:"card-text text-muted",children:C.description})]})]}):v.jsxs("div",{className:"card border-0 shadow-lg bg-secondary-subtle overflow-hidden h-100",children:[v.jsxs("div",{className:"position-relative",children:[v.jsx("div",{className:"ratio ratio-4x3",children:v.jsx("img",{src:C.thumb?"/"+C.thumb.replace(/^\//,""):C.src.startsWith("http")?C.src:"/"+C.src.replace(/^\//,""),loading:"lazy",className:"w-100 h-100",alt:C.label,style:{objectFit:"cover",cursor:"pointer"},onClick:()=>D(C,"single")})}),v.jsx("div",{className:"position-absolute top-50 start-50 translate-middle text-center",children:v.jsx("div",{className:"bg-dark bg-opacity-75 text-white py-1 px-3 rounded",children:v.jsx("small",{children:"Click to expand"})})})]}),v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title text-primary",children:C.label}),v.jsx("p",{className:"card-text text-muted",children:C.description})]})]})},C.id))}),(!he[r]||he[r].length===0)&&v.jsxs("div",{className:"text-center py-5",children:[v.jsx("p",{className:"text-muted",children:"No items in this category yet."}),v.jsx("p",{className:"text-muted small",children:"Add some images or videos through the admin panel!"})]})]}),t&&v.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-90 d-flex align-items-center justify-content-center",style:{zIndex:1e3},onClick:j,onKeyDown:W,tabIndex:0,ref:w,onTouchStart:s!=="video"?Z:void 0,onTouchEnd:s!=="video"?te:void 0,children:v.jsxs("div",{className:"position-relative",onClick:C=>C.stopPropagation(),children:[v.jsx("button",{className:"btn-close btn-close-white position-absolute top-0 end-0 m-3",onClick:j,style:{zIndex:1001}}),s!=="video"&&O.length>1&&v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn btn-outline-light position-absolute top-50 start-0 translate-middle-y ms-2",style:{zIndex:1001,fontSize:"2rem",padding:"0.5rem 1rem"},onClick:N,"aria-label":"Previous image",children:""}),v.jsx("button",{className:"btn btn-outline-light position-absolute top-50 end-0 translate-middle-y me-2",style:{zIndex:1001,fontSize:"2rem",padding:"0.5rem 1rem"},onClick:P,"aria-label":"Next image",children:""})]}),v.jsxs("div",{className:"text-center",children:[s==="video"?v.jsxs("div",{children:[v.jsxs("video",{controls:!0,autoPlay:!0,style:{maxHeight:"80vh",maxWidth:"90vw"},poster:t.poster,children:[v.jsx("source",{src:t.src,type:"video/mp4"}),"Your browser does not support the video tag."]}),v.jsxs("div",{className:"mt-3 text-white",children:[v.jsx("h4",{className:"text-primary",children:t.label}),v.jsx("p",{className:"text-muted",children:t.description}),t.duration&&v.jsx("span",{className:"badge bg-primary",children:t.duration})]})]}):v.jsx("img",{src:t.src,loading:"lazy",className:"img-fluid",alt:t.label,style:{maxHeight:"80vh",objectFit:"contain"}}),s!=="video"&&v.jsxs("div",{className:"mt-3 text-white",children:[v.jsx("h4",{className:"text-primary",children:t.label}),v.jsx("p",{className:"text-muted",children:t.description})]})]})]})})]})}var Vk="firebase",Lk="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(Vk,Lk,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="firebasestorage.googleapis.com",Jx="storageBucket",Uk=2*60*1e3,Bk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends Hs{constructor(e,t,n=0){super(Am(e),`Firebase Storage: ${t} (${Am(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Am(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mt||(Mt={}));function Am(r){return"storage/"+r}function sy(){const r="An unknown error occurred, please check the error payload for server response.";return new It(Mt.UNKNOWN,r)}function Fk(r){return new It(Mt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function zk(r){return new It(Mt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Yk(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(Mt.UNAUTHENTICATED,r)}function Hk(){return new It(Mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qk(r){return new It(Mt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Qk(){return new It(Mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Gk(){return new It(Mt.CANCELED,"User canceled the upload/download.")}function Kk(r){return new It(Mt.INVALID_URL,"Invalid URL '"+r+"'.")}function Wk(r){return new It(Mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function $k(){return new It(Mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jx+"' property when initializing the app?")}function Xk(){return new It(Mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zk(){return new It(Mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Jk(r){return new It(Mt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function og(r){return new It(Mt.INVALID_ARGUMENT,r)}function eT(){return new It(Mt.APP_DELETED,"The Firebase app was deleted.")}function e2(r){return new It(Mt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yc(r,e){return new It(Mt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Ac(r){throw new It(Mt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Zn.makeFromUrl(e,t)}catch{return new Zn(e,"")}if(n.path==="")return n;throw Wk(e)}static makeFromUrl(e,t){let n=null;const s="([A-Za-z0-9.\\-_]+)";function o(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+s+u,"i"),p={bucket:1,path:3};function m(te){te.path_=decodeURIComponent(te.path)}const y="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${b}/${y}/b/${s}/o${w}`,"i"),D={bucket:1,path:3},j=t===Zx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",P=new RegExp(`^https?://${j}/${s}/${N}`,"i"),Z=[{regex:f,indices:p,postModify:o},{regex:S,indices:D,postModify:m},{regex:P,indices:{bucket:1,path:2},postModify:m}];for(let te=0;te<Z.length;te++){const re=Z[te],he=re.regex.exec(e);if(he){const O=he[re.indices.bucket];let R=he[re.indices.path];R||(R=""),n=new Zn(O,R),re.postModify(n);break}}if(n==null)throw Kk(e);return n}}class t2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(r,e,t){let n=1,s=null,o=null,u=!1,f=0;function p(){return f===2}let m=!1;function y(...N){m||(m=!0,e.apply(null,N))}function b(N){s=setTimeout(()=>{s=null,r(S,p())},N)}function w(){o&&clearTimeout(o)}function S(N,...P){if(m){w();return}if(N){w(),y.call(null,N,...P);return}if(p()||u){w(),y.call(null,N,...P);return}n<64&&(n*=2);let Z;f===1?(f=2,Z=0):Z=(n+Math.random())*1e3,b(Z)}let D=!1;function j(N){D||(D=!0,w(),!m&&(s!==null?(N||(f=2),clearTimeout(s),b(0)):N||(f=1)))}return b(0),o=setTimeout(()=>{u=!0,j(!0)},t),j}function r2(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(r){return r!==void 0}function i2(r){return typeof r=="object"&&!Array.isArray(r)}function oy(r){return typeof r=="string"||r instanceof String}function Zb(r){return ly()&&r instanceof Blob}function ly(){return typeof Blob<"u"}function Jb(r,e,t,n){if(n<e)throw og(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw og(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function tT(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const s=e(n)+"="+e(r[n]);t=t+s+"&"}return t=t.slice(0,-1),t}var Ns;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ns||(Ns={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(r,e){const t=r>=500&&r<600,s=[408,429].indexOf(r)!==-1,o=e.indexOf(r)!==-1;return t||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t,n,s,o,u,f,p,m,y,b,w=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=b,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,D)=>{this.resolve_=S,this.reject_=D,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new Hd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const f=o.getErrorCode()===Ns.NO_ERROR,p=o.getStatus();if(!f||s2(p,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Ns.ABORT;n(!1,new Hd(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;n(!0,new Hd(m,o))})},t=(n,s)=>{const o=this.resolve_,u=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());a2(p)?o(p):o()}catch(p){u(p)}else if(f!==null){const p=sy();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(s.canceled){const p=this.appDelete_?eT():Gk();u(p)}else{const p=Qk();u(p)}};this.canceled_?t(!1,new Hd(!1,null,!0)):this.backoffId_=n2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hd{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function l2(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function c2(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u2(r,e){e&&(r["X-Firebase-GMPID"]=e)}function d2(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function f2(r,e,t,n,s,o,u=!0){const f=tT(r.urlParams),p=r.url+f,m=Object.assign({},r.headers);return u2(m,e),l2(m,t),c2(m,o),d2(m,n),new o2(p,r.method,m,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function p2(...r){const e=h2();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(ly())return new Blob(r);throw new It(Mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function m2(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(r){if(typeof atob>"u")throw Jk("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rm{constructor(e,t){this.data=e,this.contentType=t||null}}function y2(r,e){switch(r){case ea.RAW:return new Rm(nT(e));case ea.BASE64:case ea.BASE64URL:return new Rm(rT(r,e));case ea.DATA_URL:return new Rm(_2(e),b2(e))}throw sy()}function nT(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=n,u=r.charCodeAt(++t);n=65536|(o&1023)<<10|u&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function v2(r){let e;try{e=decodeURIComponent(r)}catch{throw Yc(ea.DATA_URL,"Malformed data URL.")}return nT(e)}function rT(r,e){switch(r){case ea.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Yc(r,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ea.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Yc(r,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=g2(e)}catch(s){throw s.message.includes("polyfill")?s:Yc(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}class aT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Yc(ea.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=w2(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function _2(r){const e=new aT(r);return e.base64?rT(ea.BASE64,e.rest):v2(e.rest)}function b2(r){return new aT(r).contentType}function w2(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t){let n=0,s="";Zb(e)?(this.data_=e,n=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Zb(this.data_)){const n=this.data_,s=m2(n,e,t);return s===null?null:new Di(s)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Di(n,!0)}}static getBlob(...e){if(ly()){const t=e.map(n=>n instanceof Di?n.data_:n);return new Di(p2.apply(null,t))}else{const t=e.map(u=>oy(u)?y2(ea.RAW,u).data:u.data_);let n=0;t.forEach(u=>{n+=u.byteLength});const s=new Uint8Array(n);let o=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)s[o++]=u[f]}),new Di(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(r){let e;try{e=JSON.parse(r)}catch{return null}return i2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function x2(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function sT(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(r,e){return e}class In{constructor(e,t,n,s){this.server=e,this.local=t||e,this.writable=!!n,this.xform=s||T2}}let qd=null;function S2(r){return!oy(r)||r.length<2?r:sT(r)}function oT(){if(qd)return qd;const r=[];r.push(new In("bucket")),r.push(new In("generation")),r.push(new In("metageneration")),r.push(new In("name","fullPath",!0));function e(o,u){return S2(u)}const t=new In("name");t.xform=e,r.push(t);function n(o,u){return u!==void 0?Number(u):u}const s=new In("size");return s.xform=n,r.push(s),r.push(new In("timeCreated")),r.push(new In("updated")),r.push(new In("md5Hash",null,!0)),r.push(new In("cacheControl",null,!0)),r.push(new In("contentDisposition",null,!0)),r.push(new In("contentEncoding",null,!0)),r.push(new In("contentLanguage",null,!0)),r.push(new In("contentType",null,!0)),r.push(new In("metadata","customMetadata",!0)),qd=r,qd}function D2(r,e){function t(){const n=r.bucket,s=r.fullPath,o=new Zn(n,s);return e._makeStorageReference(o)}Object.defineProperty(r,"ref",{get:t})}function A2(r,e,t){const n={};n.type="file";const s=t.length;for(let o=0;o<s;o++){const u=t[o];n[u.local]=u.xform(n,e[u.server])}return D2(n,r),n}function lT(r,e,t){const n=iT(e);return n===null?null:A2(r,n,t)}function R2(r,e,t,n){const s=iT(e);if(s===null||!oy(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(m=>{const y=r.bucket,b=r.fullPath,w="/b/"+u(y)+"/o/"+u(b),S=ah(w,t,n),D=tT({alt:"media",token:m});return S+D})[0]}function C2(r,e){const t={},n=e.length;for(let s=0;s<n;s++){const o=e[s];o.writable&&(t[o.server]=r[o.local])}return JSON.stringify(t)}class cy{constructor(e,t,n,s){this.url=e,this.method=t,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(r){if(!r)throw sy()}function N2(r,e){function t(n,s){const o=lT(r,s,e);return cT(o!==null),o}return t}function k2(r,e){function t(n,s){const o=lT(r,s,e);return cT(o!==null),R2(o,s,r.host,r._protocol)}return t}function uT(r){function e(t,n){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=Hk():s=Yk():t.getStatus()===402?s=zk(r.bucket):t.getStatus()===403?s=qk(r.path):s=n,s.status=t.getStatus(),s.serverResponse=n.serverResponse,s}return e}function dT(r){const e=uT(r);function t(n,s){let o=e(n,s);return n.getStatus()===404&&(o=Fk(r.path)),o.serverResponse=s.serverResponse,o}return t}function M2(r,e,t){const n=e.fullServerUrl(),s=ah(n,r.host,r._protocol),o="GET",u=r.maxOperationRetryTime,f=new cy(s,o,k2(r,t),u);return f.errorHandler=dT(e),f}function O2(r,e){const t=e.fullServerUrl(),n=ah(t,r.host,r._protocol),s="DELETE",o=r.maxOperationRetryTime;function u(p,m){}const f=new cy(n,s,u,o);return f.successCodes=[200,204],f.errorHandler=dT(e),f}function I2(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function P2(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=I2(null,e)),n}function j2(r,e,t,n,s){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let Z="";for(let te=0;te<2;te++)Z=Z+Math.random().toString().slice(2);return Z}const p=f();u["Content-Type"]="multipart/related; boundary="+p;const m=P2(e,n,s),y=C2(m,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,w=`\r
--`+p+"--",S=Di.getBlob(b,n,w);if(S===null)throw Xk();const D={name:m.fullPath},j=ah(o,r.host,r._protocol),N="POST",P=r.maxUploadRetryTime,W=new cy(j,N,N2(r,t),P);return W.urlParams=D,W.headers=u,W.body=S.uploadData(),W.errorHandler=uT(e),W}class V2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ns.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ns.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ns.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,s){if(this.sent_)throw Ac("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ac("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ac("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ac("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ac("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class L2 extends V2{initXhr(){this.xhr_.responseType="text"}}function uy(){return new L2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t){this._service=e,t instanceof Zn?this._location=t:this._location=Zn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Us(e,t)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sT(this._location.path)}get storage(){return this._service}get parent(){const e=E2(this._location.path);if(e===null)return null;const t=new Zn(this._location.bucket,e);return new Us(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw e2(e)}}function U2(r,e,t){r._throwIfRoot("uploadBytes");const n=j2(r.storage,r._location,oT(),new Di(e,!0),t);return r.storage.makeRequestWithTokens(n,uy).then(s=>({metadata:s,ref:r}))}function B2(r){r._throwIfRoot("getDownloadURL");const e=M2(r.storage,r._location,oT());return r.storage.makeRequestWithTokens(e,uy).then(t=>{if(t===null)throw Zk();return t})}function F2(r){r._throwIfRoot("deleteObject");const e=O2(r.storage,r._location);return r.storage.makeRequestWithTokens(e,uy)}function z2(r,e){const t=x2(r._location.path,e),n=new Zn(r._location.bucket,t);return new Us(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(r){return/^[A-Za-z]+:\/\//.test(r)}function H2(r,e){return new Us(r,e)}function fT(r,e){if(r instanceof dy){const t=r;if(t._bucket==null)throw $k();const n=new Us(t,t._bucket);return e!=null?fT(n,e):n}else return e!==void 0?z2(r,e):r}function q2(r,e){if(e&&Y2(e)){if(r instanceof dy)return H2(r,e);throw og("To use ref(service, url), the first argument must be a Storage instance.")}else return fT(r,e)}function ew(r,e){const t=e?.[Jx];return t==null?null:Zn.makeFromBucketSpec(t,r)}function Q2(r,e,t,n={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:s}=n;s&&(r._overrideAuthToken=typeof s=="string"?s:vE(s,r.app.options.projectId))}class dy{constructor(e,t,n,s,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=Zx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Uk,this._maxUploadRetryTime=Bk,this._requests=new Set,s!=null?this._bucket=Zn.makeFromBucketSpec(s,this._host):this._bucket=ew(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=ew(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Us(this,e)}_makeRequest(e,t,n,s,o=!0){if(this._deleted)return new t2(eT());{const u=f2(e,this._appId,n,s,t,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,s).getPromise()}}const tw="@firebase/storage",nw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="storage";function G2(r,e,t){return r=Rn(r),U2(r,e,t)}function K2(r){return r=Rn(r),B2(r)}function W2(r){return r=Rn(r),F2(r)}function rw(r,e){return r=Rn(r),q2(r,e)}function $2(r=DE(),e){r=Rn(r);const n=xE(r,hT).getImmediate({identifier:e}),s=gE("storage");return s&&X2(n,...s),n}function X2(r,e,t,n={}){Q2(r,e,t,n)}function Z2(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),s=r.getProvider("app-check-internal");return new dy(t,n,s,e,TE)}function J2(){qc(new Wo(hT,Z2,"PUBLIC").setMultipleInstances(!0)),ki(tw,nw,""),ki(tw,nw,"esm2017")}J2();const eM={apiKey:"AIzaSyCY-TRVaKE_sHAymKNHshKy60strhJVqA0",authDomain:"valeting-1d9a7.firebaseapp.com",projectId:"valeting-1d9a7",storageBucket:"valeting-1d9a7.firebasestorage.app",messagingSenderId:"325979702496",appId:"1:325979702496:web:6035796b71fa948ebc7c85",measurementId:"G-7REC1ZQRNB"},pT=SE(eM),gn=Lx(pT),aw=$2(pT);function mT({onLeaveReview:r}){const[e,t]=V.useState([]),[n,s]=V.useState(!0);V.useEffect(()=>{o()},[]);const o=async()=>{try{s(!0);const p=vr(gn,"reviews");try{const m=Cs(p,sf("approved","==",!0),Kb(10)),y=await Va(m),b=[];y.forEach(w=>{b.push({id:w.id,...w.data()})}),console.log("Fetched approved reviews:",b),b.sort((w,S)=>{const D=w.date?.toDate?w.date.toDate():new Date(w.date);return(S.date?.toDate?S.date.toDate():new Date(S.date))-D}),t(b)}catch(m){console.log("Filtered query failed, trying to fetch all reviews:",m);const y=Cs(p,Kb(20)),b=await Va(y),w=[];b.forEach(D=>{w.push({id:D.id,...D.data()})}),console.log("All reviews:",w);const S=w.filter(D=>D.approved===!0);console.log("Approved reviews after filtering:",S),S.sort((D,j)=>{const N=D.date?.toDate?D.date.toDate():new Date(D.date);return(j.date?.toDate?j.date.toDate():new Date(j.date))-N}),t(S)}}catch(p){console.error("Error fetching reviews:",p)}finally{s(!1)}},u=p=>v.jsx("div",{className:"d-flex justify-content-center mb-3",children:[1,2,3,4,5].map(m=>v.jsx("span",{className:`fs-5 ${p>=m?"text-warning":"text-muted"}`,children:""},m))}),f=p=>p?(p.toDate?p.toDate():new Date(p)).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"}):"";return n?v.jsx("section",{className:"py-5 bg-dark w-100",children:v.jsxs("div",{className:"container-fluid px-4",children:[v.jsx("h2",{className:"display-6 fw-bold text-primary text-center mb-4",children:"What Our Customers Say"}),v.jsx("div",{className:"text-center",children:v.jsx("div",{className:"spinner-border text-primary",role:"status",children:v.jsx("span",{className:"visually-hidden",children:"Loading..."})})})]})}):e.length===0?v.jsx("section",{className:"py-5 bg-dark w-100",children:v.jsxs("div",{className:"container-fluid px-4",children:[v.jsx("h2",{className:"display-6 fw-bold text-primary text-center mb-4",children:"What Our Customers Say"}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-light mb-4",children:"Be the first to leave a review!"}),v.jsx("button",{className:"btn btn-primary",onClick:r,children:"Leave a Review"})]})]})}):v.jsx("section",{className:"py-5 bg-dark w-100",children:v.jsxs("div",{className:"container-fluid px-4",children:[v.jsx("h2",{className:"display-6 fw-bold text-primary text-center mb-4",children:"What Our Customers Say"}),v.jsxs("div",{id:"testimonialCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[v.jsx("div",{className:"carousel-inner",children:e.map((p,m)=>v.jsx("div",{className:`carousel-item ${m===0?"active":""}`,children:v.jsx("div",{className:"row justify-content-center",children:v.jsx("div",{className:"col-12 col-md-8 col-lg-6",children:v.jsxs("div",{className:"d-flex flex-column align-items-center text-center",children:[v.jsx("div",{className:"mb-3",style:{minHeight:"72px"},children:v.jsx("div",{className:"bg-primary rounded-circle d-flex align-items-center justify-content-center text-white fw-bold",style:{width:"64px",height:"64px",fontSize:"1.5rem"},children:p.customerName.charAt(0).toUpperCase()})}),u(p.rating),v.jsx("blockquote",{className:"blockquote w-100",children:v.jsxs("p",{className:"mb-3 text-light fs-5",style:{wordBreak:"break-word"},children:['"',p.review,'"']})}),v.jsxs("footer",{className:"blockquote-footer text-light w-100",style:{marginTop:"-0.5rem"},children:[v.jsx("strong",{children:p.customerName}),p.service&&v.jsxs("span",{className:"text-muted ms-2",children:[" ",p.service]}),p.date&&v.jsxs("span",{className:"text-muted ms-2",children:[" ",f(p.date)]})]})]})})})},p.id))}),e.length>1&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#testimonialCarousel","data-bs-slide":"prev",children:[v.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),v.jsx("span",{className:"visually-hidden",children:"Previous"})]}),v.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#testimonialCarousel","data-bs-slide":"next",children:[v.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),v.jsx("span",{className:"visually-hidden",children:"Next"})]})]})]}),v.jsxs("div",{className:"text-center mt-5",children:[v.jsx("p",{className:"text-light mb-3",children:"Had a great experience? Share it with others!"}),v.jsx("button",{className:"btn btn-outline-primary",onClick:r,children:"Leave a Review"})]})]})})}function tM(){return v.jsx("section",{className:"py-5 bg-dark w-100",children:v.jsxs("div",{className:"container-fluid px-4",children:[v.jsx("h2",{className:"display-6 fw-bold text-primary text-center mb-4",children:"Frequently Asked Questions"}),v.jsxs("div",{className:"accordion",id:"faqAccordion",children:[v.jsxs("div",{className:"accordion-item bg-secondary",children:[v.jsx("h2",{className:"accordion-header",id:"faq1",children:v.jsx("button",{className:"accordion-button bg-secondary text-light",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse1","aria-expanded":"true","aria-controls":"collapse1",children:"How long does a full valet take?"})}),v.jsx("div",{id:"collapse1",className:"accordion-collapse collapse show","aria-labelledby":"faq1","data-bs-parent":"#faqAccordion",children:v.jsx("div",{className:"accordion-body text-light",children:"A full valet typically takes 3-4 hours depending on the vehicle size and condition."})})]}),v.jsxs("div",{className:"accordion-item bg-secondary",children:[v.jsx("h2",{className:"accordion-header",id:"faq2",children:v.jsx("button",{className:"accordion-button collapsed bg-secondary text-light",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse2","aria-expanded":"false","aria-controls":"collapse2",children:"Do you offer mobile valeting?"})}),v.jsx("div",{id:"collapse2",className:"accordion-collapse collapse","aria-labelledby":"faq2","data-bs-parent":"#faqAccordion",children:v.jsx("div",{className:"accordion-body text-light",children:"Yes! We come to your home or workplace for your convenience, all we need is an outlet and a hose tap!."})})]}),v.jsxs("div",{className:"accordion-item bg-secondary",children:[v.jsx("h2",{className:"accordion-header",id:"faq3",children:v.jsx("button",{className:"accordion-button collapsed bg-secondary text-light",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse3","aria-expanded":"false","aria-controls":"collapse3",children:"What payment methods do you accept?"})}),v.jsx("div",{id:"collapse3",className:"accordion-collapse collapse","aria-labelledby":"faq3","data-bs-parent":"#faqAccordion",children:v.jsx("div",{className:"accordion-body text-light",children:"We accept cash Revolut payments."})})]})]})]})})}const nM=[{title:"Full Valet",desc:"Complete transformation inside and out.",fullDesc:"Complete transformation, inside and out. Price depends on vehicle size and condition. This comprehensive service includes everything needed to restore your vehicle to showroom condition.",features:["Exterior shampoo and wax & interior deep clean","Wheel cleaning & tire shine","Window cleaning","Full vacuum & dust removal","Dashboard & console cleaning","Leather/fabric treatment","Air freshener service"],price:"90100",duration:"3-4 hours",image:"/gallery/FullValet.png"},{title:"Exterior Only",desc:"Full exterior wash and protection.",fullDesc:"Full exterior wash and protection. No interior cleaning. Perfect for vehicles that need exterior attention while the interior is still in good condition.",features:["Exterior shampoo and wax","Wheel cleaning & tire shine","Window cleaning","Air freshener service"],price:"40",duration:"1-2 hours",image:"/gallery/Exterior.png"},{title:"Interior Only",desc:"Deep interior cleaning and restoration.",fullDesc:"Deep interior cleaning and restoration. Restores your car's cabin to showroom condition. Ideal for vehicles with clean exteriors but dirty interiors.",features:["Full vacuum & dust removal","Dashboard & console cleaning","Leather/fabric treatment","Air freshener service"],price:"60",duration:"2-3 hours",image:"/gallery/Interior.png"},{title:"Iron Fallout & Tar Remover",desc:"Removes embedded particles for smoother finish.",fullDesc:"Removes embedded iron particles and tar for a smoother, cleaner finish. Available as an add-on during booking for Exterior Only or Full Valet services. Safe for all paint types. Note: Requires an exterior wash first.",features:["Iron fallout removal","Tar spot removal","Safe for all paint types","Requires exterior wash first","Available as add-on during booking"],price:"+20",duration:"Add-on (30 min)",image:"/gallery/Tar.png",isAddon:!0}];function rM({onBookNow:r}){const[e,t]=V.useState({}),n=V.useRef([]),s=o=>{t(u=>({...u,[o]:!u[o]}))};return V.useEffect(()=>{function o(u){n.current.forEach((f,p)=>{f&&e[p]&&!f.contains(u.target)&&t(m=>({...m,[p]:!1}))})}if(Object.values(e).some(Boolean))return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[e]),v.jsxs("section",{id:"services",className:"py-5 bg-dark w-100",children:[v.jsxs("div",{className:"container-fluid px-4",children:[v.jsxs("div",{className:"text-center mb-5",children:[v.jsx("h2",{className:"display-5 fw-bold text-primary mb-3",children:"Our Services & Pricing"}),v.jsx("p",{className:"lead text-light mb-0",children:"Choose from our range of professional valeting services, each designed to keep your vehicle in pristine condition. All prices are fixed and transparent."})]}),v.jsx("div",{className:"row g-4",children:nM.map((o,u)=>v.jsx("div",{className:"col-12 col-md-6",children:v.jsx("div",{className:"position-relative",children:v.jsxs("div",{className:"card h-100 shadow border-0 bg-secondary",children:[v.jsxs("div",{className:"card-body d-flex flex-column align-items-center justify-content-center p-4 text-center",children:[v.jsx("h3",{className:"h4 fw-bold text-primary mb-4",children:o.title}),v.jsx("div",{className:"mb-4",children:v.jsx("svg",{width:"80",height:"80",fill:"currentColor",className:"text-primary",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})})}),v.jsx("p",{className:"text-light mb-3 text-center",children:o.desc}),v.jsxs("div",{className:"mt-auto",children:[v.jsx("div",{className:"h4 fw-bold text-primary mb-2",children:o.price}),v.jsx("div",{className:"small text-light mb-3",children:o.duration}),v.jsxs("div",{className:"d-flex flex-column gap-2",children:[v.jsx("button",{className:"btn btn-outline-secondary btn-sm",onMouseDown:f=>{f.preventDefault(),f.stopPropagation()},onClick:()=>s(u),children:e[u]?"Hide Details":"See Details"}),o.isAddon?v.jsx("button",{type:"button",className:"btn btn-outline-secondary fw-semibold",disabled:!0,style:{opacity:.7,cursor:"not-allowed"},children:"Add-on Only"}):v.jsx("button",{type:"button",className:"btn btn-outline-primary fw-semibold",onClick:r,children:"Book Now"})]})]})]}),v.jsx("div",{ref:f=>n.current[u]=f,className:`w-100 bg-secondary border border-primary rounded-bottom shadow-lg details-popout${e[u]?" details-popout-open":""}`,style:{marginTop:"1rem",zIndex:10},children:e[u]&&v.jsxs("div",{className:"p-4",children:[v.jsx("p",{className:"text-light text-center mb-4",children:o.fullDesc}),v.jsx("ul",{className:"list-unstyled text-center",children:o.features.map((f,p)=>v.jsxs("li",{className:"d-flex align-items-center justify-content-center mb-2 text-light",children:[v.jsx("span",{className:"badge bg-danger me-2",style:{width:8,height:8,borderRadius:"50%"}}),v.jsx("span",{children:f})]},p))})]})})]})})},o.title))})]}),v.jsx("style",{jsx:!0,children:`
        .details-popout {
          max-height: 0;
          opacity: 0;
          overflow: hidden;
          transform: translateY(-20px);
          transition: max-height 0.4s cubic-bezier(0.4,0,0.2,1), opacity 0.3s, transform 0.4s cubic-bezier(0.4,0,0.2,1);
        }
        .details-popout-open {
          max-height: 500px;
          opacity: 1;
          transform: translateY(0);
        }
      `})]})}function aM(){return v.jsx("footer",{className:"bg-dark text-white py-4 mt-5 w-100 border-top border-danger",style:{letterSpacing:"0.01em"},children:v.jsxs("div",{className:"container-fluid px-4 d-flex flex-column flex-md-row align-items-center justify-content-between gap-3",children:[v.jsxs("div",{className:"d-flex align-items-center mb-3 mb-md-0",children:[v.jsx("img",{src:"/gallery/Logo.png",alt:"Jakes Car Care Logo",style:{height:44,width:44,objectFit:"contain",marginRight:12,filter:"brightness(0) invert(1)"}}),v.jsx("span",{className:"fw-bold fs-6",style:{fontFamily:"'GoodTimes', 'Poppins', 'Segoe UI', sans-serif",background:"linear-gradient(45deg, #fff, #dc3545)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"none"},children:"Jakes Car Care"})]}),v.jsxs("div",{className:"text-center small flex-grow-1 mb-3 mb-md-0",children:[v.jsx("div",{children:v.jsx("strong",{children:"Serving Roscommon, Longford & surrounding areas"})}),v.jsx("div",{children:v.jsx("a",{href:"/#/service-areas",className:"text-info fw-semibold",children:"See all service areas"})}),v.jsxs("div",{children:[v.jsx("span",{children:"See more photos & updates on our "}),v.jsx("a",{href:"https://www.facebook.com/profile.php?id=61560837419584",target:"_blank",rel:"noopener noreferrer",className:"text-info fw-semibold",children:"Facebook page"}),v.jsx("span",{children:"!"})]}),v.jsxs("div",{className:"mt-2",children:[" ",new Date().getFullYear()," Jakes Car Care. All rights reserved."]})]}),v.jsxs("div",{className:"d-flex gap-3 justify-content-center",children:[v.jsx("a",{href:"https://www.facebook.com/YOUR_FACEBOOK_PAGE",target:"_blank",rel:"noopener noreferrer",className:"text-white-50 footer-social","aria-label":"Facebook",children:v.jsx("i",{className:"bi bi-facebook fs-5"})}),v.jsx("a",{href:"#",className:"text-white-50 footer-social","aria-label":"Instagram",children:v.jsx("i",{className:"bi bi-instagram fs-5"})})]})]})})}function gT(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=gT(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function _n(){for(var r,e,t=0,n="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=gT(r))&&(n&&(n+=" "),n+=e);return n}const yT=6048e5,iM=864e5,ih=6e4,sh=36e5,sM=1e3,iw=Symbol.for("constructDateFrom");function dt(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&iw in r?r[iw](e):r instanceof Date?new r.constructor(e):new Date(e)}function Ee(r,e){return dt(e||r,r)}function Rr(r,e,t){const n=Ee(r,t?.in);return isNaN(e)?dt(t?.in||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function kr(r,e,t){const n=Ee(r,t?.in);if(isNaN(e))return dt(r,NaN);if(!e)return n;const s=n.getDate(),o=dt(r,n.getTime());o.setMonth(n.getMonth()+e+1,0);const u=o.getDate();return s>=u?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function vT(r,e,t){return dt(r,+Ee(r)+e)}function oM(r,e,t){return vT(r,e*sh)}let lM={};function Gs(){return lM}function Ga(r,e){const t=Gs(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=Ee(r,e?.in),o=s.getDay(),u=(o<n?7:0)+o-n;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function nl(r,e){return Ga(r,{...e,weekStartsOn:1})}function _T(r,e){const t=Ee(r,e?.in),n=t.getFullYear(),s=dt(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=nl(s),u=dt(t,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const f=nl(u);return t.getTime()>=o.getTime()?n+1:t.getTime()>=f.getTime()?n:n-1}function Rf(r){const e=Ee(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Ka(r,...e){const t=dt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Bs(r,e){const t=Ee(r,e?.in);return t.setHours(0,0,0,0),t}function rl(r,e,t){const[n,s]=Ka(t?.in,r,e),o=Bs(n),u=Bs(s),f=+o-Rf(o),p=+u-Rf(u);return Math.round((f-p)/iM)}function cM(r,e){const t=_T(r,e),n=dt(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),nl(n)}function lg(r,e,t){const n=Ee(r,t?.in);return n.setTime(n.getTime()+e*ih),n}function fy(r,e,t){return kr(r,e*3,t)}function uM(r,e,t){return vT(r,e*1e3)}function Cf(r,e,t){return Rr(r,e*7,t)}function La(r,e,t){return kr(r,e*12,t)}function sw(r,e){let t,n=e?.in;return r.forEach(s=>{!n&&typeof s=="object"&&(n=dt.bind(null,s));const o=Ee(s,n);(!t||t<o||isNaN(+o))&&(t=o)}),dt(n,t||NaN)}function ow(r,e){let t,n=e?.in;return r.forEach(s=>{!n&&typeof s=="object"&&(n=dt.bind(null,s));const o=Ee(s,n);(!t||t>o||isNaN(+o))&&(t=o)}),dt(n,t||NaN)}function dM(r,e,t){const[n,s]=Ka(t?.in,r,e);return+Bs(n)==+Bs(s)}function Ua(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Nf(r){return!(!Ua(r)&&typeof r!="number"||isNaN(+Ee(r)))}function kf(r,e,t){const[n,s]=Ka(t?.in,r,e),o=n.getFullYear()-s.getFullYear(),u=n.getMonth()-s.getMonth();return o*12+u}function ks(r,e){const t=Ee(r,e?.in);return Math.trunc(t.getMonth()/3)+1}function Mf(r,e,t){const[n,s]=Ka(t?.in,r,e),o=n.getFullYear()-s.getFullYear(),u=ks(n)-ks(s);return o*4+u}function Of(r,e,t){const[n,s]=Ka(t?.in,r,e);return n.getFullYear()-s.getFullYear()}function fM(r,e,t){const[n,s]=Ka(t?.in,r,e),o=lw(n,s),u=Math.abs(rl(n,s));n.setDate(n.getDate()-o*u);const f=+(lw(n,s)===-o),p=o*(u-f);return p===0?0:p}function lw(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function bT(r,e){const t=Ee(r,e?.in);return t.setHours(23,59,59,999),t}function wT(r,e){const t=Ee(r,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function cg(r,e){const t=Ee(r,e?.in),n=t.getMonth(),s=n-n%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function ET(r,e){const t=Ee(r,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function xT(r,e){const t=Ee(r,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function oh(r,e){const t=Ee(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function hM(r,e){const t=Gs(),n=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=Ee(r,e?.in),o=s.getDay(),u=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+u),s.setHours(23,59,59,999),s}const pM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mM=(r,e,t)=>{let n;const s=pM[r];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Cm(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const gM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_M={date:Cm({formats:gM,defaultWidth:"full"}),time:Cm({formats:yM,defaultWidth:"full"}),dateTime:Cm({formats:vM,defaultWidth:"full"})},bM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wM=(r,e,t,n)=>bM[r];function Rc(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let s;if(n==="formatting"&&r.formattingValues){const u=r.defaultFormattingWidth||r.defaultWidth,f=t?.width?String(t.width):u;s=r.formattingValues[f]||r.formattingValues[u]}else{const u=r.defaultWidth,f=t?.width?String(t.width):r.defaultWidth;s=r.values[f]||r.values[u]}const o=r.argumentCallback?r.argumentCallback(e):e;return s[o]}}const EM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},TM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},AM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},RM=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},CM={ordinalNumber:RM,era:Rc({values:EM,defaultWidth:"wide"}),quarter:Rc({values:xM,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Rc({values:TM,defaultWidth:"wide"}),day:Rc({values:SM,defaultWidth:"wide"}),dayPeriod:Rc({values:DM,defaultWidth:"wide",formattingValues:AM,defaultFormattingWidth:"wide"})};function Cc(r){return(e,t={})=>{const n=t.width,s=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(s);if(!o)return null;const u=o[0],f=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(f)?kM(f,b=>b.test(u)):NM(f,b=>b.test(u));let m;m=r.valueCallback?r.valueCallback(p):p,m=t.valueCallback?t.valueCallback(m):m;const y=e.slice(u.length);return{value:m,rest:y}}}function NM(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function kM(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function MM(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const s=n[0],o=e.match(r.parsePattern);if(!o)return null;let u=r.valueCallback?r.valueCallback(o[0]):o[0];u=t.valueCallback?t.valueCallback(u):u;const f=e.slice(s.length);return{value:u,rest:f}}}const OM=/^(\d+)(th|st|nd|rd)?/i,IM=/\d+/i,PM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jM={any:[/^b/i,/^(a|c)/i]},VM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LM={any:[/1/i,/2/i,/3/i,/4/i]},UM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},BM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},YM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qM={ordinalNumber:MM({matchPattern:OM,parsePattern:IM,valueCallback:r=>parseInt(r,10)}),era:Cc({matchPatterns:PM,defaultMatchWidth:"wide",parsePatterns:jM,defaultParseWidth:"any"}),quarter:Cc({matchPatterns:VM,defaultMatchWidth:"wide",parsePatterns:LM,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Cc({matchPatterns:UM,defaultMatchWidth:"wide",parsePatterns:BM,defaultParseWidth:"any"}),day:Cc({matchPatterns:FM,defaultMatchWidth:"wide",parsePatterns:zM,defaultParseWidth:"any"}),dayPeriod:Cc({matchPatterns:YM,defaultMatchWidth:"any",parsePatterns:HM,defaultParseWidth:"any"})},TT={code:"en-US",formatDistance:mM,formatLong:_M,formatRelative:wM,localize:CM,match:qM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QM(r,e){const t=Ee(r,e?.in);return rl(t,oh(t))+1}function hy(r,e){const t=Ee(r,e?.in),n=+nl(t)-+cM(t);return Math.round(n/yT)+1}function py(r,e){const t=Ee(r,e?.in),n=t.getFullYear(),s=Gs(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=dt(e?.in||r,0);u.setFullYear(n+1,0,o),u.setHours(0,0,0,0);const f=Ga(u,e),p=dt(e?.in||r,0);p.setFullYear(n,0,o),p.setHours(0,0,0,0);const m=Ga(p,e);return+t>=+f?n+1:+t>=+m?n:n-1}function GM(r,e){const t=Gs(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,s=py(r,e),o=dt(e?.in||r,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Ga(o,e)}function ST(r,e){const t=Ee(r,e?.in),n=+Ga(t,e)-+GM(t,e);return Math.round(n/yT)+1}function ut(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Ti={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return ut(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):ut(t+1,2)},d(r,e){return ut(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return ut(r.getHours()%12||12,e.length)},H(r,e){return ut(r.getHours(),e.length)},m(r,e){return ut(r.getMinutes(),e.length)},s(r,e){return ut(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),s=Math.trunc(n*Math.pow(10,t-3));return ut(s,e.length)}},Bo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cw={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),s=n>0?n:1-n;return t.ordinalNumber(s,{unit:"year"})}return Ti.y(r,e)},Y:function(r,e,t,n){const s=py(r,n),o=s>0?s:1-s;if(e==="YY"){const u=o%100;return ut(u,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):ut(o,e.length)},R:function(r,e){const t=_T(r);return ut(t,e.length)},u:function(r,e){const t=r.getFullYear();return ut(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ut(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ut(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Ti.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return ut(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const s=ST(r,n);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):ut(s,e.length)},I:function(r,e,t){const n=hy(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):ut(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Ti.d(r,e)},D:function(r,e,t){const n=QM(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):ut(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const s=r.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ut(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const s=r.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ut(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return ut(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const s=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let s;switch(n===12?s=Bo.noon:n===0?s=Bo.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let s;switch(n>=17?s=Bo.evening:n>=12?s=Bo.afternoon:n>=4?s=Bo.morning:s=Bo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Ti.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Ti.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):ut(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):ut(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Ti.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Ti.s(r,e)},S:function(r,e){return Ti.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return dw(n);case"XXXX":case"XX":return xs(n);case"XXXXX":case"XXX":default:return xs(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return dw(n);case"xxxx":case"xx":return xs(n);case"xxxxx":case"xxx":default:return xs(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+uw(n,":");case"OOOO":default:return"GMT"+xs(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+uw(n,":");case"zzzz":default:return"GMT"+xs(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return ut(n,e.length)},T:function(r,e,t){return ut(+r,e.length)}};function uw(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=Math.trunc(n/60),o=n%60;return o===0?t+String(s):t+String(s)+e+ut(o,2)}function dw(r,e){return r%60===0?(r>0?"-":"+")+ut(Math.abs(r)/60,2):xs(r,e)}function xs(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=ut(Math.trunc(n/60),2),o=ut(n%60,2);return t+s+e+o}const fw=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},DT=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},KM=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],s=t[2];if(!s)return fw(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",fw(n,e)).replace("{{time}}",DT(s,e))},ug={p:DT,P:KM},WM=/^D+$/,$M=/^Y+$/,XM=["D","DD","YY","YYYY"];function ZM(r){return WM.test(r)}function JM(r){return $M.test(r)}function eO(r,e,t){const n=tO(r,e,t);if(console.warn(n),XM.includes(r))throw new RangeError(n)}function tO(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aO=/^'([^]*?)'?$/,iO=/''/g,sO=/[a-zA-Z]/;function hw(r,e,t){const n=Gs(),s=t?.locale??n.locale??TT,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,u=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,f=Ee(r,t?.in);if(!Nf(f))throw new RangeError("Invalid time value");let p=e.match(rO).map(y=>{const b=y[0];if(b==="p"||b==="P"){const w=ug[b];return w(y,s.formatLong)}return y}).join("").match(nO).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:oO(y)};if(cw[b])return{isToken:!0,value:y};if(b.match(sO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(p=s.localize.preprocessor(f,p));const m={firstWeekContainsDate:o,weekStartsOn:u,locale:s};return p.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!t?.useAdditionalWeekYearTokens&&JM(b)||!t?.useAdditionalDayOfYearTokens&&ZM(b))&&eO(b,e,String(r));const w=cw[b[0]];return w(f,b,s.localize,m)}).join("")}function oO(r){const e=r.match(aO);return e?e[1].replace(iO,"'"):r}function pw(r,e){return Ee(r,e?.in).getDate()}function lO(r,e){return Ee(r,e?.in).getDay()}function cO(r,e){const t=Ee(r,e?.in),n=t.getFullYear(),s=t.getMonth(),o=dt(t,0);return o.setFullYear(n,s+1,0),o.setHours(0,0,0,0),o.getDate()}function uO(){return Object.assign({},Gs())}function Ba(r,e){return Ee(r,e?.in).getHours()}function dO(r,e){const t=Ee(r,e?.in).getDay();return t===0?7:t}function Fa(r,e){return Ee(r,e?.in).getMinutes()}function An(r,e){return Ee(r,e?.in).getMonth()}function Oi(r){return Ee(r).getSeconds()}function dg(r){return+Ee(r)}function Ve(r,e){return Ee(r,e?.in).getFullYear()}function Ui(r,e){return+Ee(r)>+Ee(e)}function Fs(r,e){return+Ee(r)<+Ee(e)}function fO(r,e){return+Ee(r)==+Ee(e)}function hO(r,e){const t=pO(e)?new e(0):dt(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function pO(r){return typeof r=="function"&&r.prototype?.constructor===r}const mO=10;class AT{subPriority=0;validate(e,t){return!0}}class gO extends AT{constructor(e,t,n,s,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=s,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class yO extends AT{priority=mO;subPriority=-1;constructor(e,t){super(),this.context=e||(n=>dt(t,n))}set(e,t){return t.timestampIsSet?e:dt(e,hO(e,this.context))}}class rt{run(e,t,n,s){const o=this.parse(e,t,n,s);return o?{setter:new gO(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class vO extends rt{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const Ut={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Zr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Bt(r,e){return r&&{value:e(r.value),rest:r.rest}}function Dt(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Jr(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,u=t[5]?parseInt(t[5],10):0;return{value:n*(s*sh+o*ih+u*sM),rest:e.slice(t[0].length)}}function RT(r){return Dt(Ut.anyDigitsSigned,r)}function Ot(r,e){switch(r){case 1:return Dt(Ut.singleDigit,e);case 2:return Dt(Ut.twoDigits,e);case 3:return Dt(Ut.threeDigits,e);case 4:return Dt(Ut.fourDigits,e);default:return Dt(new RegExp("^\\d{1,"+r+"}"),e)}}function If(r,e){switch(r){case 1:return Dt(Ut.singleDigitSigned,e);case 2:return Dt(Ut.twoDigitsSigned,e);case 3:return Dt(Ut.threeDigitsSigned,e);case 4:return Dt(Ut.fourDigitsSigned,e);default:return Dt(new RegExp("^-?\\d{1,"+r+"}"),e)}}function my(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function CT(r,e){const t=e>0,n=t?e:1-e;let s;if(n<=50)s=r||100;else{const o=n+50,u=Math.trunc(o/100)*100,f=r>=o%100;s=r+u-(f?100:0)}return t?s:1-s}function NT(r){return r%400===0||r%4===0&&r%100!==0}class _O extends rt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const s=o=>({year:o,isTwoDigitYear:t==="yy"});switch(t){case"y":return Bt(Ot(4,e),s);case"yo":return Bt(n.ordinalNumber(e,{unit:"year"}),s);default:return Bt(Ot(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const s=e.getFullYear();if(n.isTwoDigitYear){const u=CT(n.year,s);return e.setFullYear(u,0,1),e.setHours(0,0,0,0),e}const o=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class bO extends rt{priority=130;parse(e,t,n){const s=o=>({year:o,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Bt(Ot(4,e),s);case"Yo":return Bt(n.ordinalNumber(e,{unit:"year"}),s);default:return Bt(Ot(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,s){const o=py(e,s);if(n.isTwoDigitYear){const f=CT(n.year,o);return e.setFullYear(f,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),Ga(e,s)}const u=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(u,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),Ga(e,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class wO extends rt{priority=130;parse(e,t){return If(t==="R"?4:t.length,e)}set(e,t,n){const s=dt(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),nl(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class EO extends rt{priority=130;parse(e,t){return If(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class xO extends rt{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return Ot(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class TO extends rt{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return Ot(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class SO extends rt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const s=o=>o-1;switch(t){case"M":return Bt(Dt(Ut.month,e),s);case"MM":return Bt(Ot(2,e),s);case"Mo":return Bt(n.ordinalNumber(e,{unit:"month"}),s);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class DO extends rt{priority=110;parse(e,t,n){const s=o=>o-1;switch(t){case"L":return Bt(Dt(Ut.month,e),s);case"LL":return Bt(Ot(2,e),s);case"Lo":return Bt(n.ordinalNumber(e,{unit:"month"}),s);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function AO(r,e,t){const n=Ee(r,t?.in),s=ST(n,t)-e;return n.setDate(n.getDate()-s*7),Ee(n,t?.in)}class RO extends rt{priority=100;parse(e,t,n){switch(t){case"w":return Dt(Ut.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Ot(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,s){return Ga(AO(e,n,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function CO(r,e,t){const n=Ee(r,t?.in),s=hy(n,t)-e;return n.setDate(n.getDate()-s*7),n}class NO extends rt{priority=100;parse(e,t,n){switch(t){case"I":return Dt(Ut.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Ot(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return nl(CO(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const kO=[31,28,31,30,31,30,31,31,30,31,30,31],MO=[31,29,31,30,31,30,31,31,30,31,30,31];class OO extends rt{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return Dt(Ut.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Ot(t.length,e)}}validate(e,t){const n=e.getFullYear(),s=NT(n),o=e.getMonth();return s?t>=1&&t<=MO[o]:t>=1&&t<=kO[o]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class IO extends rt{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return Dt(Ut.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Ot(t.length,e)}}validate(e,t){const n=e.getFullYear();return NT(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function gy(r,e,t){const n=Gs(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ee(r,t?.in),u=o.getDay(),p=(e%7+7)%7,m=7-s,y=e<0||e>6?e-(u+m)%7:(p+m)%7-(u+m)%7;return Rr(o,y,t)}class PO extends rt{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=gy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class jO extends rt{priority=90;parse(e,t,n,s){const o=u=>{const f=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+f};switch(t){case"e":case"ee":return Bt(Ot(t.length,e),o);case"eo":return Bt(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=gy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class VO extends rt{priority=90;parse(e,t,n,s){const o=u=>{const f=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+f};switch(t){case"c":case"cc":return Bt(Ot(t.length,e),o);case"co":return Bt(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=gy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function LO(r,e,t){const n=Ee(r,t?.in),s=dO(n,t),o=e-s;return Rr(n,o,t)}class UO extends rt{priority=90;parse(e,t,n){const s=o=>o===0?7:o;switch(t){case"i":case"ii":return Ot(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Bt(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return Bt(n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Bt(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Bt(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=LO(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class BO extends rt{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(my(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class FO extends rt{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(my(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class zO extends rt{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(my(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class YO extends rt{priority=70;parse(e,t,n){switch(t){case"h":return Dt(Ut.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Ot(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const s=e.getHours()>=12;return s&&n<12?e.setHours(n+12,0,0,0):!s&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class HO extends rt{priority=70;parse(e,t,n){switch(t){case"H":return Dt(Ut.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Ot(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class qO extends rt{priority=70;parse(e,t,n){switch(t){case"K":return Dt(Ut.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Ot(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class QO extends rt{priority=70;parse(e,t,n){switch(t){case"k":return Dt(Ut.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Ot(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const s=n<=24?n%24:n;return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class GO extends rt{priority=60;parse(e,t,n){switch(t){case"m":return Dt(Ut.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Ot(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class KO extends rt{priority=50;parse(e,t,n){switch(t){case"s":return Dt(Ut.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Ot(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class WO extends rt{priority=30;parse(e,t){const n=s=>Math.trunc(s*Math.pow(10,-t.length+3));return Bt(Ot(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class $O extends rt{priority=10;parse(e,t){switch(t){case"X":return Jr(Zr.basicOptionalMinutes,e);case"XX":return Jr(Zr.basic,e);case"XXXX":return Jr(Zr.basicOptionalSeconds,e);case"XXXXX":return Jr(Zr.extendedOptionalSeconds,e);case"XXX":default:return Jr(Zr.extended,e)}}set(e,t,n){return t.timestampIsSet?e:dt(e,e.getTime()-Rf(e)-n)}incompatibleTokens=["t","T","x"]}class XO extends rt{priority=10;parse(e,t){switch(t){case"x":return Jr(Zr.basicOptionalMinutes,e);case"xx":return Jr(Zr.basic,e);case"xxxx":return Jr(Zr.basicOptionalSeconds,e);case"xxxxx":return Jr(Zr.extendedOptionalSeconds,e);case"xxx":default:return Jr(Zr.extended,e)}}set(e,t,n){return t.timestampIsSet?e:dt(e,e.getTime()-Rf(e)-n)}incompatibleTokens=["t","T","X"]}class ZO extends rt{priority=40;parse(e){return RT(e)}set(e,t,n){return[dt(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class JO extends rt{priority=20;parse(e){return RT(e)}set(e,t,n){return[dt(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const eI={G:new vO,y:new _O,Y:new bO,R:new wO,u:new EO,Q:new xO,q:new TO,M:new SO,L:new DO,w:new RO,I:new NO,d:new OO,D:new IO,E:new PO,e:new jO,c:new VO,i:new UO,a:new BO,b:new FO,B:new zO,h:new YO,H:new HO,K:new qO,k:new QO,m:new GO,s:new KO,S:new WO,X:new $O,x:new XO,t:new ZO,T:new JO},tI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rI=/^'([^]*?)'?$/,aI=/''/g,iI=/\S/,sI=/[a-zA-Z]/;function oI(r,e,t,n){const s=()=>dt(n?.in||t,NaN),o=uO(),u=n?.locale??o.locale??TT,f=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,p=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!e)return r?s():Ee(t,n?.in);const m={firstWeekContainsDate:f,weekStartsOn:p,locale:u},y=[new yO(n?.in,t)],b=e.match(nI).map(N=>{const P=N[0];if(P in ug){const W=ug[P];return W(N,u.formatLong)}return N}).join("").match(tI),w=[];for(let N of b){const P=N[0],W=eI[P];if(W){const{incompatibleTokens:Z}=W;if(Array.isArray(Z)){const re=w.find(he=>Z.includes(he.token)||he.token===P);if(re)throw new RangeError(`The format string mustn't contain \`${re.fullToken}\` and \`${N}\` at the same time`)}else if(W.incompatibleTokens==="*"&&w.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);w.push({token:P,fullToken:N});const te=W.run(r,N,u.match,m);if(!te)return s();y.push(te.setter),r=te.rest}else{if(P.match(sI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");if(N==="''"?N="'":P==="'"&&(N=lI(N)),r.indexOf(N)===0)r=r.slice(N.length);else return s()}}if(r.length>0&&iI.test(r))return s();const S=y.map(N=>N.priority).sort((N,P)=>P-N).filter((N,P,W)=>W.indexOf(N)===P).map(N=>y.filter(P=>P.priority===N).sort((P,W)=>W.subPriority-P.subPriority)).map(N=>N[0]);let D=Ee(t,n?.in);if(isNaN(+D))return s();const j={};for(const N of S){if(!N.validate(D,m))return s();const P=N.set(D,j,m);Array.isArray(P)?(D=P[0],Object.assign(j,P[1])):D=P}return D}function lI(r){return r.match(rI)[1].replace(aI,"'")}function cI(r,e,t){const[n,s]=Ka(t?.in,r,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function uI(r,e,t){const[n,s]=Ka(t?.in,r,e);return+cg(n)==+cg(s)}function dI(r,e,t){const[n,s]=Ka(t?.in,r,e);return n.getFullYear()===s.getFullYear()}function eu(r,e,t){const n=+Ee(r,t?.in),[s,o]=[+Ee(e.start,t?.in),+Ee(e.end,t?.in)].sort((u,f)=>u-f);return n>=s&&n<=o}function fI(r,e,t){return Rr(r,-1,t)}function hI(r,e){const t=()=>dt(e?.in,NaN),s=yI(r);let o;if(s.date){const m=vI(s.date,2);o=_I(m.restDateString,m.year)}if(!o||isNaN(+o))return t();const u=+o;let f=0,p;if(s.time&&(f=bI(s.time),isNaN(f)))return t();if(s.timezone){if(p=wI(s.timezone),isNaN(p))return t()}else{const m=new Date(u+f),y=Ee(0,e?.in);return y.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),y.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),y}return Ee(u+f+p,e?.in)}const Qd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},pI=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,mI=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,gI=/^([+-])(\d{2})(?::?(\d{2}))?$/;function yI(r){const e={},t=r.split(Qd.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Qd.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Qd.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const s=Qd.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function vI(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function _I(r,e){if(e===null)return new Date(NaN);const t=r.match(pI);if(!t)return new Date(NaN);const n=!!t[4],s=Nc(t[1]),o=Nc(t[2])-1,u=Nc(t[3]),f=Nc(t[4]),p=Nc(t[5])-1;if(n)return DI(e,f,p)?EI(e,f,p):new Date(NaN);{const m=new Date(0);return!TI(e,o,u)||!SI(e,s)?new Date(NaN):(m.setUTCFullYear(e,o,Math.max(s,u)),m)}}function Nc(r){return r?parseInt(r):1}function bI(r){const e=r.match(mI);if(!e)return NaN;const t=Nm(e[1]),n=Nm(e[2]),s=Nm(e[3]);return AI(t,n,s)?t*sh+n*ih+s*1e3:NaN}function Nm(r){return r&&parseFloat(r.replace(",","."))||0}function wI(r){if(r==="Z")return 0;const e=r.match(gI);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return RI(n,s)?t*(n*sh+s*ih):NaN}function EI(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const s=n.getUTCDay()||7,o=(e-1)*7+t+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const xI=[31,null,31,30,31,30,31,31,30,31,30,31];function kT(r){return r%400===0||r%4===0&&r%100!==0}function TI(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(xI[e]||(kT(r)?29:28))}function SI(r,e){return e>=1&&e<=(kT(r)?366:365)}function DI(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function AI(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function RI(r,e){return e>=0&&e<=59}function gr(r,e,t){const n=Ee(r,t?.in),s=n.getFullYear(),o=n.getDate(),u=dt(r,0);u.setFullYear(s,e,15),u.setHours(0,0,0,0);const f=cO(u);return n.setMonth(e,Math.min(o,f)),n}function lf(r,e,t){const n=Ee(r,t?.in);return n.setHours(e),n}function cf(r,e,t){const n=Ee(r,t?.in);return n.setMinutes(e),n}function qo(r,e,t){const n=Ee(r,t?.in),s=Math.trunc(n.getMonth()/3)+1,o=e-s;return gr(n,n.getMonth()+o*3)}function uf(r,e,t){const n=Ee(r,t?.in);return n.setSeconds(e),n}function $r(r,e,t){const n=Ee(r,t?.in);return isNaN(+n)?dt(r,NaN):(n.setFullYear(e),n)}function Ms(r,e,t){return kr(r,-e,t)}function MT(r,e,t){return fy(r,-1,t)}function mw(r,e,t){return Cf(r,-1,t)}function al(r,e,t){return La(r,-e,t)}function lh(){return typeof window<"u"}function ml(r){return OT(r)?(r.nodeName||"").toLowerCase():"#document"}function er(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function la(r){var e;return(e=(OT(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function OT(r){return lh()?r instanceof Node||r instanceof er(r).Node:!1}function Vn(r){return lh()?r instanceof Element||r instanceof er(r).Element:!1}function ia(r){return lh()?r instanceof HTMLElement||r instanceof er(r).HTMLElement:!1}function gw(r){return!lh()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof er(r).ShadowRoot}const CI=new Set(["inline","contents"]);function pu(r){const{overflow:e,overflowX:t,overflowY:n,display:s}=_r(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!CI.has(s)}const NI=new Set(["table","td","th"]);function kI(r){return NI.has(ml(r))}const MI=[":popover-open",":modal"];function ch(r){return MI.some(e=>{try{return r.matches(e)}catch{return!1}})}const OI=["transform","translate","scale","rotate","perspective"],II=["transform","translate","scale","rotate","perspective","filter"],PI=["paint","layout","strict","content"];function yy(r){const e=vy(),t=Vn(r)?_r(r):r;return OI.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||II.some(n=>(t.willChange||"").includes(n))||PI.some(n=>(t.contain||"").includes(n))}function jI(r){let e=Bi(r);for(;ia(e)&&!il(e);){if(yy(e))return e;if(ch(e))return null;e=Bi(e)}return null}function vy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const VI=new Set(["html","body","#document"]);function il(r){return VI.has(ml(r))}function _r(r){return er(r).getComputedStyle(r)}function uh(r){return Vn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Bi(r){if(ml(r)==="html")return r;const e=r.assignedSlot||r.parentNode||gw(r)&&r.host||la(r);return gw(e)?e.host:e}function IT(r){const e=Bi(r);return il(e)?r.ownerDocument?r.ownerDocument.body:r.body:ia(e)&&pu(e)?e:IT(e)}function tu(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=IT(r),o=s===((n=r.ownerDocument)==null?void 0:n.body),u=er(s);if(o){const f=fg(u);return e.concat(u,u.visualViewport||[],pu(s)?s:[],f&&t?tu(f):[])}return e.concat(s,tu(s,[],t))}function fg(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const sl=Math.min,Os=Math.max,Pf=Math.round,Gd=Math.floor,ra=r=>({x:r,y:r}),LI={left:"right",right:"left",bottom:"top",top:"bottom"},UI={start:"end",end:"start"};function BI(r,e,t){return Os(r,sl(e,t))}function dh(r,e){return typeof r=="function"?r(e):r}function ol(r){return r.split("-")[0]}function mu(r){return r.split("-")[1]}function FI(r){return r==="x"?"y":"x"}function _y(r){return r==="y"?"height":"width"}const zI=new Set(["top","bottom"]);function Ds(r){return zI.has(ol(r))?"y":"x"}function by(r){return FI(Ds(r))}function YI(r,e,t){t===void 0&&(t=!1);const n=mu(r),s=by(r),o=_y(s);let u=s==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(u=jf(u)),[u,jf(u)]}function HI(r){const e=jf(r);return[hg(r),e,hg(e)]}function hg(r){return r.replace(/start|end/g,e=>UI[e])}const yw=["left","right"],vw=["right","left"],qI=["top","bottom"],QI=["bottom","top"];function GI(r,e,t){switch(r){case"top":case"bottom":return t?e?vw:yw:e?yw:vw;case"left":case"right":return e?qI:QI;default:return[]}}function KI(r,e,t,n){const s=mu(r);let o=GI(ol(r),t==="start",n);return s&&(o=o.map(u=>u+"-"+s),e&&(o=o.concat(o.map(hg)))),o}function jf(r){return r.replace(/left|right|bottom|top/g,e=>LI[e])}function WI(r){return{top:0,right:0,bottom:0,left:0,...r}}function PT(r){return typeof r!="number"?WI(r):{top:r,right:r,bottom:r,left:r}}function Vf(r){const{x:e,y:t,width:n,height:s}=r;return{width:n,height:s,top:t,left:e,right:e+n,bottom:t+s,x:e,y:t}}var $I=typeof document<"u",XI=function(){},Lf=$I?V.useLayoutEffect:XI;const ZI={...Kw},JI=ZI.useInsertionEffect,eP=JI||(r=>r());function tP(r){const e=V.useRef(()=>{});return eP(()=>{e.current=r}),V.useCallback(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function _w(r,e,t){let{reference:n,floating:s}=r;const o=Ds(e),u=by(e),f=_y(u),p=ol(e),m=o==="y",y=n.x+n.width/2-s.width/2,b=n.y+n.height/2-s.height/2,w=n[f]/2-s[f]/2;let S;switch(p){case"top":S={x:y,y:n.y-s.height};break;case"bottom":S={x:y,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:b};break;case"left":S={x:n.x-s.width,y:b};break;default:S={x:n.x,y:n.y}}switch(mu(e)){case"start":S[u]-=w*(t&&m?-1:1);break;case"end":S[u]+=w*(t&&m?-1:1);break}return S}const nP=async(r,e,t)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:u}=t,f=o.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:r,floating:e,strategy:s}),{x:y,y:b}=_w(m,n,p),w=n,S={},D=0;for(let j=0;j<f.length;j++){const{name:N,fn:P}=f[j],{x:W,y:Z,data:te,reset:re}=await P({x:y,y:b,initialPlacement:n,placement:w,strategy:s,middlewareData:S,rects:m,platform:u,elements:{reference:r,floating:e}});y=W??y,b=Z??b,S={...S,[N]:{...S[N],...te}},re&&D<=50&&(D++,typeof re=="object"&&(re.placement&&(w=re.placement),re.rects&&(m=re.rects===!0?await u.getElementRects({reference:r,floating:e,strategy:s}):re.rects),{x:y,y:b}=_w(m,w,p)),j=-1)}return{x:y,y:b,placement:w,strategy:s,middlewareData:S}};async function rP(r,e){var t;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:u,elements:f,strategy:p}=r,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:b="floating",altBoundary:w=!1,padding:S=0}=dh(e,r),D=PT(S),N=f[w?b==="floating"?"reference":"floating":b],P=Vf(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(N)))==null||t?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(f.floating)),boundary:m,rootBoundary:y,strategy:p})),W=b==="floating"?{x:n,y:s,width:u.floating.width,height:u.floating.height}:u.reference,Z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f.floating)),te=await(o.isElement==null?void 0:o.isElement(Z))?await(o.getScale==null?void 0:o.getScale(Z))||{x:1,y:1}:{x:1,y:1},re=Vf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:W,offsetParent:Z,strategy:p}):W);return{top:(P.top-re.top+D.top)/te.y,bottom:(re.bottom-P.bottom+D.bottom)/te.y,left:(P.left-re.left+D.left)/te.x,right:(re.right-P.right+D.right)/te.x}}const aP=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:s,rects:o,platform:u,elements:f,middlewareData:p}=e,{element:m,padding:y=0}=dh(r,e)||{};if(m==null)return{};const b=PT(y),w={x:t,y:n},S=by(s),D=_y(S),j=await u.getDimensions(m),N=S==="y",P=N?"top":"left",W=N?"bottom":"right",Z=N?"clientHeight":"clientWidth",te=o.reference[D]+o.reference[S]-w[S]-o.floating[D],re=w[S]-o.reference[S],he=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let O=he?he[Z]:0;(!O||!await(u.isElement==null?void 0:u.isElement(he)))&&(O=f.floating[Z]||o.floating[D]);const R=te/2-re/2,k=O/2-j[D]/2-1,C=sl(b[P],k),U=sl(b[W],k),B=C,M=O-j[D]-U,Ae=O/2-j[D]/2+R,ve=BI(B,Ae,M),Y=!p.arrow&&mu(s)!=null&&Ae!==ve&&o.reference[D]/2-(Ae<B?C:U)-j[D]/2<0,Q=Y?Ae<B?Ae-B:Ae-M:0;return{[S]:w[S]+Q,data:{[S]:ve,centerOffset:Ae-ve-Q,...Y&&{alignmentOffset:Q}},reset:Y}}}),iP=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:s,middlewareData:o,rects:u,initialPlacement:f,platform:p,elements:m}=e,{mainAxis:y=!0,crossAxis:b=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:j=!0,...N}=dh(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const P=ol(s),W=Ds(f),Z=ol(f)===f,te=await(p.isRTL==null?void 0:p.isRTL(m.floating)),re=w||(Z||!j?[jf(f)]:HI(f)),he=D!=="none";!w&&he&&re.push(...KI(f,j,D,te));const O=[f,...re],R=await rP(e,N),k=[];let C=((n=o.flip)==null?void 0:n.overflows)||[];if(y&&k.push(R[P]),b){const Ae=YI(s,u,te);k.push(R[Ae[0]],R[Ae[1]])}if(C=[...C,{placement:s,overflows:k}],!k.every(Ae=>Ae<=0)){var U,B;const Ae=(((U=o.flip)==null?void 0:U.index)||0)+1,ve=O[Ae];if(ve&&(!(b==="alignment"?W!==Ds(ve):!1)||C.every(ce=>ce.overflows[0]>0&&Ds(ce.placement)===W)))return{data:{index:Ae,overflows:C},reset:{placement:ve}};let Y=(B=C.filter(Q=>Q.overflows[0]<=0).sort((Q,ce)=>Q.overflows[1]-ce.overflows[1])[0])==null?void 0:B.placement;if(!Y)switch(S){case"bestFit":{var M;const Q=(M=C.filter(ce=>{if(he){const ne=Ds(ce.placement);return ne===W||ne==="y"}return!0}).map(ce=>[ce.placement,ce.overflows.filter(ne=>ne>0).reduce((ne,I)=>ne+I,0)]).sort((ce,ne)=>ce[1]-ne[1])[0])==null?void 0:M[0];Q&&(Y=Q);break}case"initialPlacement":Y=f;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}},sP=new Set(["left","top"]);async function oP(r,e){const{placement:t,platform:n,elements:s}=r,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),u=ol(t),f=mu(t),p=Ds(t)==="y",m=sP.has(u)?-1:1,y=o&&p?-1:1,b=dh(e,r);let{mainAxis:w,crossAxis:S,alignmentAxis:D}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof D=="number"&&(S=f==="end"?D*-1:D),p?{x:S*y,y:w*m}:{x:w*m,y:S*y}}const lP=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:s,y:o,placement:u,middlewareData:f}=e,p=await oP(e,r);return u===((t=f.offset)==null?void 0:t.placement)&&(n=f.arrow)!=null&&n.alignmentOffset?{}:{x:s+p.x,y:o+p.y,data:{...p,placement:u}}}}};function jT(r){const e=_r(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=ia(r),o=s?r.offsetWidth:t,u=s?r.offsetHeight:n,f=Pf(t)!==o||Pf(n)!==u;return f&&(t=o,n=u),{width:t,height:n,$:f}}function wy(r){return Vn(r)?r:r.contextElement}function Go(r){const e=wy(r);if(!ia(e))return ra(1);const t=e.getBoundingClientRect(),{width:n,height:s,$:o}=jT(e);let u=(o?Pf(t.width):t.width)/n,f=(o?Pf(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const cP=ra(0);function VT(r){const e=er(r);return!vy()||!e.visualViewport?cP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uP(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==er(r)?!1:e}function zs(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=r.getBoundingClientRect(),o=wy(r);let u=ra(1);e&&(n?Vn(n)&&(u=Go(n)):u=Go(r));const f=uP(o,t,n)?VT(o):ra(0);let p=(s.left+f.x)/u.x,m=(s.top+f.y)/u.y,y=s.width/u.x,b=s.height/u.y;if(o){const w=er(o),S=n&&Vn(n)?er(n):n;let D=w,j=fg(D);for(;j&&n&&S!==D;){const N=Go(j),P=j.getBoundingClientRect(),W=_r(j),Z=P.left+(j.clientLeft+parseFloat(W.paddingLeft))*N.x,te=P.top+(j.clientTop+parseFloat(W.paddingTop))*N.y;p*=N.x,m*=N.y,y*=N.x,b*=N.y,p+=Z,m+=te,D=er(j),j=fg(D)}}return Vf({width:y,height:b,x:p,y:m})}function Ey(r,e){const t=uh(r).scrollLeft;return e?e.left+t:zs(la(r)).left+t}function LT(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),s=n.left+e.scrollLeft-(t?0:Ey(r,n)),o=n.top+e.scrollTop;return{x:s,y:o}}function dP(r){let{elements:e,rect:t,offsetParent:n,strategy:s}=r;const o=s==="fixed",u=la(n),f=e?ch(e.floating):!1;if(n===u||f&&o)return t;let p={scrollLeft:0,scrollTop:0},m=ra(1);const y=ra(0),b=ia(n);if((b||!b&&!o)&&((ml(n)!=="body"||pu(u))&&(p=uh(n)),ia(n))){const S=zs(n);m=Go(n),y.x=S.x+n.clientLeft,y.y=S.y+n.clientTop}const w=u&&!b&&!o?LT(u,p,!0):ra(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-p.scrollLeft*m.x+y.x+w.x,y:t.y*m.y-p.scrollTop*m.y+y.y+w.y}}function fP(r){return Array.from(r.getClientRects())}function hP(r){const e=la(r),t=uh(r),n=r.ownerDocument.body,s=Os(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Os(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let u=-t.scrollLeft+Ey(r);const f=-t.scrollTop;return _r(n).direction==="rtl"&&(u+=Os(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:u,y:f}}function pP(r,e){const t=er(r),n=la(r),s=t.visualViewport;let o=n.clientWidth,u=n.clientHeight,f=0,p=0;if(s){o=s.width,u=s.height;const m=vy();(!m||m&&e==="fixed")&&(f=s.offsetLeft,p=s.offsetTop)}return{width:o,height:u,x:f,y:p}}const mP=new Set(["absolute","fixed"]);function gP(r,e){const t=zs(r,!0,e==="fixed"),n=t.top+r.clientTop,s=t.left+r.clientLeft,o=ia(r)?Go(r):ra(1),u=r.clientWidth*o.x,f=r.clientHeight*o.y,p=s*o.x,m=n*o.y;return{width:u,height:f,x:p,y:m}}function bw(r,e,t){let n;if(e==="viewport")n=pP(r,t);else if(e==="document")n=hP(la(r));else if(Vn(e))n=gP(e,t);else{const s=VT(r);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Vf(n)}function UT(r,e){const t=Bi(r);return t===e||!Vn(t)||il(t)?!1:_r(t).position==="fixed"||UT(t,e)}function yP(r,e){const t=e.get(r);if(t)return t;let n=tu(r,[],!1).filter(f=>Vn(f)&&ml(f)!=="body"),s=null;const o=_r(r).position==="fixed";let u=o?Bi(r):r;for(;Vn(u)&&!il(u);){const f=_r(u),p=yy(u);!p&&f.position==="fixed"&&(s=null),(o?!p&&!s:!p&&f.position==="static"&&!!s&&mP.has(s.position)||pu(u)&&!p&&UT(r,u))?n=n.filter(y=>y!==u):s=f,u=Bi(u)}return e.set(r,n),n}function vP(r){let{element:e,boundary:t,rootBoundary:n,strategy:s}=r;const u=[...t==="clippingAncestors"?ch(e)?[]:yP(e,this._c):[].concat(t),n],f=u[0],p=u.reduce((m,y)=>{const b=bw(e,y,s);return m.top=Os(b.top,m.top),m.right=sl(b.right,m.right),m.bottom=sl(b.bottom,m.bottom),m.left=Os(b.left,m.left),m},bw(e,f,s));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function _P(r){const{width:e,height:t}=jT(r);return{width:e,height:t}}function bP(r,e,t){const n=ia(e),s=la(e),o=t==="fixed",u=zs(r,!0,o,e);let f={scrollLeft:0,scrollTop:0};const p=ra(0);function m(){p.x=Ey(s)}if(n||!n&&!o)if((ml(e)!=="body"||pu(s))&&(f=uh(e)),n){const S=zs(e,!0,o,e);p.x=S.x+e.clientLeft,p.y=S.y+e.clientTop}else s&&m();o&&!n&&s&&m();const y=s&&!n&&!o?LT(s,f):ra(0),b=u.left+f.scrollLeft-p.x-y.x,w=u.top+f.scrollTop-p.y-y.y;return{x:b,y:w,width:u.width,height:u.height}}function km(r){return _r(r).position==="static"}function ww(r,e){if(!ia(r)||_r(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return la(r)===t&&(t=t.ownerDocument.body),t}function BT(r,e){const t=er(r);if(ch(r))return t;if(!ia(r)){let s=Bi(r);for(;s&&!il(s);){if(Vn(s)&&!km(s))return s;s=Bi(s)}return t}let n=ww(r,e);for(;n&&kI(n)&&km(n);)n=ww(n,e);return n&&il(n)&&km(n)&&!yy(n)?t:n||jI(r)||t}const wP=async function(r){const e=this.getOffsetParent||BT,t=this.getDimensions,n=await t(r.floating);return{reference:bP(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function EP(r){return _r(r).direction==="rtl"}const xP={convertOffsetParentRelativeRectToViewportRelativeRect:dP,getDocumentElement:la,getClippingRect:vP,getOffsetParent:BT,getElementRects:wP,getClientRects:fP,getDimensions:_P,getScale:Go,isElement:Vn,isRTL:EP};function FT(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function TP(r,e){let t=null,n;const s=la(r);function o(){var f;clearTimeout(n),(f=t)==null||f.disconnect(),t=null}function u(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),o();const m=r.getBoundingClientRect(),{left:y,top:b,width:w,height:S}=m;if(f||e(),!w||!S)return;const D=Gd(b),j=Gd(s.clientWidth-(y+w)),N=Gd(s.clientHeight-(b+S)),P=Gd(y),Z={rootMargin:-D+"px "+-j+"px "+-N+"px "+-P+"px",threshold:Os(0,sl(1,p))||1};let te=!0;function re(he){const O=he[0].intersectionRatio;if(O!==p){if(!te)return u();O?u(!1,O):n=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!FT(m,r.getBoundingClientRect())&&u(),te=!1}try{t=new IntersectionObserver(re,{...Z,root:s.ownerDocument})}catch{t=new IntersectionObserver(re,Z)}t.observe(r)}return u(!0),o}function SP(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,m=wy(r),y=s||o?[...m?tu(m):[],...tu(e)]:[];y.forEach(P=>{s&&P.addEventListener("scroll",t,{passive:!0}),o&&P.addEventListener("resize",t)});const b=m&&f?TP(m,t):null;let w=-1,S=null;u&&(S=new ResizeObserver(P=>{let[W]=P;W&&W.target===m&&S&&(S.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var Z;(Z=S)==null||Z.observe(e)})),t()}),m&&!p&&S.observe(m),S.observe(e));let D,j=p?zs(r):null;p&&N();function N(){const P=zs(r);j&&!FT(j,P)&&t(),j=P,D=requestAnimationFrame(N)}return t(),()=>{var P;y.forEach(W=>{s&&W.removeEventListener("scroll",t),o&&W.removeEventListener("resize",t)}),b?.(),(P=S)==null||P.disconnect(),S=null,p&&cancelAnimationFrame(D)}}const DP=lP,AP=iP,Ew=aP,RP=(r,e,t)=>{const n=new Map,s={platform:xP,...t},o={...s.platform,_c:n};return nP(r,e,{...s,platform:o})};var CP=typeof document<"u",NP=function(){},df=CP?V.useLayoutEffect:NP;function Uf(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,s;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Uf(r[n],e[n]))return!1;return!0}if(s=Object.keys(r),t=s.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=t;n--!==0;){const o=s[n];if(!(o==="_owner"&&r.$$typeof)&&!Uf(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function zT(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function xw(r,e){const t=zT(r);return Math.round(e*t)/t}function Mm(r){const e=V.useRef(r);return df(()=>{e.current=r}),e}function kP(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:u}={},transform:f=!0,whileElementsMounted:p,open:m}=r,[y,b]=V.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,S]=V.useState(n);Uf(w,n)||S(n);const[D,j]=V.useState(null),[N,P]=V.useState(null),W=V.useCallback(ce=>{ce!==he.current&&(he.current=ce,j(ce))},[]),Z=V.useCallback(ce=>{ce!==O.current&&(O.current=ce,P(ce))},[]),te=o||D,re=u||N,he=V.useRef(null),O=V.useRef(null),R=V.useRef(y),k=p!=null,C=Mm(p),U=Mm(s),B=Mm(m),M=V.useCallback(()=>{if(!he.current||!O.current)return;const ce={placement:e,strategy:t,middleware:w};U.current&&(ce.platform=U.current),RP(he.current,O.current,ce).then(ne=>{const I={...ne,isPositioned:B.current!==!1};Ae.current&&!Uf(R.current,I)&&(R.current=I,hE.flushSync(()=>{b(I)}))})},[w,e,t,U,B]);df(()=>{m===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,b(ce=>({...ce,isPositioned:!1})))},[m]);const Ae=V.useRef(!1);df(()=>(Ae.current=!0,()=>{Ae.current=!1}),[]),df(()=>{if(te&&(he.current=te),re&&(O.current=re),te&&re){if(C.current)return C.current(te,re,M);M()}},[te,re,M,C,k]);const ve=V.useMemo(()=>({reference:he,floating:O,setReference:W,setFloating:Z}),[W,Z]),Y=V.useMemo(()=>({reference:te,floating:re}),[te,re]),Q=V.useMemo(()=>{const ce={position:t,left:0,top:0};if(!Y.floating)return ce;const ne=xw(Y.floating,y.x),I=xw(Y.floating,y.y);return f?{...ce,transform:"translate("+ne+"px, "+I+"px)",...zT(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:I}},[t,f,Y.floating,y.x,y.y]);return V.useMemo(()=>({...y,update:M,refs:ve,elements:Y,floatingStyles:Q}),[y,M,ve,Y,Q])}const MP=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:s}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?Ew({element:n.current,padding:s}).fn(t):{}:n?Ew({element:n,padding:s}).fn(t):{}}}},OP=(r,e)=>({...DP(r),options:[r,e]}),IP=(r,e)=>({...AP(r),options:[r,e]}),PP=(r,e)=>({...MP(r),options:[r,e]}),jP={...Kw};let Tw=!1,VP=0;const Sw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+VP++;function LP(){const[r,e]=V.useState(()=>Tw?Sw():void 0);return Lf(()=>{r==null&&e(Sw())},[]),V.useEffect(()=>{Tw=!0},[]),r}const UP=jP.useId,YT=UP||LP,BP=V.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:o,shift:u}},width:f=14,height:p=7,tipRadius:m=0,strokeWidth:y=0,staticOffset:b,stroke:w,d:S,style:{transform:D,...j}={},...N}=e,P=YT(),[W,Z]=V.useState(!1);if(Lf(()=>{if(!s)return;_r(s).direction==="rtl"&&Z(!0)},[s]),!s)return null;const[te,re]=n.split("-"),he=te==="top"||te==="bottom";let O=b;(he&&u!=null&&u.x||!he&&u!=null&&u.y)&&(O=null);const R=y*2,k=R/2,C=f/2*(m/-8+1),U=p/2*m/4,B=!!S,M=O&&re==="end"?"bottom":"top";let Ae=O&&re==="end"?"right":"left";O&&W&&(Ae=re==="end"?"left":"right");const ve=o?.x!=null?O||o.x:"",Y=o?.y!=null?O||o.y:"",Q=S||"M0,0"+(" H"+f)+(" L"+(f-C)+","+(p-U))+(" Q"+f/2+","+p+" "+C+","+(p-U))+" Z",ce={top:B?"rotate(180deg)":"",left:B?"rotate(90deg)":"rotate(-90deg)",bottom:B?"":"rotate(180deg)",right:B?"rotate(-90deg)":"rotate(90deg)"}[te];return v.jsxs("svg",{...N,"aria-hidden":!0,ref:t,width:B?f:f+R,height:f,viewBox:"0 0 "+f+" "+(p>f?p:f),style:{position:"absolute",pointerEvents:"none",[Ae]:ve,[M]:Y,[te]:he||B?"100%":"calc(100% - "+R/2+"px)",transform:[ce,D].filter(ne=>!!ne).join(" "),...j},children:[R>0&&v.jsx("path",{clipPath:"url(#"+P+")",fill:"none",stroke:w,strokeWidth:R+(S?0:1),d:Q}),v.jsx("path",{stroke:R&&!S?N.fill:"none",d:Q}),v.jsx("clipPath",{id:P,children:v.jsx("rect",{x:-k,y:k*(B?-1:1),width:f+R,height:f})})]})});function FP(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(s=>s(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const zP=V.createContext(null),YP=V.createContext(null),HP=()=>{var r;return((r=V.useContext(zP))==null?void 0:r.id)||null},qP=()=>V.useContext(YP);function QP(r){const{open:e=!1,onOpenChange:t,elements:n}=r,s=YT(),o=V.useRef({}),[u]=V.useState(()=>FP()),f=HP()!=null,[p,m]=V.useState(n.reference),y=tP((S,D,j)=>{o.current.openEvent=S?D:void 0,u.emit("openchange",{open:S,event:D,reason:j,nested:f}),t?.(S,D,j)}),b=V.useMemo(()=>({setPositionReference:m}),[]),w=V.useMemo(()=>({reference:p||n.reference||null,floating:n.floating||null,domReference:n.reference}),[p,n.reference,n.floating]);return V.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:w,events:u,floatingId:s,refs:b}),[e,y,w,u,s,b])}function GP(r){r===void 0&&(r={});const{nodeId:e}=r,t=QP({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,s=n.elements,[o,u]=V.useState(null),[f,p]=V.useState(null),y=s?.domReference||o,b=V.useRef(null),w=qP();Lf(()=>{y&&(b.current=y)},[y]);const S=kP({...r,elements:{...s,...f&&{reference:f}}}),D=V.useCallback(Z=>{const te=Vn(Z)?{getBoundingClientRect:()=>Z.getBoundingClientRect(),getClientRects:()=>Z.getClientRects(),contextElement:Z}:Z;p(te),S.refs.setReference(te)},[S.refs]),j=V.useCallback(Z=>{(Vn(Z)||Z===null)&&(b.current=Z,u(Z)),(Vn(S.refs.reference.current)||S.refs.reference.current===null||Z!==null&&!Vn(Z))&&S.refs.setReference(Z)},[S.refs]),N=V.useMemo(()=>({...S.refs,setReference:j,setPositionReference:D,domReference:b}),[S.refs,j,D]),P=V.useMemo(()=>({...S.elements,domReference:y}),[S.elements,y]),W=V.useMemo(()=>({...S,...n,refs:N,elements:P,nodeId:e}),[S,N,P,e,n]);return Lf(()=>{n.dataRef.current.floatingContext=W;const Z=w?.nodesRef.current.find(te=>te.id===e);Z&&(Z.context=W)}),V.useMemo(()=>({...S,context:W,refs:N,elements:P}),[S,N,P,W])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var pg=function(e,t){return pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},pg(e,t)};function ln(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pg(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var $e=function(){return $e=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},$e.apply(this,arguments)};function ta(r,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var KP=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,s=n===void 0?!1:n,o=r.className,u=r.children,f=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return ie.createElement("div",{className:o,role:"dialog","aria-label":f,"aria-modal":"true"},u)},WP=function(r,e){var t=V.useRef(null),n=V.useRef(r);n.current=r;var s=V.useCallback(function(o){var u,f=o.composed&&o.composedPath&&o.composedPath().find(function(p){return p instanceof Node})||o.target;t.current&&!t.current.contains(f)&&(e&&f instanceof HTMLElement&&f.classList.contains(e)||(u=n.current)===null||u===void 0||u.call(n,o))},[e]);return V.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},fh=function(r){var e=r.children,t=r.onClickOutside,n=r.className,s=r.containerRef,o=r.style,u=r.ignoreClass,f=WP(t,u);return ie.createElement("div",{className:n,style:o,ref:function(p){f.current=p,s&&(s.current=p)}},e)},ge;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(ge||(ge={}));function HT(){var r=typeof window<"u"?window:globalThis;return r}var gu=12;function ot(r){if(r==null)return new Date;var e=typeof r=="string"?hI(r):Ee(r);return hh(e)?e:new Date}function Om(r,e,t,n,s){s===void 0&&(s=ot());for(var o=ll(t)||ll(xy()),u=Array.isArray(e)?e:[e],f=0,p=u;f<p.length;f++){var m=p[f],y=oI(r,m,s,{locale:o});if(hh(y)&&(!n||r===Tt(y,m,t)))return y}return null}function hh(r,e){return Nf(r)&&!Fs(r,new Date("1/1/1800"))}function Tt(r,e,t){if(t==="en")return hw(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?ll(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||ll(xy()),hw(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function mr(r,e){var t=e.dateFormat,n=e.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return r&&Tt(r,s,n)||""}var qT=" - ";function $P(r,e,t){if(!r)return"";var n=mr(r,t),s=e?mr(e,t):"";return"".concat(n).concat(qT).concat(s)}function XP(r,e){if(!r?.length)return"";var t=r[0]?mr(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=mr(r[1],e);return"".concat(t,", ").concat(n)}var s=r.length-1;return"".concat(t," (+").concat(s,")")}function Im(r,e){var t=e.hour,n=t===void 0?0:t,s=e.minute,o=s===void 0?0:s,u=e.second,f=u===void 0?0:u;return lf(cf(uf(r,f),o),n)}function ZP(r){return hy(r)}function JP(r,e){return Tt(r,"ddd",e)}function ff(r){return Bs(r)}function Ii(r,e,t){var n=ll(e||xy());return Ga(r,{locale:n,weekStartsOn:t})}function za(r){return ET(r)}function jc(r){return oh(r)}function Dw(r){return cg(r)}function Aw(){return Bs(ot())}function Rw(r){return bT(r)}function e4(r){return hM(r)}function t4(r){return wT(r)}function Xr(r,e){return r&&e?dI(r,e):!r&&!e}function Pn(r,e){return r&&e?cI(r,e):!r&&!e}function Bf(r,e){return r&&e?uI(r,e):!r&&!e}function Ke(r,e){return r&&e?dM(r,e):!r&&!e}function As(r,e){return r&&e?fO(r,e):!r&&!e}function Vc(r,e,t){var n,s=Bs(e),o=bT(t);try{n=eu(r,{start:s,end:o})}catch{n=!1}return n}function xy(){var r=HT();return r.__localeId__}function ll(r){if(typeof r=="string"){var e=HT();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function n4(r,e,t){return e(Tt(r,"EEEE",t))}function r4(r,e){return Tt(r,"EEEEEE",e)}function a4(r,e){return Tt(r,"EEE",e)}function Ty(r,e){return Tt(gr(ot(),r),"LLLL",e)}function QT(r,e){return Tt(gr(ot(),r),"LLL",e)}function i4(r,e){return Tt(qo(ot(),r),"QQQ",e)}function yr(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,u=t.excludeDateIntervals,f=t.includeDates,p=t.includeDateIntervals,m=t.filterDate;return yu(r,{minDate:n,maxDate:s})||o&&o.some(function(y){return y instanceof Date?Ke(r,y):Ke(r,y.date)})||u&&u.some(function(y){var b=y.start,w=y.end;return eu(r,{start:b,end:w})})||f&&!f.some(function(y){return Ke(r,y)})||p&&!p.some(function(y){var b=y.start,w=y.end;return eu(r,{start:b,end:w})})||m&&!m(ot(r))||!1}function Sy(r,e){var t=e===void 0?{}:e,n=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(o){var u=o.start,f=o.end;return eu(r,{start:u,end:f})}):n&&n.some(function(o){var u;return o instanceof Date?Ke(r,o):Ke(r,(u=o.date)!==null&&u!==void 0?u:new Date)})||!1}function GT(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,u=t.includeDates,f=t.filterDate;return yu(r,{minDate:n?ET(n):void 0,maxDate:s?wT(s):void 0})||o?.some(function(p){return Pn(r,p instanceof Date?p:p.date)})||u&&!u.some(function(p){return Pn(r,p)})||f&&!f(ot(r))||!1}function Kd(r,e,t,n){var s=Ve(r),o=An(r),u=Ve(e),f=An(e),p=Ve(n);return s===u&&s===p?o<=t&&t<=f:s<u?p===s&&o<=t||p===u&&f>=t||p<u&&p>s:!1}function s4(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,u=t.includeDates;return yu(r,{minDate:n,maxDate:s})||o&&o.some(function(f){return Pn(f instanceof Date?f:f.date,r)})||u&&!u.some(function(f){return Pn(f,r)})||!1}function Wd(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,u=t.includeDates,f=t.filterDate;return yu(r,{minDate:n,maxDate:s})||o?.some(function(p){return Bf(r,p instanceof Date?p:p.date)})||u&&!u.some(function(p){return Bf(r,p)})||f&&!f(ot(r))||!1}function $d(r,e,t){if(!e||!t||!Nf(e)||!Nf(t))return!1;var n=Ve(e),s=Ve(t);return n<=r&&s>=r}function hf(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,u=t.includeDates,f=t.filterDate,p=new Date(r,0,1);return yu(p,{minDate:n?oh(n):void 0,maxDate:s?xT(s):void 0})||o?.some(function(m){return Xr(p,m instanceof Date?m:m.date)})||u&&!u.some(function(m){return Xr(p,m)})||f&&!f(ot(p))||!1}function Xd(r,e,t,n){var s=Ve(r),o=ks(r),u=Ve(e),f=ks(e),p=Ve(n);return s===u&&s===p?o<=t&&t<=f:s<u?p===s&&o<=t||p===u&&f>=t||p<u&&p>s:!1}function yu(r,e){var t,n=e===void 0?{}:e,s=n.minDate,o=n.maxDate;return(t=s&&rl(r,s)<0||o&&rl(r,o)>0)!==null&&t!==void 0?t:!1}function Cw(r,e){return e.some(function(t){return Ba(t)===Ba(r)&&Fa(t)===Fa(r)&&Oi(t)===Oi(r)})}function Nw(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,s=t.includeTimes,o=t.filterTime;return n&&Cw(r,n)||s&&!Cw(r,s)||o&&!o(r)||!1}function kw(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var s=ot();s=lf(s,Ba(r)),s=cf(s,Fa(r)),s=uf(s,Oi(r));var o=ot();o=lf(o,Ba(t)),o=cf(o,Fa(t)),o=uf(o,Oi(t));var u=ot();u=lf(u,Ba(n)),u=cf(u,Fa(n)),u=uf(u,Oi(n));var f;try{f=!eu(s,{start:o,end:u})}catch{f=!1}return f}function Mw(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=Ms(r,1);return n&&kf(n,o)>0||s&&s.every(function(u){return kf(u,o)>0})||!1}function Ow(r,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=kr(r,1);return n&&kf(o,n)>0||s&&s.every(function(u){return kf(o,u)>0})||!1}function o4(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=oh(r),u=MT(o);return n&&Mf(n,u)>0||s&&s.every(function(f){return Mf(f,u)>0})||!1}function l4(r,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=xT(r),u=fy(o,1);return n&&Mf(u,n)>0||s&&s.every(function(f){return Mf(u,f)>0})||!1}function Iw(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=al(r,1);return n&&Of(n,o)>0||s&&s.every(function(u){return Of(u,o)>0})||!1}function c4(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.yearItemNumber,o=s===void 0?gu:s,u=jc(al(r,o)),f=Ri(u,o).endPeriod,p=n&&Ve(n);return p&&p>f||!1}function Pw(r,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=La(r,1);return n&&Of(o,n)>0||s&&s.every(function(u){return Of(o,u)>0})||!1}function u4(r,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.yearItemNumber,o=s===void 0?gu:s,u=La(r,o),f=Ri(u,o).startPeriod,p=n&&Ve(n);return p&&p<f||!1}function KT(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(s){return rl(s,e)>=0});return ow(n)}else return t?ow(t):e}function WT(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(s){return rl(s,e)<=0});return sw(n)}else return t?sw(t):e}function jw(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,s=0,o=r.length;s<o;s++){var u=r[s];if(Ua(u)){var f=Tt(u,"MM.dd.yyyy"),p=n.get(f)||[];p.includes(e)||(p.push(e),n.set(f,p))}else if(typeof u=="object"){var m=Object.keys(u),y=(t=m[0])!==null&&t!==void 0?t:"",b=u[y];if(typeof y=="string"&&Array.isArray(b))for(var w=0,S=b.length;w<S;w++){var D=b[w];if(D){var f=Tt(D,"MM.dd.yyyy"),p=n.get(f)||[];p.includes(y)||(p.push(y),n.set(f,p))}}}}return n}function d4(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function f4(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var s=n.date,o=n.holidayName;if(Ua(s)){var u=Tt(s,"MM.dd.yyyy"),f=t.get(u)||{className:"",holidayNames:[]};if(!("className"in f&&f.className===e&&d4(f.holidayNames,[o]))){f.className=e;var p=f.holidayNames;f.holidayNames=p?ta(ta([],p,!0),[o],!1):[o],t.set(u,f)}}}),t}function h4(r,e,t,n,s){for(var o=s.length,u=[],f=0;f<o;f++){var p=r,m=s[f];m&&(p=oM(p,Ba(m)),p=lg(p,Fa(m)),p=uM(p,Oi(m)));var y=lg(r,(t+1)*n);Ui(p,e)&&Fs(p,y)&&m!=null&&u.push(m)}return u}function Vw(r){return r<10?"0".concat(r):"".concat(r)}function Ri(r,e){e===void 0&&(e=gu);var t=Math.ceil(Ve(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function p4(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function Lw(r){var e=r.getSeconds(),t=r.getMilliseconds();return Ee(r.getTime()-e*1e3-t)}function m4(r,e){return Lw(r).getTime()===Lw(e).getTime()}function Uw(r){if(!Ua(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function Bw(r,e){if(!Ua(r)||!Ua(e))throw new Error("Invalid date received");var t=Uw(r),n=Uw(e);return Fs(t,n)}function $T(r){return r.key===ge.Space}var g4=function(r){ln(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=ie.createRef(),n.onTimeChange=function(s){var o,u;n.setState({time:s});var f=n.props.date,p=f instanceof Date&&!isNaN(+f),m=p?f:new Date;if(s?.includes(":")){var y=s.split(":"),b=y[0],w=y[1];m.setHours(Number(b)),m.setMinutes(Number(w))}(u=(o=n.props).onChange)===null||u===void 0||u.call(o,m)},n.renderTimeInput=function(){var s=n.state.time,o=n.props,u=o.date,f=o.timeString,p=o.customTimeInput;return p?V.cloneElement(p,{date:u,value:s,onChange:n.onTimeChange}):ie.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:s,onChange:function(m){n.onTimeChange(m.target.value||f)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ie.createElement("div",{className:"react-datepicker__input-time-container"},ie.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ie.createElement("div",{className:"react-datepicker-time__input-container"},ie.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(V.Component),y4=function(r){ln(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=V.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var s,o,u=n.key;u===ge.Space&&(n.preventDefault(),n.key=ge.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.isSameDay=function(n){return Ke(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(u){return t.isSameDayOrWeek(u)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),yr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return Sy(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Ke(t.props.day,Ii(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Ke(n,Ii(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,s=n.day,o=n.highlightDates;if(!o)return!1;var u=Tt(s,"MM.dd.yyyy");return o.get(u)},t.getHolidaysClass=function(){var n,s=t.props,o=s.day,u=s.holidays;if(!u)return[void 0];var f=Tt(o,"MM.dd.yyyy");return u.has(f)?[(n=u.get(f))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,s=n.day,o=n.startDate,u=n.endDate;return!o||!u?!1:Vc(s,o,u)},t.isInSelectingRange=function(){var n,s=t.props,o=s.day,u=s.selectsStart,f=s.selectsEnd,p=s.selectsRange,m=s.selectsDisabledDaysInRange,y=s.startDate,b=s.endDate,w=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(u||f||p)||!w||!m&&t.isDisabled()?!1:u&&b&&(Fs(w,b)||As(w,b))?Vc(o,w,b):f&&y&&(Ui(w,y)||As(w,y))||p&&y&&!b&&(Ui(w,y)||As(w,y))?Vc(o,y,w):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,u=s.startDate,f=s.selectsStart,p=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return f?Ke(o,p):Ke(o,u)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,u=s.endDate,f=s.selectsEnd,p=s.selectsRange,m=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return f||p?Ke(o,m):Ke(o,u)},t.isRangeStart=function(){var n=t.props,s=n.day,o=n.startDate,u=n.endDate;return!o||!u?!1:Ke(o,s)},t.isRangeEnd=function(){var n=t.props,s=n.day,o=n.startDate,u=n.endDate;return!o||!u?!1:Ke(u,s)},t.isWeekend=function(){var n=lO(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===An(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(An(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(ot())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var s=t.props.dayClassName?t.props.dayClassName(n):void 0;return _n("react-datepicker__day",s,"react-datepicker__day--"+JP(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,s=n.day,o=n.ariaLabelPrefixWhenEnabled,u=o===void 0?"Choose":o,f=n.ariaLabelPrefixWhenDisabled,p=f===void 0?"Not available":f,m=t.isDisabled()||t.isExcluded()?p:u;return"".concat(m," ").concat(Tt(s,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,s=n.day,o=n.holidays,u=o===void 0?new Map:o,f=n.excludeDates,p=Tt(s,"MM.dd.yyyy"),m=[];return u.has(p)&&m.push.apply(m,u.get(p).holidayNames),t.isExcluded()&&m.push(f?.filter(function(y){return y instanceof Date?Ke(y,s):Ke(y?.date,s)}).map(function(y){if(!(y instanceof Date))return y?.message})),m.join(", ")},t.getTabIndex=function(){var n=t.props.selected,s=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Ke(s,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(pw(t.props.day),t.props.day):pw(t.props.day)},t.render=function(){return ie.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ie.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,s;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(V.Component),v4=function(r){ln(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=V.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var s,o,u=n.key;u===ge.Space&&(n.preventDefault(),n.key=ge.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ke(t.props.date,t.props.selected)&&Ke(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Ke(t.props.date,t.props.selected)&&Ke(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var s=!1;t.getTabIndex()===0&&!n?.isInputFocused&&Ke(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,s=t.isWeekDisabled,o=t.ariaLabelPrefix,u=o===void 0?e.defaultProps.ariaLabelPrefix:o,f=t.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!f&&!s,"react-datepicker__week-number--selected":!!f&&Ke(this.props.date,this.props.selected)};return ie.createElement("div",{ref:this.weekNumberEl,className:_n(p),"aria-label":"".concat(u," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(V.Component),_4=function(r){ln(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return yr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,s){t.props.onDayClick&&t.props.onDayClick(n,s)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,s,o){for(var u,f,p,m=new Date(n),y=0;y<7;y++){var b=new Date(n);b.setDate(b.getDate()+y);var w=!t.isDisabled(b);if(w){m=b;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(m,s,o),t.props.showWeekPicker&&t.handleDayClick(m,o),((u=t.props.shouldCloseOnSelect)!==null&&u!==void 0?u:e.defaultProps.shouldCloseOnSelect)&&((p=(f=t.props).setOpen)===null||p===void 0||p.call(f,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):ZP(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),s=Rr(n,6),o=new Date(n);o<=s;){if(!t.isDisabled(o))return!1;o=Rr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),s=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var u=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;s.push(ie.createElement(v4,$e({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:u})))}return s.concat([0,1,2,3,4,5,6].map(function(f){var p=Rr(n,f);return ie.createElement(y4,$e({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:t.handleDayClick.bind(t,p),onMouseEnter:t.handleDayMouseEnter.bind(t,p)}))}))},t.startOfWeek=function(){return Ii(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ke(t.startOfWeek(),t.props.selected)&&Ke(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Ke(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ie.createElement("div",{className:_n(t)},this.renderDays())},e}(V.Component),kc,b4=6,Ko={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Pm=(kc={},kc[Ko.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},kc[Ko.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},kc[Ko.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},kc),Zd=1;function Fw(r,e){return r?Ko.FOUR_COLUMNS:e?Ko.TWO_COLUMNS:Ko.THREE_COLUMNS}var w4=function(r){ln(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=ta([],Array(12),!0).map(function(){return V.createRef()}),t.QUARTER_REFS=ta([],Array(4),!0).map(function(){return V.createRef()}),t.isDisabled=function(n){return yr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return Sy(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,s){var o,u;(u=(o=t.props).onDayClick)===null||u===void 0||u.call(o,n,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var s,o;(o=(s=t.props).onDayMouseEnter)===null||o===void 0||o.call(s,n)},t.handleMouseLeave=function(){var n,s;(s=(n=t.props).onMouseLeave)===null||s===void 0||s.call(n)},t.isRangeStartMonth=function(n){var s=t.props,o=s.day,u=s.startDate,f=s.endDate;return!u||!f?!1:Pn(gr(o,n),u)},t.isRangeStartQuarter=function(n){var s=t.props,o=s.day,u=s.startDate,f=s.endDate;return!u||!f?!1:Bf(qo(o,n),u)},t.isRangeEndMonth=function(n){var s=t.props,o=s.day,u=s.startDate,f=s.endDate;return!u||!f?!1:Pn(gr(o,n),f)},t.isRangeEndQuarter=function(n){var s=t.props,o=s.day,u=s.startDate,f=s.endDate;return!u||!f?!1:Bf(qo(o,n),f)},t.isInSelectingRangeMonth=function(n){var s,o=t.props,u=o.day,f=o.selectsStart,p=o.selectsEnd,m=o.selectsRange,y=o.startDate,b=o.endDate,w=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(f||p||m)||!w?!1:f&&b?Kd(w,b,n,u):p&&y||m&&y&&!b?Kd(y,w,n,u):!1},t.isSelectingMonthRangeStart=function(n){var s;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,u=o.day,f=o.startDate,p=o.selectsStart,m=gr(u,n),y=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return p?Pn(m,y):Pn(m,f)},t.isSelectingMonthRangeEnd=function(n){var s;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,u=o.day,f=o.endDate,p=o.selectsEnd,m=o.selectsRange,y=gr(u,n),b=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return p||m?Pn(y,b):Pn(y,f)},t.isInSelectingRangeQuarter=function(n){var s,o=t.props,u=o.day,f=o.selectsStart,p=o.selectsEnd,m=o.selectsRange,y=o.startDate,b=o.endDate,w=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(f||p||m)||!w?!1:f&&b?Xd(w,b,n,u):p&&y||m&&y&&!b?Xd(y,w,n,u):!1},t.isWeekInMonth=function(n){var s=t.props.day,o=Rr(n,6);return Pn(n,s)||Pn(o,s)},t.isCurrentMonth=function(n,s){return Ve(n)===Ve(ot())&&s===An(ot())},t.isCurrentQuarter=function(n,s){return Ve(n)===Ve(ot())&&s===ks(ot())},t.isSelectedMonth=function(n,s,o){return An(o)===s&&Ve(n)===Ve(o)},t.isSelectMonthInList=function(n,s,o){return o.some(function(u){return t.isSelectedMonth(n,s,u)})},t.isSelectedQuarter=function(n,s,o){return ks(n)===s&&Ve(n)===Ve(o)},t.isMonthSelected=function(){var n=t.props,s=n.day,o=n.selected,u=n.selectedDates,f=n.selectsMultiple,p=An(s);return f?u?.some(function(m){return t.isSelectedMonth(s,p,m)}):!!o&&t.isSelectedMonth(s,p,o)},t.renderWeeks=function(){for(var n=[],s=t.props.fixedHeight,o=0,u=!1,f=Ii(za(t.props.day),t.props.locale,t.props.calendarStartDay),p=function(D){return t.props.showWeekPicker?Ii(D,t.props.locale,t.props.calendarStartDay):t.props.preSelection},m=function(D){return t.props.showWeekPicker?Ii(D,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?m(t.props.selected):void 0,b=t.props.preSelection?p(t.props.preSelection):void 0;n.push(ie.createElement(_4,$e({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:f,month:An(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:b,showWeekNumber:t.props.showWeekNumbers}))),!u;){o++,f=Cf(f,1);var w=s&&o>=b4,S=!s&&!t.isWeekInMonth(f);if(w||S)if(t.props.peekNextMonth)u=!0;else break}return n},t.onMonthClick=function(n,s){var o=t.isMonthDisabledForLabelDate(s),u=o.isDisabled,f=o.labelDate;u||t.handleDayClick(za(f),n)},t.onMonthMouseEnter=function(n){var s=t.isMonthDisabledForLabelDate(n),o=s.isDisabled,u=s.labelDate;o||t.handleDayMouseEnter(za(u))},t.handleMonthNavigation=function(n,s){var o,u,f,p;(u=(o=t.props).setPreSelection)===null||u===void 0||u.call(o,s),(p=(f=t.MONTH_REFS[n])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus()},t.handleKeyboardNavigation=function(n,s,o){var u,f=t.props,p=f.selected,m=f.preSelection,y=f.setPreSelection,b=f.minDate,w=f.maxDate,S=f.showFourColumnMonthYearPicker,D=f.showTwoColumnMonthYearPicker;if(m){var j=Fw(S,D),N=t.getVerticalOffset(j),P=(u=Pm[j])===null||u===void 0?void 0:u.grid,W=function(O,R,k){var C,U,B=R,M=k;switch(O){case ge.ArrowRight:B=kr(R,Zd),M=k===11?0:k+Zd;break;case ge.ArrowLeft:B=Ms(R,Zd),M=k===0?11:k-Zd;break;case ge.ArrowUp:B=Ms(R,N),M=!((C=P?.[0])===null||C===void 0)&&C.includes(k)?k+12-N:k-N;break;case ge.ArrowDown:B=kr(R,N),M=!((U=P?.[P.length-1])===null||U===void 0)&&U.includes(k)?k-12+N:k+N;break}return{newCalculatedDate:B,newCalculatedMonth:M}},Z=function(O,R,k){for(var C=40,U=O,B=!1,M=0,Ae=W(U,R,k),ve=Ae.newCalculatedDate,Y=Ae.newCalculatedMonth;!B;){if(M>=C){ve=R,Y=k;break}if(b&&ve<b){U=ge.ArrowRight;var Q=W(U,ve,Y);ve=Q.newCalculatedDate,Y=Q.newCalculatedMonth}if(w&&ve>w){U=ge.ArrowLeft;var Q=W(U,ve,Y);ve=Q.newCalculatedDate,Y=Q.newCalculatedMonth}if(s4(ve,t.props)){var Q=W(U,ve,Y);ve=Q.newCalculatedDate,Y=Q.newCalculatedMonth}else B=!0;M++}return{newCalculatedDate:ve,newCalculatedMonth:Y}};if(s===ge.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),y?.(p));return}var te=Z(s,m,o),re=te.newCalculatedDate,he=te.newCalculatedMonth;switch(s){case ge.ArrowRight:case ge.ArrowLeft:case ge.ArrowUp:case ge.ArrowDown:t.handleMonthNavigation(he,re);break}}},t.getVerticalOffset=function(n){var s,o;return(o=(s=Pm[n])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,s){var o=t.props,u=o.disabledKeyboardNavigation,f=o.handleOnMonthKeyDown,p=n.key;p!==ge.Tab&&n.preventDefault(),u||t.handleKeyboardNavigation(n,p,s),f&&f(n)},t.onQuarterClick=function(n,s){var o=qo(t.props.day,s);Wd(o,t.props)||t.handleDayClick(Dw(o),n)},t.onQuarterMouseEnter=function(n){var s=qo(t.props.day,n);Wd(s,t.props)||t.handleDayMouseEnter(Dw(s))},t.handleQuarterNavigation=function(n,s){var o,u,f,p;t.isDisabled(s)||t.isExcluded(s)||((u=(o=t.props).setPreSelection)===null||u===void 0||u.call(o,s),(p=(f=t.QUARTER_REFS[n-1])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus())},t.onQuarterKeyDown=function(n,s){var o,u,f=n.key;if(!t.props.disabledKeyboardNavigation)switch(f){case ge.Enter:t.onQuarterClick(n,s),(u=(o=t.props).setPreSelection)===null||u===void 0||u.call(o,t.props.selected);break;case ge.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,fy(t.props.preSelection,1));break;case ge.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,MT(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var s,o=t.props,u=o.day,f=o.minDate,p=o.maxDate,m=o.excludeDates,y=o.includeDates,b=gr(u,n);return{isDisabled:(s=(f||p||m||y)&&GT(b,t.props))!==null&&s!==void 0?s:!1,labelDate:b}},t.isMonthDisabled=function(n){var s=t.isMonthDisabledForLabelDate(n).isDisabled;return s},t.getMonthClassNames=function(n){var s=t.props,o=s.day,u=s.startDate,f=s.endDate,p=s.preSelection,m=s.monthClassName,y=m?m(gr(o,n)):void 0,b=t.getSelection();return _n("react-datepicker__month-text","react-datepicker__month-".concat(n),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":b?t.isSelectMonthInList(o,n,b):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&p&&t.isSelectedMonth(o,n,p)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":u&&f?Kd(u,f,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var s=An(t.props.preSelection),o=t.isMonthDisabledForLabelDate(s).isDisabled,u=n===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return u},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var s=ks(t.props.preSelection),o=Wd(t.props.day,t.props),u=n===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return u},t.getAriaLabel=function(n){var s=t.props,o=s.chooseDayAriaLabelPrefix,u=o===void 0?"Choose":o,f=s.disabledDayAriaLabelPrefix,p=f===void 0?"Not available":f,m=s.day,y=s.locale,b=gr(m,n),w=t.isDisabled(b)||t.isExcluded(b)?p:u;return"".concat(w," ").concat(Tt(b,"MMMM yyyy",y))},t.getQuarterClassNames=function(n){var s=t.props,o=s.day,u=s.startDate,f=s.endDate,p=s.selected,m=s.minDate,y=s.maxDate,b=s.excludeDates,w=s.includeDates,S=s.filterDate,D=s.preSelection,j=s.disabledKeyboardNavigation,N=(m||y||b||w||S)&&Wd(qo(o,n),t.props);return _n("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":N,"react-datepicker__quarter-text--selected":p?t.isSelectedQuarter(o,n,p):void 0,"react-datepicker__quarter-text--keyboard-selected":!j&&D&&t.isSelectedQuarter(o,n,D)&&!N,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":u&&f?Xd(u,f,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var s=t.props,o=s.showFullMonthYearPicker,u=s.renderMonthContent,f=s.locale,p=s.day,m=QT(n,f),y=Ty(n,f);return u?u(n,m,y,p):o?y:m},t.getQuarterContent=function(n){var s,o=t.props,u=o.renderQuarterContent,f=o.locale,p=i4(n,f);return(s=u?.(n,p))!==null&&s!==void 0?s:p},t.renderMonths=function(){var n,s=t.props,o=s.showTwoColumnMonthYearPicker,u=s.showFourColumnMonthYearPicker,f=s.day,p=s.selected,m=(n=Pm[Fw(u,o)])===null||n===void 0?void 0:n.grid;return m?.map(function(y,b){return ie.createElement("div",{className:"react-datepicker__month-wrapper",key:b},y.map(function(w,S){return ie.createElement("div",{ref:t.MONTH_REFS[w],key:S,onClick:function(D){t.onMonthClick(D,w)},onKeyDown:function(D){$T(D)&&(D.preventDefault(),D.key=ge.Enter),t.onMonthKeyDown(D,w)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(w)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(w)}:void 0,tabIndex:Number(t.getTabIndex(w)),className:t.getMonthClassNames(w),"aria-disabled":t.isMonthDisabled(w),role:"option","aria-label":t.getAriaLabel(w),"aria-current":t.isCurrentMonth(f,w)?"date":void 0,"aria-selected":p?t.isSelectedMonth(f,w,p):void 0},t.getMonthContent(w))}))})},t.renderQuarters=function(){var n=t.props,s=n.day,o=n.selected,u=[1,2,3,4];return ie.createElement("div",{className:"react-datepicker__quarter-wrapper"},u.map(function(f,p){return ie.createElement("div",{key:p,ref:t.QUARTER_REFS[p],role:"option",onClick:function(m){t.onQuarterClick(m,f)},onKeyDown:function(m){t.onQuarterKeyDown(m,f)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(f)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(f)}:void 0,className:t.getQuarterClassNames(f),"aria-selected":o?t.isSelectedQuarter(s,f,o):void 0,tabIndex:Number(t.getQuarterTabIndex(f)),"aria-current":t.isCurrentQuarter(s,f)?"date":void 0},t.getQuarterContent(f))}))},t.getClassNames=function(){var n=t.props,s=n.selectingDate,o=n.selectsStart,u=n.selectsEnd,f=n.showMonthYearPicker,p=n.showQuarterYearPicker,m=n.showWeekPicker;return _n("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(o||u)},{"react-datepicker__monthPicker":f},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":m})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,s=t.selectedDates,o=t.selectsMultiple;if(o)return s;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,s=t.showQuarterYearPicker,o=t.day,u=t.ariaLabelPrefix,f=u===void 0?"Month ":u,p=f?f.trim()+" ":"";return ie.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(p).concat(Tt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},e}(V.Component),E4=function(r){ln(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,s){return ie.createElement("div",{className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?ie.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ie.createElement(fh,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(V.Component),x4=function(r){ln(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(s,o){return ie.createElement("option",{key:s,value:o},s)})},t.renderSelectMode=function(n){return ie.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,s){return ie.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ie.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ie.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(n){return ie.createElement(E4,$e({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var s=t.state.dropdownVisible,o=[t.renderReadView(!s,n)];return s&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return QT(o,t.props.locale)}:function(o){return Ty(o,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(n);break;case"select":s=this.renderSelectMode(n);break}return ie.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e}(V.Component);function T4(r,e){for(var t=[],n=za(r),s=za(e);!Ui(n,s);)t.push(ot(n)),n=kr(n,1);return t}var S4=function(r){ln(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(s){var o=dg(s),u=Xr(n.props.date,s)&&Pn(n.props.date,s);return ie.createElement("div",{className:u?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":u?"true":void 0},u?ie.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Tt(s,n.props.dateFormat,n.props.locale))})},n.onChange=function(s){return n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:T4(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=_n({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ie.createElement(fh,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(V.Component),D4=function(r){ln(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=za(t.props.minDate),s=za(t.props.maxDate),o=[];!Ui(n,s);){var u=dg(n);o.push(ie.createElement("option",{key:u,value:u},Tt(n,t.props.dateFormat,t.props.locale))),n=kr(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ie.createElement("select",{value:dg(za(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var s=Tt(t.props.date,t.props.dateFormat,t.props.locale);return ie.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ie.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ie.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return ie.createElement(S4,$e({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,s=[t.renderReadView(!n)];return n&&s.unshift(t.renderDropdown()),s},t.onChange=function(n){t.toggleDropdown();var s=ot(n);Xr(t.props.date,s)&&Pn(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ie.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(V.Component),A4=function(r){ln(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,s,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var s,o;(t.props.minTime||t.props.maxTime)&&kw(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Nw(n,t.props)||(o=(s=t.props).onChange)===null||o===void 0||o.call(s,n)},t.isSelectedTime=function(n){return t.props.selected&&m4(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&kw(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Nw(n,t.props)},t.liClasses=function(n){var s,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Ba(n)*3600+Fa(n)*60+Oi(n))%(((s=t.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,s){var o,u;n.key===ge.Space&&(n.preventDefault(),n.key=ge.Enter),(n.key===ge.ArrowUp||n.key===ge.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ge.ArrowDown||n.key===ge.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ge.Enter&&t.handleClick(s),(u=(o=t.props).handleOnKeyDown)===null||u===void 0||u.call(o,n)},t.renderTimes=function(){for(var n,s=[],o=typeof t.props.format=="string"?t.props.format:"p",u=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,f=t.props.selected||t.props.openToDate||ot(),p=ff(f),m=t.props.injectTimes&&t.props.injectTimes.sort(function(N,P){return N.getTime()-P.getTime()}),y=60*p4(f),b=y/u,w=0;w<b;w++){var S=lg(p,w*u);if(s.push(S),m){var D=h4(p,S,w,u,m);s=s.concat(D)}}var j=s.reduce(function(N,P){return P.getTime()<=f.getTime()?P:N},s[0]);return s.map(function(N){return ie.createElement("li",{key:N.valueOf(),onClick:t.handleClick.bind(t,N),className:t.liClasses(N),ref:function(P){N===j&&(t.centerLi=P)},onKeyDown:function(P){t.handleOnKeyDown(P,N)},tabIndex:N===j?0:-1,role:"option","aria-selected":t.isSelectedTime(N)?"true":void 0,"aria-disabled":t.isDisabledTime(N)?"true":void 0},Tt(N,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ie.createElement(ie.Fragment,null):ie.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ie.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,s=this.state.height;return ie.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ie.createElement("div",{className:"react-datepicker__time"},ie.createElement("div",{className:"react-datepicker__time-box"},ie.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(V.Component),zw=3,R4=function(r){ln(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=ta([],Array(n.props.yearItemNumber),!0).map(function(){return V.createRef()}),n.isDisabled=function(s){return yr(s,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(s){return Sy(s,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var s;return(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection},n.updateFocusOnPaginate=function(s){var o=function(){var u,f;(f=(u=n.YEAR_REFS[s])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(s,o){n.props.onDayClick&&n.props.onDayClick(s,o)},n.handleYearNavigation=function(s,o){var u,f,p,m,y=n.props,b=y.date,w=y.yearItemNumber;if(!(b===void 0||w===void 0)){var S=Ri(b,w).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((f=(u=n.props).setPreSelection)===null||f===void 0||f.call(u,o),s-S<0?n.updateFocusOnPaginate(w-(S-s)):s-S>=w?n.updateFocusOnPaginate(Math.abs(w-(s-S))):(m=(p=n.YEAR_REFS[s-S])===null||p===void 0?void 0:p.current)===null||m===void 0||m.focus())}},n.isSameDay=function(s,o){return Ke(s,o)},n.isCurrentYear=function(s){return s===Ve(ot())},n.isRangeStart=function(s){return n.props.startDate&&n.props.endDate&&Xr($r(ot(),s),n.props.startDate)},n.isRangeEnd=function(s){return n.props.startDate&&n.props.endDate&&Xr($r(ot(),s),n.props.endDate)},n.isInRange=function(s){return $d(s,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(s){var o=n.props,u=o.selectsStart,f=o.selectsEnd,p=o.selectsRange,m=o.startDate,y=o.endDate;return!(u||f||p)||!n.selectingDate()?!1:u&&y?$d(s,n.selectingDate(),y):f&&m||p&&m&&!y?$d(s,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(s){var o;if(!n.isInSelectingRange(s))return!1;var u=n.props,f=u.startDate,p=u.selectsStart,m=$r(ot(),s);return p?Xr(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):Xr(m,f??null)},n.isSelectingRangeEnd=function(s){var o;if(!n.isInSelectingRange(s))return!1;var u=n.props,f=u.endDate,p=u.selectsEnd,m=u.selectsRange,y=$r(ot(),s);return p||m?Xr(y,(o=n.selectingDate())!==null&&o!==void 0?o:null):Xr(y,f??null)},n.isKeyboardSelected=function(s){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,u=o.minDate,f=o.maxDate,p=o.excludeDates,m=o.includeDates,y=o.filterDate,b=jc($r(n.props.date,s)),w=(u||f||p||m||y)&&hf(s,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Ke(b,jc(n.props.selected))&&Ke(b,jc(n.props.preSelection))&&!w}},n.isSelectedYear=function(s){var o=n.props,u=o.selectsMultiple,f=o.selected,p=o.selectedDates;return u?p?.some(function(m){return s===Ve(m)}):!!f&&s===Ve(f)},n.onYearClick=function(s,o){var u=n.props.date;u!==void 0&&n.handleYearClick(jc($r(u,o)),s)},n.onYearKeyDown=function(s,o){var u,f,p=s.key,m=n.props,y=m.date,b=m.yearItemNumber,w=m.handleOnKeyDown;if(p!==ge.Tab&&s.preventDefault(),!n.props.disabledKeyboardNavigation)switch(p){case ge.Enter:if(n.props.selected==null)break;n.onYearClick(s,o),(f=(u=n.props).setPreSelection)===null||f===void 0||f.call(u,n.props.selected);break;case ge.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,La(n.props.preSelection,1));break;case ge.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,al(n.props.preSelection,1));break;case ge.ArrowUp:{if(y===void 0||b===void 0||n.props.preSelection==null)break;var S=Ri(y,b).startPeriod,D=zw,j=o-D;if(j<S){var N=b%D;o>=S&&o<S+N?D=N:D+=N,j=o-D}n.handleYearNavigation(j,al(n.props.preSelection,D));break}case ge.ArrowDown:{if(y===void 0||b===void 0||n.props.preSelection==null)break;var P=Ri(y,b).endPeriod,D=zw,j=o+D;if(j>P){var N=b%D;o<=P&&o>P-N?D=N:D+=N,j=o+D}n.handleYearNavigation(j,La(n.props.preSelection,D));break}}w&&w(s)},n.getYearClassNames=function(s){var o=n.props,u=o.date,f=o.minDate,p=o.maxDate,m=o.excludeDates,y=o.includeDates,b=o.filterDate,w=o.yearClassName;return _n("react-datepicker__year-text","react-datepicker__year-".concat(s),u?w?.($r(u,s)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(s),"react-datepicker__year-text--disabled":(f||p||m||y||b)&&hf(s,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(s),"react-datepicker__year-text--range-start":n.isRangeStart(s),"react-datepicker__year-text--range-end":n.isRangeEnd(s),"react-datepicker__year-text--in-range":n.isInRange(s),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(s),"react-datepicker__year-text--today":n.isCurrentYear(s)})},n.getYearTabIndex=function(s){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Ve(n.props.preSelection),u=hf(s,n.props);return s===o&&!u?"0":"-1"},n.getYearContent=function(s){return n.props.renderYearContent?n.props.renderYearContent(s):s},n}return e.prototype.render=function(){var t=this,n=[],s=this.props,o=s.date,u=s.yearItemNumber,f=s.onYearMouseEnter,p=s.onYearMouseLeave;if(o===void 0)return null;for(var m=Ri(o,u),y=m.startPeriod,b=m.endPeriod,w=function(j){n.push(ie.createElement("div",{ref:S.YEAR_REFS[j-y],onClick:function(N){t.onYearClick(N,j)},onKeyDown:function(N){$T(N)&&(N.preventDefault(),N.key=ge.Enter),t.onYearKeyDown(N,j)},tabIndex:Number(S.getYearTabIndex(j)),className:S.getYearClassNames(j),onMouseEnter:S.props.usePointerEvent?void 0:function(N){return f(N,j)},onPointerEnter:S.props.usePointerEvent?function(N){return f(N,j)}:void 0,onMouseLeave:S.props.usePointerEvent?void 0:function(N){return p(N,j)},onPointerLeave:S.props.usePointerEvent?function(N){return p(N,j)}:void 0,key:j,"aria-current":S.isCurrentYear(j)?"date":void 0},S.getYearContent(j)))},S=this,D=y;D<=b;D++)w(D);return ie.createElement("div",{className:"react-datepicker__year"},ie.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(V.Component);function C4(r,e,t,n){for(var s=[],o=0;o<2*e+1;o++){var u=r+e-o,f=!0;t&&(f=Ve(t)<=u),n&&f&&(f=Ve(n)>=u),f&&s.push(u)}return s}var N4=function(r){ln(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var f=n.props.year,p=n.state.yearsList.map(function(b){return ie.createElement("div",{className:f===b?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:b,onClick:n.onChange.bind(n,b),"aria-selected":f===b?"true":void 0},f===b?ie.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",b)}),m=n.props.minDate?Ve(n.props.minDate):null,y=n.props.maxDate?Ve(n.props.maxDate):null;return(!y||!n.state.yearsList.find(function(b){return b===y}))&&p.unshift(ie.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ie.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(b){return b===m}))&&p.push(ie.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ie.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},n.onChange=function(f){n.props.onChange(f)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(f){var p=n.state.yearsList.map(function(m){return m+f});n.setState({yearsList:p})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var s=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,u=s||(o?10:5);return n.state={yearsList:C4(n.props.year,u,n.props.minDate,n.props.maxDate)},n.dropdownRef=V.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,s=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=_n({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ie.createElement(fh,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(V.Component),k4=function(r){ln(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Ve(t.props.minDate):1900,s=t.props.maxDate?Ve(t.props.maxDate):2100,o=[],u=n;u<=s;u++)o.push(ie.createElement("option",{key:u,value:u},u));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ie.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ie.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return t.toggleDropdown(s)}},ie.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ie.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ie.createElement(N4,$e({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,s=[t.renderReadView(!n)];return n&&s.unshift(t.renderDropdown()),s},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,s){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,s),t.setOpen()},t.onSelect=function(n,s){var o,u;(u=(o=t.props).onSelect)===null||u===void 0||u.call(o,n,s)},t.setOpen=function(){var n,s;(s=(n=t.props).setOpen)===null||s===void 0||s.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ie.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(V.Component),M4=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],O4=function(r){var e=(r.className||"").split(/\s+/);return M4.some(function(t){return e.indexOf(t)>=0})},I4=function(r){ln(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(s){n.props.onClickOutside(s)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(s){var o,u;O4(s.target)&&((u=(o=n.props).onDropdownFocus)===null||u===void 0||u.call(o,s))},n.getDateInView=function(){var s=n.props,o=s.preSelection,u=s.selected,f=s.openToDate,p=KT(n.props),m=WT(n.props),y=ot(),b=f||u||o;return b||(p&&Fs(y,p)?p:m&&Ui(y,m)?m:y)},n.increaseMonth=function(){n.setState(function(s){var o=s.date;return{date:kr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(s){var o=s.date;return{date:Ms(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(s,o,u){n.props.onSelect(s,o,u),n.props.setPreSelection&&n.props.setPreSelection(s)},n.handleDayMouseEnter=function(s){n.setState({selectingDate:s}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(s,o){n.setState({selectingDate:$r(ot(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(s,o)},n.handleYearMouseLeave=function(s,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(s,o)},n.handleYearChange=function(s){var o,u,f,p;(u=(o=n.props).onYearChange)===null||u===void 0||u.call(o,s),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(s),(p=(f=n.props).setOpen)===null||p===void 0||p.call(f,!0)),n.props.setPreSelection&&n.props.setPreSelection(s)},n.getEnabledPreSelectionDateForMonth=function(s){if(!yr(s,n.props))return s;for(var o=za(s),u=t4(s),f=fM(u,o),p=null,m=0;m<=f;m++){var y=Rr(o,m);if(!yr(y,n.props)){p=y;break}}return p},n.handleMonthChange=function(s){var o,u,f,p=(o=n.getEnabledPreSelectionDateForMonth(s))!==null&&o!==void 0?o:s;n.handleCustomMonthChange(p),n.props.adjustDateOnChange&&(n.props.onSelect(p),(f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(p)},n.handleCustomMonthChange=function(s){var o,u;(u=(o=n.props).onMonthChange)===null||u===void 0||u.call(o,s),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(s){n.handleYearChange(s),n.handleMonthChange(s)},n.changeYear=function(s){n.setState(function(o){var u=o.date;return{date:$r(u,Number(s))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(s){n.setState(function(o){var u=o.date;return{date:gr(u,Number(s))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(s){n.setState(function(o){var u=o.date;return{date:$r(gr(u,An(s)),Ve(s))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(s){s===void 0&&(s=n.state.date);var o=Ii(s,n.props.locale,n.props.calendarStartDay),u=[];return n.props.showWeekNumbers&&u.push(ie.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),u.concat([0,1,2,3,4,5,6].map(function(f){var p=Rr(o,f),m=n.formatWeekday(p,n.props.locale),y=n.props.weekDayClassName?n.props.weekDayClassName(p):void 0;return ie.createElement("div",{key:f,"aria-label":Tt(p,"EEEE",n.props.locale),className:_n("react-datepicker__day-name",y)},m)}))},n.formatWeekday=function(s,o){return n.props.formatWeekDay?n4(s,n.props.formatWeekDay,o):n.props.useWeekdaysShort?a4(s,o):r4(s,o)},n.decreaseYear=function(){n.setState(function(s){var o,u=s.date;return{date:al(u,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var s,o,u;if(!n.props.renderCustomHeader){var f=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?f-1:0,m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,y=Ms(n.state.date,m),b;switch(!0){case n.props.showMonthYearPicker:b=Iw(n.state.date,n.props);break;case n.props.showYearPicker:b=c4(n.state.date,n.props);break;case n.props.showQuarterYearPicker:b=o4(n.state.date,n.props);break;default:b=Mw(y,n.props);break}if(!(!((u=n.props.forceShowMonthNavigation)!==null&&u!==void 0?u:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&b||n.props.showTimeSelectOnly)){var w=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],S=["react-datepicker__navigation","react-datepicker__navigation--previous"],D=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(D=n.decreaseYear),b&&n.props.showDisabledMonthNavigation&&(S.push("react-datepicker__navigation--previous--disabled"),D=void 0);var j=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,N=n.props,P=N.previousMonthButtonLabel,W=P===void 0?e.defaultProps.previousMonthButtonLabel:P,Z=N.previousYearButtonLabel,te=Z===void 0?e.defaultProps.previousYearButtonLabel:Z,re=n.props,he=re.previousMonthAriaLabel,O=he===void 0?typeof W=="string"?W:"Previous Month":he,R=re.previousYearAriaLabel,k=R===void 0?typeof te=="string"?te:"Previous Year":R;return ie.createElement("button",{type:"button",className:S.join(" "),onClick:D,onKeyDown:n.props.handleOnKeyDown,"aria-label":j?k:O},ie.createElement("span",{className:w.join(" ")},j?te:W))}}},n.increaseYear=function(){n.setState(function(s){var o,u=s.date;return{date:La(u,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var s;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=Pw(n.state.date,n.props);break;case n.props.showYearPicker:o=u4(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=l4(n.state.date,n.props);break;default:o=Ow(n.state.date,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var u=["react-datepicker__navigation","react-datepicker__navigation--next"],f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&u.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&u.push("react-datepicker__navigation--next--with-today-button");var p=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(p=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(u.push("react-datepicker__navigation--next--disabled"),p=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,b=y.nextMonthButtonLabel,w=b===void 0?e.defaultProps.nextMonthButtonLabel:b,S=y.nextYearButtonLabel,D=S===void 0?e.defaultProps.nextYearButtonLabel:S,j=n.props,N=j.nextMonthAriaLabel,P=N===void 0?typeof w=="string"?w:"Next Month":N,W=j.nextYearAriaLabel,Z=W===void 0?typeof D=="string"?D:"Next Year":W;return ie.createElement("button",{type:"button",className:u.join(" "),onClick:p,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?Z:P},ie.createElement("span",{className:f.join(" ")},m?D:w))}}},n.renderCurrentMonth=function(s){s===void 0&&(s=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),ie.createElement("h2",{className:o.join(" ")},Tt(s,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showYearDropdown||s))return ie.createElement(k4,$e({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Ve(n.state.date)}))},n.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthDropdown||s))return ie.createElement(x4,$e({},e.defaultProps,n.props,{month:An(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthYearDropdown||s))return ie.createElement(D4,$e({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(s){n.props.onSelect(Aw(),s),n.props.setPreSelection&&n.props.setPreSelection(Aw())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ie.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(s){var o=s.monthDate,u=s.i;return ie.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),ie.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(u!==0),n.renderMonthYearDropdown(u!==0),n.renderYearDropdown(u!==0)),ie.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(s){var o,u,f=s.monthDate,p=s.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=Mw(n.state.date,n.props),y=Ow(n.state.date,n.props),b=Iw(n.state.date,n.props),w=Pw(n.state.date,n.props),S=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ie.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(u=(o=n.props).renderCustomHeader)===null||u===void 0?void 0:u.call(o,$e($e({},n.state),{customHeaderCount:p,monthDate:f,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:m,nextMonthButtonDisabled:y,prevYearButtonDisabled:b,nextYearButtonDisabled:w})),S&&ie.createElement("div",{className:"react-datepicker__day-names"},n.header(f)))},n.renderYearHeader=function(s){var o=s.monthDate,u=n.props,f=u.showYearPicker,p=u.yearItemNumber,m=p===void 0?e.defaultProps.yearItemNumber:p,y=Ri(o,m),b=y.startPeriod,w=y.endPeriod;return ie.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},f?"".concat(b," - ").concat(w):Ve(o))},n.renderHeader=function(s){var o=s.monthDate,u=s.i,f=u===void 0?0:u,p={monthDate:o,i:f};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(p);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(p);default:return n.renderDefaultHeader(p)}},n.renderMonths=function(){var s,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var u=[],f=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?f-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?La(n.state.date,p):Ms(n.state.date,p),y=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,b=0;b<f;++b){var w=b-y+p,S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?La(m,w):kr(m,w),D="month-".concat(b),j=b<f-1,N=b>0;u.push(ie.createElement("div",{key:D,ref:function(P){n.monthContainer=P??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:S,i:b}),ie.createElement(w4,$e({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:S,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:b,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:j,monthShowsDuplicateDaysStart:N}))))}return u}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ie.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ie.createElement(R4,$e({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ie.createElement(A4,$e({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var s=n.props.selected?new Date(n.props.selected):void 0,o=s&&hh(s)&&!!n.props.selected,u=o?"".concat(Vw(s.getHours()),":").concat(Vw(s.getMinutes())):"";if(n.props.showTimeInput)return ie.createElement(g4,$e({},e.defaultProps,n.props,{date:s,timeString:u,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var s,o=Ri(n.state.date,(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),u=o.startPeriod,f=o.endPeriod,p;return n.props.showYearPicker?p="".concat(u," - ").concat(f):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?p=Ve(n.state.date):p="".concat(Ty(An(n.state.date),n.props.locale)," ").concat(Ve(n.state.date)),ie.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&p)},n.renderChildren=function(){if(n.props.children)return ie.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=V.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:gu}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Ke(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!Pn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Ke(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||KP;return ie.createElement(fh,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ie.createElement("div",{style:{display:"contents"},ref:this.containerRef},ie.createElement(t,{className:_n("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(V.Component),P4=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,s=r.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return ie.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:s});if(ie.isValidElement(e)){var u=e;return ie.cloneElement(u,{className:"".concat(u.props.className||""," ").concat(o," ").concat(n),onClick:function(f){typeof u.props.onClick=="function"&&u.props.onClick(f),typeof s=="function"&&s(f)}})}return ie.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},ie.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},XT=function(r){ln(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return aA.createPortal(this.props.children,this.el)},e}(V.Component),j4="[tabindex], a, button, input, select, textarea",V4=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},ZT=function(r){ln(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var s;return Array.prototype.slice.call((s=n.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(j4),1,-1).filter(V4)},n.handleFocusStart=function(){var s=n.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},n.handleFocusEnd=function(){var s=n.getTabChildren();s&&s.length>1&&s[0].focus()},n.tabLoopRef=V.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ie.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ie.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ie.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(V.Component);function L4(r){var e=function(t){var n,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=V.useRef(null),u=GP($e({open:!s,whileElementsMounted:SP,placement:t.popperPlacement,middleware:ta([IP({padding:15}),OP(10),PP({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),f=$e($e({},t),{hidePopper:s,popperProps:$e($e({},u),{arrowRef:o})});return ie.createElement(r,$e({},f))};return e}var U4=function(r){ln(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,s=t.wrapperClassName,o=t.hidePopper,u=o===void 0?e.defaultProps.hidePopper:o,f=t.popperComponent,p=t.targetComponent,m=t.enableTabLoop,y=t.popperOnKeyDown,b=t.portalId,w=t.portalHost,S=t.popperProps,D=t.showArrow,j=void 0;if(!u){var N=_n("react-datepicker-popper",n);j=ie.createElement(ZT,{enableTabLoop:m},ie.createElement("div",{ref:S.refs.setFloating,style:S.floatingStyles,className:N,"data-placement":S.placement,onKeyDown:y},f,D&&ie.createElement(BP,{ref:S.arrowRef,context:S.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(j=V.createElement(this.props.popperContainer,{},j)),b&&!u&&(j=ie.createElement(XT,{portalId:b,portalHost:w},j));var P=_n("react-datepicker-wrapper",s);return ie.createElement(ie.Fragment,null,ie.createElement("div",{ref:S.refs.setReference,className:P},p),j)},e}(V.Component),B4=L4(U4),Yw="react-datepicker-ignore-onclickoutside";function F4(r,e){return r&&e?An(r)!==An(e)||Ve(r)!==Ve(e):r!==e}var jm="Date input not valid.",z4=function(r){ln(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:ot()},n.modifyHolidays=function(){var s;return(s=n.props.holidays)===null||s===void 0?void 0:s.reduce(function(o,u){var f=new Date(u.date);return hh(f)?ta(ta([],o,!0),[$e($e({},u),{date:f})],!1):o},[])},n.calcInitialState=function(){var s,o=n.getPreSelection(),u=KT(n.props),f=WT(n.props),p=u&&Fs(o,ff(u))?u:f&&Ui(o,Rw(f))?f:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&s!==void 0?s:p,highlightDates:jw(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState($e($e({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState($e($e({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.focus)===null||o===void 0||o.call(s,{preventScroll:!0})},n.setBlur=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.blur)===null||o===void 0||o.call(s),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(s,o){o===void 0&&(o=!1),n.setState({open:s,preSelection:s&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Vm},function(){s||n.setState(function(u){return{focused:o?u.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Ua(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(s){var o,u,f=n.state.wasHidden,p=f?n.state.open:!0;f&&n.resetHiddenStatus(),n.state.preventFocus||((u=(o=n.props).onFocus)===null||u===void 0||u.call(o,s),p&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(s){var o,u;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((u=(o=n.props).onBlur)===null||u===void 0||u.call(o,s)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(s){var o,u;n.props.inline||n.setOpen(!1),(u=(o=n.props).onClickOutside)===null||u===void 0||u.call(o,s),n.props.withPortal&&s.preventDefault()},n.handleChange=function(){for(var s,o,u,f,p,m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];var b=m[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,m),!b||typeof b.isDefaultPrevented!="function"||b.isDefaultPrevented()))){n.setState({inputValue:b?.target instanceof HTMLInputElement?b.target.value:null,lastPreSelectChange:Y4});var w=n.props,S=w.selectsRange,D=w.startDate,j=w.endDate,N=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,P=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,W=b?.target instanceof HTMLInputElement?b.target.value:"";if(S){var Z=W.split(N.includes("-")?qT:"-",2).map(function(U){return U.trim()}),te=Z[0],re=Z[1],he=Om(te??"",N,n.props.locale,P),O=Om(re??"",N,n.props.locale,P),R=D?.getTime()!==he?.getTime(),k=j?.getTime()!==O?.getTime();if(!R&&!k||he&&yr(he,n.props)||O&&yr(O,n.props))return;(f=(u=n.props).onChange)===null||f===void 0||f.call(u,[he,O],b)}else{var C=Om(W,N,n.props.locale,P,(p=n.props.selected)!==null&&p!==void 0?p:void 0);(C||!W)&&n.setSelected(C,b,!0)}}},n.handleSelect=function(s,o,u){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(s,o,!1,u),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(s);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var f=n.props,p=f.startDate,m=f.endDate;p&&!m&&(n.props.swapRange||!Bw(s,p))&&n.setOpen(!1)}}},n.setSelected=function(s,o,u,f){var p,m,y=s;if(n.props.showYearPicker){if(y!==null&&hf(Ve(y),n.props))return}else if(n.props.showMonthYearPicker){if(y!==null&&GT(y,n.props))return}else if(y!==null&&yr(y,n.props))return;var b=n.props,w=b.onChange,S=b.selectsRange,D=b.startDate,j=b.endDate,N=b.selectsMultiple,P=b.selectedDates,W=b.minTime,Z=b.swapRange;if(!As(n.props.selected,y)||n.props.allowSameDay||S||N)if(y!==null&&(n.props.selected&&(!u||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(y=Im(y,{hour:Ba(n.props.selected),minute:Fa(n.props.selected),second:Oi(n.props.selected)})),!u&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&W&&(y=Im(y,{hour:W.getHours(),minute:W.getMinutes(),second:W.getSeconds()})),n.props.inline||n.setState({preSelection:y}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:f})),S){var te=!D&&!j,re=D&&!j,he=D&&j;te?w?.([y,null],o):re&&(y===null?w?.([null,null],o):Bw(y,D)?w?.(Z?[y,D]:[y,null],o):w?.([D,y],o)),he&&w?.([y,null],o)}else if(N){if(y!==null)if(!P?.length)w?.([y],o);else{var O=P.some(function(k){return Ke(k,y)});if(O){var R=P.filter(function(k){return!Ke(k,y)});w?.(R,o)}else w?.(ta(ta([],P,!0),[y],!1),o)}}else w?.(y,o);u||((m=(p=n.props).onSelect)===null||m===void 0||m.call(p,y,o),n.setState({inputValue:null}))},n.setPreSelection=function(s){if(!n.props.readOnly){var o=Ua(n.props.minDate),u=Ua(n.props.maxDate),f=!0;if(s){var p=ff(s);if(o&&u)f=Vc(s,n.props.minDate,n.props.maxDate);else if(o){var m=ff(n.props.minDate);f=Ui(s,m)||As(p,m)}else if(u){var y=Rw(n.props.maxDate);f=Fs(s,y)||As(p,y)}}f&&n.setState({preSelection:s})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(s){var o,u;if(!(n.props.selectsRange||n.props.selectsMultiple)){var f=n.props.selected?n.props.selected:n.getPreSelection(),p=n.props.selected?s:Im(f,{hour:Ba(s),minute:Fa(s)});n.setState({preSelection:p}),(u=(o=n.props).onChange)===null||u===void 0||u.call(o,p),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var s,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(s=n.props).onInputClick)===null||o===void 0||o.call(s)},n.onInputKeyDown=function(s){var o,u,f,p,m,y;(u=(o=n.props).onKeyDown)===null||u===void 0||u.call(o,s);var b=s.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(b===ge.ArrowDown||b===ge.ArrowUp||b===ge.Enter)&&((f=n.onInputClick)===null||f===void 0||f.call(n));return}if(n.state.open){if(b===ge.ArrowDown||b===ge.ArrowUp){s.preventDefault();var w=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',S=((p=n.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(w);S instanceof HTMLElement&&S.focus({preventScroll:!0});return}var D=ot(n.state.preSelection);b===ge.Enter?(s.preventDefault(),s.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Vm?(n.handleSelect(D,s),!n.props.shouldCloseOnSelect&&n.setPreSelection(D)):n.setOpen(!1)):b===ge.Escape?(s.preventDefault(),s.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):b===ge.Tab&&n.setOpen(!1),n.inputOk()||(y=(m=n.props).onInputError)===null||y===void 0||y.call(m,{code:1,msg:jm})}},n.onPortalKeyDown=function(s){var o=s.key;o===ge.Escape&&(s.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(s){var o,u,f,p,m,y,b=n.props,w=b.minDate,S=b.maxDate,D=b.disabledKeyboardNavigation,j=b.showWeekPicker,N=b.shouldCloseOnSelect,P=b.locale,W=b.calendarStartDay,Z=b.adjustDateOnChange,te=b.inline;if((u=(o=n.props).onKeyDown)===null||u===void 0||u.call(o,s),!D){var re=s.key,he=s.shiftKey,O=ot(n.state.preSelection),R=function(ve,Y){var Q=Y;switch(ve){case ge.ArrowRight:Q=j?Cf(Y,1):Rr(Y,1);break;case ge.ArrowLeft:Q=j?mw(Y):fI(Y);break;case ge.ArrowUp:Q=mw(Y);break;case ge.ArrowDown:Q=Cf(Y,1);break;case ge.PageUp:Q=he?al(Y,1):Ms(Y,1);break;case ge.PageDown:Q=he?La(Y,1):kr(Y,1);break;case ge.Home:Q=Ii(Y,P,W);break;case ge.End:Q=e4(Y);break}return Q},k=function(ve,Y){for(var Q=40,ce=ve,ne=!1,I=0,$=R(ve,Y);!ne;){if(I>=Q){$=Y;break}w&&$<w&&(ce=ge.ArrowRight,$=yr(w,n.props)?R(ce,$):w),S&&$>S&&(ce=ge.ArrowLeft,$=yr(S,n.props)?R(ce,$):S),yr($,n.props)?((ce===ge.PageUp||ce===ge.Home)&&(ce=ge.ArrowRight),(ce===ge.PageDown||ce===ge.End)&&(ce=ge.ArrowLeft),$=R(ce,$)):ne=!0,I++}return $};if(re===ge.Enter){s.preventDefault(),n.handleSelect(O,s),!N&&n.setPreSelection(O);return}else if(re===ge.Escape){s.preventDefault(),n.setOpen(!1),n.inputOk()||(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:jm});return}var C=null;switch(re){case ge.ArrowLeft:case ge.ArrowRight:case ge.ArrowUp:case ge.ArrowDown:case ge.PageUp:case ge.PageDown:case ge.Home:case ge.End:C=k(re,O);break}if(!C){(y=(m=n.props).onInputError)===null||y===void 0||y.call(m,{code:1,msg:jm});return}if(s.preventDefault(),n.setState({lastPreSelectChange:Vm}),Z&&n.setSelected(C),n.setPreSelection(C),te){var U=An(O),B=An(C),M=Ve(O),Ae=Ve(C);U!==B||M!==Ae?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(s){var o=s.key;o===ge.Escape&&(s.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),n.sendFocusBackToInput();var o=n.props,u=o.selectsRange,f=o.onChange;f?.(u?[null,null]:null,s),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(s){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(s)&&n.setOpen(!1)},n.renderCalendar=function(){var s,o;return!n.props.inline&&!n.isCalendarOpen()?null:ie.createElement(I4,$e({showMonthYearDropdown:void 0,ref:function(u){n.calendar=u}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(s=n.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:f4(n.modifyHolidays()),outsideClickIgnoreClass:Yw,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var s=n.props,o=s.dateFormat,u=o===void 0?e.defaultProps.dateFormat:o,f=s.locale,p=n.props.showTimeInput||n.props.showTimeSelect,m=p?"PPPPp":"PPPP",y;return n.props.selectsRange?y="Selected start date: ".concat(mr(n.props.startDate,{dateFormat:m,locale:f}),". ").concat(n.props.endDate?"End date: "+mr(n.props.endDate,{dateFormat:m,locale:f}):""):n.props.showTimeSelectOnly?y="Selected time: ".concat(mr(n.props.selected,{dateFormat:u,locale:f})):n.props.showYearPicker?y="Selected year: ".concat(mr(n.props.selected,{dateFormat:"yyyy",locale:f})):n.props.showMonthYearPicker?y="Selected month: ".concat(mr(n.props.selected,{dateFormat:"MMMM yyyy",locale:f})):n.props.showQuarterYearPicker?y="Selected quarter: ".concat(mr(n.props.selected,{dateFormat:"yyyy, QQQ",locale:f})):y="Selected date: ".concat(mr(n.props.selected,{dateFormat:m,locale:f})),ie.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},y)},n.renderDateInput=function(){var s,o,u,f=_n(n.props.className,(s={},s[Yw]=n.state.open,s)),p=n.props.customInput||ie.createElement("input",{type:"text"}),m=n.props.customInputRef||"ref",y=n.props,b=y.dateFormat,w=b===void 0?e.defaultProps.dateFormat:b,S=y.locale,D=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?$P(n.props.startDate,n.props.endDate,{dateFormat:w,locale:S}):n.props.selectsMultiple?XP((u=n.props.selectedDates)!==null&&u!==void 0?u:[],{dateFormat:w,locale:S}):mr(n.props.selected,{dateFormat:w,locale:S});return V.cloneElement(p,(o={},o[m]=function(j){n.input=j},o.value=D,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=_n(p.props.className,f),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var s=n.props,o=s.isClearable,u=s.disabled,f=s.selected,p=s.startDate,m=s.endDate,y=s.clearButtonTitle,b=s.clearButtonClassName,w=b===void 0?"":b,S=s.ariaLabelClose,D=S===void 0?"Close":S,j=s.selectedDates,N=s.readOnly;return o&&!N&&(f!=null||p!=null||m!=null||j?.length)?ie.createElement("button",{type:"button",className:_n("react-datepicker__close-icon",w,{"react-datepicker__close-icon--disabled":u}),disabled:u,"aria-label":D,onClick:n.onClearClick,title:y,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:gu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var s,o,u,f;t.inline&&F4(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:jw(this.props.highlightDates)}),!n.focused&&!As(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(s=this.props).onCalendarOpen)===null||o===void 0||o.call(s)),n.open===!0&&this.state.open===!1&&((f=(u=this.props).onCalendarClose)===null||f===void 0||f.call(u)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,s=t.icon,o=t.calendarIconClassname,u=t.calendarIconClassName,f=t.toggleCalendarOnIconClick,p=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ie.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ie.createElement(P4,$e({icon:s,className:_n(u,!u&&o,p&&"react-datepicker-ignore-onclickoutside")},f?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ie.createElement(ZT,{enableTabLoop:this.props.enableTabLoop},ie.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ie.createElement(XT,$e({portalId:this.props.portalId},this.props),n)),ie.createElement("div",null,this.renderInputContainer(),n)}return ie.createElement(B4,$e({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(V.Component),Y4="input",Vm="navigate";const Hw=["Full Valet","Exterior Only","Interior Only"],Fo=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00"],Wr={"Full Valet":4,"Exterior Only":2,"Interior Only":3,"Iron Fallout & Tar Remover":1.5};function H4({isModal:r=!1,onClose:e,onLeaveReview:t}){const[n,s]=V.useState({name:"",phone:"",email:"",eircode:"",service:"",date:null,time:"",message:"",ironFalloutAddon:!1}),[o,u]=V.useState(!1),[f,p]=V.useState(""),[m,y]=V.useState(""),[b,w]=V.useState({}),[S,D]=V.useState([]),[j,N]=V.useState(!0),P=new Date;V.useEffect(()=>{W();const ne=setInterval(()=>{W()},3e4);return()=>clearInterval(ne)},[]);const W=async()=>{try{N(!0);const ne=vr(gn,"bookings"),I=Cs(ne,sf("date",">=",Z())),$=await Va(I),de=[];$.forEach(ue=>{de.push({id:ue.id,...ue.data()})}),D(de)}catch(ne){console.error("Error fetching bookings:",ne)}finally{N(!1)}},Z=()=>{const ne=new Date;return ne.setDate(ne.getDate()+1),ne.toISOString().split("T")[0]},te=ne=>{const[I,$]=ne.split(":").map(Number);return I*60+$},re=ne=>{const I=Math.floor(ne/60),$=ne%60;return`${I.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`},he=ne=>{const I=new Set;return S.filter($=>$.date===ne).forEach($=>{const de=te($.time),ue=Wr[$.service]||3,_e=de+ue*60;for(let De=de;De<_e;De+=60){const xe=re(De);Fo.includes(xe)&&I.add(xe)}}),Array.from(I)},O=(ne,I)=>{if(!ne)return Fo;const $=ne.toISOString().split("T")[0],de=he($),ue=Fo.filter(_e=>!de.includes(_e));if(I){let _e=Wr[I];return n.ironFalloutAddon&&(_e+=Wr["Iron Fallout & Tar Remover"]),ue.filter(De=>{const yt=te(De)+_e*60,Ye=te("16:00")+60;return yt<=Ye})}return ue},R=ne=>{const I=ne.toISOString().split("T")[0],$=he(I),de=Fo.length-$.length,ue=Math.min(...Object.values(Wr));return de>=Math.ceil(ue)},k=()=>n.service==="Exterior Only"||n.service==="Full Valet",C=()=>{if(!n.service)return 0;let ne=Wr[n.service];return n.ironFalloutAddon&&(ne+=Wr["Iron Fallout & Tar Remover"]),ne},U=(()=>{const ne=new Date;return ne.setDate(ne.getDate()+1),ne.toISOString().split("T")[0]})(),B=()=>{const ne={};return n.name||(ne.name="Name is required"),n.phone||(ne.phone="Phone number is required"),n.email?/\S+@\S+\.\S+/.test(n.email)||(ne.email="Please enter a valid email address"):ne.email="Email is required",n.service||(ne.service="Please select a service"),n.date||(ne.date="Please select a date"),n.time||(ne.time="Please select a time"),n.eircode||(ne.eircode="Eircode is required"),ne},M=ne=>{const{name:I,value:$}=ne.target;if(s(de=>({...de,[I]:$})),(I==="date"||I==="service")&&s(de=>({...de,time:"",ironFalloutAddon:I==="service"&&$!=="Exterior Only"&&$!=="Full Valet"?!1:de.ironFalloutAddon})),I==="time"&&$&&n.date){const de=n.date.toISOString().split("T")[0],ue=he(de);if(ue.includes($)){y("This time slot is no longer available. Please select another time.");return}const _e=C(),De=te($),xe=De+_e*60;for(let yt=De;yt<xe;yt+=60){const Ye=re(yt);if(ue.includes(Ye)){y("This time slot conflicts with an existing booking. Please select another time.");return}}m&&y("")}},Ae=ne=>{s(I=>({...I,date:ne,time:""})),m&&y(""),f&&p("")},ve=ne=>{const{name:I}=ne.target;w($=>({...$,[I]:!0}))},Y=async ne=>{ne.preventDefault(),p(""),y("");const I=B();if(Object.keys(I).length>0){w(Object.keys(n).reduce(($,de)=>({...$,[de]:!0}),{})),y("Please fill in all required fields correctly.");return}u(!0);try{const $=n.date.toISOString().split("T")[0],de=vr(gn,"bookings"),ue=Cs(de,sf("date","==",$)),_e=await Va(ue),De=[];_e.forEach(vt=>{De.push({id:vt.id,...vt.data()})});const xe=new Set;if(De.forEach(vt=>{const cn=te(vt.time),wr=Wr[vt.service]||3,Mr=cn+wr*60;for(let K=cn;K<Mr;K+=60){const pe=re(K);Fo.includes(pe)&&xe.add(pe)}}),De.find(vt=>vt.date===$&&vt.time===n.time&&vt.service===n.service)){y("A booking already exists for this exact time and service. Please select another time."),u(!1);return}if(xe.has(n.time)){y("This time slot is no longer available. Please select another time."),u(!1);return}const Ye=C(),Cn=te(n.time),tr=Cn+Ye*60;for(let vt=Cn;vt<tr;vt+=60){const cn=re(vt);if(xe.has(cn)){y("This time slot conflicts with an existing booking. Please select another time."),u(!1);return}}const zn={...n,date:$,created:Rt.now()};await Pk(gn,async vt=>{const cn=vr(gn,"bookings"),wr=Cs(cn,sf("date","==",$)),Mr=await Va(wr),K=[];Mr.forEach(Pe=>{K.push({id:Pe.id,...Pe.data()})});const pe=new Set;if(K.forEach(Pe=>{const Gt=te(Pe.time),nr=Wr[Pe.service]||3,ft=Gt+nr*60;for(let Ue=Gt;Ue<ft;Ue+=60){const un=re(Ue);Fo.includes(un)&&pe.add(un)}}),pe.has(n.time))throw new Error("This time slot is no longer available. Please select another time.");const Ze=C(),Je=te(n.time),at=Je+Ze*60;for(let Pe=Je;Pe<at;Pe+=60){const Gt=re(Pe);if(pe.has(Gt))throw new Error("This time slot conflicts with an existing booking. Please select another time.")}const it=Ts(vr(gn,"bookings"));vt.set(it,zn)}),p("Booking received! We'll contact you shortly to confirm your appointment."),s({name:"",phone:"",email:"",eircode:"",service:"",date:null,time:"",message:"",ironFalloutAddon:!1}),w({});const br={id:"temp-"+Date.now(),...n,date:$,created:Rt.now()};D(vt=>[...vt,br]),await W()}catch($){$.message.includes("time slot")||$.message.includes("conflicts")?y($.message):y("Something went wrong. Please try again or contact us directly.")}finally{u(!1)}},Q=ne=>b[ne]?B()[ne]:"",ce=O(n.date,n.service);return r?v.jsxs("div",{className:"calendar-card",children:[v.jsxs("div",{className:"text-center mb-4",children:[v.jsx("h2",{className:"h3 fw-bold text-primary mb-2",children:"Book Your Valet"}),v.jsx("p",{className:"text-light mb-0",children:"Schedule your car valeting service at a time that suits you. We'll confirm your booking within 24 hours."})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"form-label fw-semibold text-light mb-3",children:"Select Date"}),v.jsx("div",{className:"d-flex justify-content-center",children:v.jsx(z4,{selected:n.date,onChange:Ae,minDate:new Date(P.getTime()+24*60*60*1e3),maxDate:new Date(P.getTime()+90*24*60*60*1e3),filterDate:R,placeholderText:"Select a date",className:`form-control${Q("date")?" is-invalid":""}`,dateFormat:"dd/MM/yyyy",showDisabledMonthNavigation:!0,inline:!0,calendarClassName:"bg-dark text-light",dayClassName:ne=>{ne.toISOString().split("T")[0];const I=R(ne);return n.date&&ne.toISOString().split("T")[0]===n.date.toISOString().split("T")[0]?"selected":I?"available":"disabled"}})}),Q("date")&&v.jsx("div",{className:"invalid-feedback",children:Q("date")})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"service",children:"Service *"}),v.jsxs("select",{id:"service",name:"service",className:`form-select${Q("service")?" is-invalid":""}`,value:n.service,onChange:M,onBlur:ve,children:[v.jsx("option",{value:"",children:"Select a service"}),Hw.map(ne=>v.jsxs("option",{value:ne,children:[ne," (",Wr[ne]," hours)"]},ne))]}),Q("service")&&v.jsx("div",{className:"invalid-feedback",children:Q("service")}),k()&&v.jsx("div",{className:"mt-3",children:v.jsxs("div",{className:"form-check",children:[v.jsx("input",{className:"form-check-input",type:"checkbox",id:"ironFalloutAddon",name:"ironFalloutAddon",checked:n.ironFalloutAddon,onChange:ne=>{s(I=>({...I,ironFalloutAddon:ne.target.checked,time:""}))}}),v.jsxs("label",{className:"form-check-label text-light",htmlFor:"ironFalloutAddon",children:[v.jsx("strong",{children:"Add Iron Fallout & Tar Remover (+20)"})," - Removes embedded iron particles and tar for a smoother finish"]})]})})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"time",children:"Time *"}),v.jsxs("select",{id:"time",name:"time",className:`form-select${Q("time")?" is-invalid":""}`,value:n.time,onChange:M,onBlur:ve,disabled:!n.date||!n.service||ce.length===0,children:[v.jsx("option",{value:"",children:n.date?n.service?ce.length===0?"No available times":"Select a time":"Select a service first":"Select a date first"}),ce.map(ne=>v.jsx("option",{value:ne,children:ne},ne))]}),Q("time")&&v.jsx("div",{className:"invalid-feedback",children:Q("time")}),n.date&&n.service&&ce.length===0&&v.jsxs("div",{className:"form-text text-warning",children:["No available times for ",n.service," on this date. Please select another date or service."]}),n.service&&v.jsxs("div",{className:"form-text text-light",children:[n.service," takes approximately ",C()," hours (including travel time).",n.ironFalloutAddon&&v.jsx("span",{className:"d-block mt-1",children:v.jsxs("strong",{children:["Total with Iron Fallout add-on: ",C()," hours"]})})]})]}),v.jsxs("form",{className:"row g-3",onSubmit:Y,children:[v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"name",children:"Name *"}),v.jsx("input",{id:"name",name:"name",className:`form-control${Q("name")?" is-invalid":""}`,type:"text",placeholder:"John Doe",value:n.name,onChange:M,onBlur:ve}),Q("name")&&v.jsx("div",{className:"invalid-feedback",children:Q("name")})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"phone",children:"Phone *"}),v.jsx("input",{id:"phone",name:"phone",className:`form-control${Q("phone")?" is-invalid":""}`,type:"tel",placeholder:"087 123 4567",value:n.phone,onChange:M,onBlur:ve}),Q("phone")&&v.jsx("div",{className:"invalid-feedback",children:Q("phone")})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"email",children:"Email *"}),v.jsx("input",{id:"email",name:"email",className:`form-control${Q("email")?" is-invalid":""}`,type:"email",placeholder:"john@example.com",value:n.email,onChange:M,onBlur:ve,required:!0}),Q("email")&&v.jsx("div",{className:"invalid-feedback",children:Q("email")})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"eircode",children:"Eircode *"}),v.jsx("input",{id:"eircode",name:"eircode",className:`form-control${Q("eircode")?" is-invalid":""}`,type:"text",placeholder:"A65 F4E2",value:n.eircode,onChange:M,onBlur:ve,required:!0}),Q("eircode")&&v.jsx("div",{className:"invalid-feedback",children:Q("eircode")})]}),v.jsxs("div",{className:"col-12",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"message",children:"Special Requests"}),v.jsx("textarea",{id:"message",name:"message",className:"form-control",rows:"3",placeholder:"Any special requirements or requests?",value:n.message,onChange:M})]}),v.jsx("div",{className:"col-12",children:v.jsxs("button",{type:"submit",className:"btn btn-primary w-100 fw-semibold py-3",disabled:o||!n.date||!n.service||ce.length===0,children:[o?v.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}):null,"Book Now"]})}),f&&v.jsx("div",{className:"col-12",children:v.jsxs("div",{className:"alert alert-success mt-2 mb-0",role:"alert",children:[v.jsx("div",{className:"mb-2",children:f}),v.jsxs("div",{className:"small",children:["After your service is completed, we'd love to hear about your experience!",v.jsx("button",{type:"button",className:"btn btn-link text-decoration-none ms-1 p-0 align-baseline",style:{color:"#0d6efd"},onClick:t,children:v.jsx("strong",{children:"Leave a review "})})]})]})}),m&&v.jsx("div",{className:"col-12",children:v.jsx("div",{className:"alert alert-danger mt-2 mb-0",role:"alert",children:m})})]})]}):v.jsx("section",{id:"contact",className:"py-5 w-100",style:{background:"linear-gradient(135deg, #1a1a1a 60%, #2d2d2d 100%)"},children:v.jsx("div",{className:"container-fluid px-4 d-flex justify-content-center",children:v.jsxs("div",{className:"calendar-card",children:[v.jsxs("div",{className:"text-center mb-4",children:[v.jsx("h2",{className:"h3 fw-bold text-primary mb-2",children:"Book Your Valet"}),v.jsx("p",{className:"text-light mb-0",children:"Schedule your car valeting service at a time that suits you. We'll confirm your booking within 24 hours."})]}),v.jsxs("form",{className:"row g-3",onSubmit:Y,children:[v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"name",children:"Name *"}),v.jsx("input",{id:"name",name:"name",className:`form-control${Q("name")?" is-invalid":""}`,type:"text",placeholder:"John Doe",value:n.name,onChange:M,onBlur:ve}),Q("name")&&v.jsx("div",{className:"invalid-feedback",children:Q("name")})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"phone",children:"Phone *"}),v.jsx("input",{id:"phone",name:"phone",className:`form-control${Q("phone")?" is-invalid":""}`,type:"tel",placeholder:"087 123 4567",value:n.phone,onChange:M,onBlur:ve}),Q("phone")&&v.jsx("div",{className:"invalid-feedback",children:Q("phone")})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"email",children:"Email *"}),v.jsx("input",{id:"email",name:"email",className:`form-control${Q("email")?" is-invalid":""}`,type:"email",placeholder:"john@example.com",value:n.email,onChange:M,onBlur:ve,required:!0}),Q("email")&&v.jsx("div",{className:"invalid-feedback",children:Q("email")})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"eircode",children:"Eircode *"}),v.jsx("input",{id:"eircode",name:"eircode",className:`form-control${Q("eircode")?" is-invalid":""}`,type:"text",placeholder:"A65 F4E2",value:n.eircode,onChange:M,onBlur:ve,required:!0}),Q("eircode")&&v.jsx("div",{className:"invalid-feedback",children:Q("eircode")})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"service",children:"Service *"}),v.jsxs("select",{id:"service",name:"service",className:`form-select${Q("service")?" is-invalid":""}`,value:n.service,onChange:M,onBlur:ve,children:[v.jsx("option",{value:"",children:"Select a service"}),Hw.map(ne=>v.jsxs("option",{value:ne,children:[ne," (",Wr[ne]," hours)"]},ne))]}),Q("service")&&v.jsx("div",{className:"invalid-feedback",children:Q("service")})]}),k()&&v.jsx("div",{className:"col-12",children:v.jsxs("div",{className:"form-check",children:[v.jsx("input",{className:"form-check-input",type:"checkbox",id:"ironFalloutAddon",name:"ironFalloutAddon",checked:n.ironFalloutAddon,onChange:ne=>{s(I=>({...I,ironFalloutAddon:ne.target.checked,time:""}))}}),v.jsxs("label",{className:"form-check-label text-light",htmlFor:"ironFalloutAddon",children:[v.jsx("strong",{children:"Add Iron Fallout & Tar Remover (+20)"})," - Removes embedded iron particles and tar for a smoother finish"]})]})}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"date",children:"Date *"}),v.jsx("input",{id:"date",name:"date",className:`form-control${Q("date")?" is-invalid":""}`,type:"date",min:U,value:n.date?n.date.toISOString().split("T")[0]:"",onChange:M,onBlur:ve}),Q("date")&&v.jsx("div",{className:"invalid-feedback",children:Q("date")})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"time",children:"Time *"}),v.jsxs("select",{id:"time",name:"time",className:`form-select${Q("time")?" is-invalid":""}`,value:n.time,onChange:M,onBlur:ve,disabled:!n.date||!n.service||ce.length===0,children:[v.jsx("option",{value:"",children:n.date?n.service?ce.length===0?"No available times":"Select a time":"Select a service first":"Select a date first"}),ce.map(ne=>v.jsx("option",{value:ne,children:ne},ne))]}),Q("time")&&v.jsx("div",{className:"invalid-feedback",children:Q("time")})]}),v.jsxs("div",{className:"col-12",children:[v.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"message",children:"Special Requests"}),v.jsx("textarea",{id:"message",name:"message",className:"form-control",rows:"3",placeholder:"Any special requirements or requests?",value:n.message,onChange:M})]}),v.jsx("div",{className:"col-12",children:v.jsxs("button",{type:"submit",className:"btn btn-primary w-100 fw-semibold py-3",disabled:o||!n.date||!n.service||ce.length===0,children:[o?v.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}):null,"Book Now"]})}),f&&v.jsx("div",{className:"col-12",children:v.jsxs("div",{className:"alert alert-success mt-2 mb-0",role:"alert",children:[v.jsx("div",{className:"mb-2",children:f}),v.jsxs("div",{className:"small",children:["After your service is completed, we'd love to hear about your experience!",v.jsx("button",{type:"button",className:"btn btn-link text-decoration-none ms-1 p-0 align-baseline",style:{color:"#0d6efd"},onClick:t,children:v.jsx("strong",{children:"Leave a review "})})]})]})}),m&&v.jsx("div",{className:"col-12",children:v.jsx("div",{className:"alert alert-danger mt-2 mb-0",role:"alert",children:m})})]})]})})})}function q4({show:r,onClose:e,onLeaveReview:t}){return r?v.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.7)"},children:v.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:v.jsxs("div",{className:"modal-content bg-dark text-light",children:[v.jsx("div",{className:"d-flex justify-content-end p-2",children:v.jsx("button",{type:"button",className:"btn-close btn-close-white","aria-label":"Close",onClick:e})}),v.jsx("div",{className:"modal-body p-0",children:v.jsx(H4,{isModal:!0,onClose:e,onLeaveReview:t})})]})})}):null}function Q4({show:r,onConfirm:e,onCancel:t,title:n="Are you sure?",message:s="",confirmText:o="Yes",cancelText:u="Cancel"}){return r?v.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.7)",zIndex:2e3},children:v.jsx("div",{className:"modal-dialog modal-dialog-centered",children:v.jsxs("div",{className:"modal-content bg-dark text-light border-0 shadow-lg",children:[v.jsxs("div",{className:"modal-header border-0",children:[v.jsx("h5",{className:"modal-title text-danger",children:n}),v.jsx("button",{type:"button",className:"btn-close btn-close-white","aria-label":"Close",onClick:t})]}),v.jsx("div",{className:"modal-body",children:v.jsx("p",{className:"mb-0",children:s})}),v.jsxs("div",{className:"modal-footer border-0 d-flex justify-content-end gap-2",children:[v.jsx("button",{className:"btn btn-secondary",onClick:t,children:u}),v.jsx("button",{className:"btn btn-danger",onClick:e,children:o})]})]})})}):null}function qw(){const[r,e]=V.useState([]),[t,n]=V.useState([]),[s,o]=V.useState(!0),[u,f]=V.useState("bookings"),[p,m]=V.useState(!1),[y,b]=V.useState({name:"",phone:"",email:"",eircode:"",service:"",date:"",time:"",message:"",ironFalloutAddon:!1}),[w,S]=V.useState(!1),[D,j]=V.useState(null),[N,P]=V.useState([]),[W,Z]=V.useState(!1),[te,re]=V.useState(!1),[he,O]=V.useState(!0),[R,k]=V.useState({category:"interiors",label:"",description:"",type:"single"}),C=["Full Valet","Exterior Only","Interior Only"],U=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00"],[B,M]=V.useState({show:!1,action:null,id:null,extra:null,message:""});V.useEffect(()=>{Ae(),ve(),Y()},[]);const Ae=async()=>{try{console.log("Fetching bookings...");const K=vr(gn,"bookings"),pe=Cs(K,Gb("created","desc")),Ze=await Va(pe),Je=[];Ze.forEach(at=>{Je.push({id:at.id,...at.data()})}),console.log("Fetched bookings:",Je),e(Je)}catch(K){console.error("Error fetching bookings:",K)}finally{o(!1)}},ve=async()=>{try{const K=vr(gn,"reviews"),pe=Cs(K,Gb("date","desc")),Ze=await Va(pe),Je=[];Ze.forEach(at=>{Je.push({id:at.id,...at.data()})}),n(Je)}catch(K){console.error("Error fetching reviews:",K)}finally{o(!1)}},Y=async()=>{try{const pe=(await Va(vr(gn,"gallery"))).docs.map(Ze=>({id:Ze.id,...Ze.data()}));P(pe)}catch(K){console.error("Error fetching gallery items:",K)}},Q=async K=>{K.preventDefault();try{await sg(vr(gn,"bookings"),{...y,created:Rt.now(),adminCreated:!0}),b({name:"",phone:"",email:"",eircode:"",service:"",date:"",time:"",message:"",ironFalloutAddon:!1}),m(!1),Ae()}catch(pe){console.error("Error creating booking:",pe)}},ce=K=>{M({show:!0,action:"deleteBooking",id:K,message:"Are you sure you want to delete this booking? This cannot be undone."})},ne=async K=>{try{await Xb(Ts(gn,"reviews",K),{approved:!0}),ve()}catch(pe){console.error("Error approving review:",pe)}},I=K=>{M({show:!0,action:"deleteReview",id:K,message:"Are you sure you want to delete this review? This cannot be undone."})},$=K=>new Date(K).toLocaleDateString("en-GB"),de=K=>K?(K.toDate?K.toDate():new Date(K)).toLocaleDateString("en-GB"):"N/A",ue=(K,pe)=>{let Je={"Full Valet":"90100","Exterior Only":"40","Interior Only":"60"}[K]||"";return pe&&(Je+=" + 20"),Je},_e=(K,pe)=>{let Je={"Full Valet":95,"Exterior Only":40,"Interior Only":60}[K]||0;return pe&&(Je+=20),Je},De=K=>v.jsx("div",{className:"d-flex",children:[1,2,3,4,5].map(pe=>v.jsx("span",{className:`fs-6 ${K>=pe?"text-warning":"text-muted"}`,children:""},pe))}),xe=()=>{if(console.log("getWeeklyBookings called with bookings:",r),!r.length)return console.log("No bookings found, returning empty weeks array"),[];const K=r.map(it=>{let Pe;if(typeof it.date=="string")Pe=it.date;else if(it.date&&it.date.toISOString)Pe=it.date.toISOString().split("T")[0];else return console.warn("Invalid date format for booking:",it),null;return{...it,date:Pe}}).filter(it=>it!==null);console.log("Normalized bookings:",K);const pe=[...K].sort((it,Pe)=>new Date(it.date)-new Date(Pe.date));console.log("Sorted bookings:",pe);const Ze=[];let Je=Array(7).fill(null).map(()=>[]),at=null;return pe.forEach(it=>{const Pe=new Date(it.date);if(isNaN(Pe.getTime())){console.warn("Invalid date found:",it.date);return}const Gt=(Pe.getDay()+6)%7;(!at||Pe<at||Pe>=new Date(at.getTime()+7*864e5))&&(at=new Date(Pe),at.setDate(Pe.getDate()-Gt),Je=Array(7).fill(null).map(()=>[]),Ze.push({weekStart:new Date(at),days:Je})),Je[Gt].push(it)}),console.log("Generated weeks:",Ze),Ze},yt=()=>r.reduce((K,pe)=>K+_e(pe.service,pe.ironFalloutAddon),0),Ye=()=>r.filter(K=>K.completed).reduce((K,pe)=>K+_e(pe.service,pe.ironFalloutAddon),0),Cn=async K=>{j(K.id);try{await Xb(Ts(gn,"bookings",K.id),{completed:!K.completed}),e(pe=>pe.map(Ze=>Ze.id===K.id?{...Ze,completed:!Ze.completed}:Ze))}catch{alert("Error updating booking status.")}j(null)},tr=K=>{K.preventDefault(),re(!0)},zn=K=>{K.preventDefault(),re(!1)},br=async K=>{K.preventDefault(),re(!1);const pe=Array.from(K.dataTransfer.files);await cn(pe)},vt=async K=>{const pe=Array.from(K.target.files);await cn(pe)},cn=async K=>{Z(!0);try{console.log("Starting upload process..."),console.log("Files to upload:",K);for(const pe of K){console.log("Uploading file:",pe.name,"Size:",pe.size,"Type:",pe.type);const Ze=(pe.size/(1024*1024)).toFixed(2);pe.size>5*1024*1024&&console.warn(`Large file detected (${Ze}MB). Consider compressing for faster upload.`);const at=`${Date.now()}_${pe.name}`,it=rw(aw,`gallery/${at}`);console.log("Storage reference created:",it.fullPath),console.log("Starting file upload...");const Pe=await G2(it,pe);console.log("File uploaded successfully:",Pe),console.log("Waiting for file processing..."),await new Promise(Wa=>setTimeout(Wa,1e3)),console.log("Getting download URL...");let Gt,nr=0;const ft=2;for(;nr<ft;)try{Gt=await K2(it),console.log("Download URL obtained:",Gt);break}catch(Wa){if(nr++,console.log(`Download URL attempt ${nr} failed:`,Wa),nr>=ft)throw new Error(`Failed to get download URL after ${ft} attempts: ${Wa.message}`);await new Promise(ca=>setTimeout(ca,1500*nr))}const Ue=pe.type.startsWith("video/");if(!pe.type.startsWith("image/")&&!Ue){alert(`${pe.name} is not a supported file type. Please use images or videos.`);continue}const Kt={category:R.category,label:R.label||pe.name.split(".")[0],description:R.description||"",type:Ue?"video":"single",src:Gt,fileName:at,uploadedAt:new Date().toISOString(),duration:Ue?"0:00":null};console.log("Gallery item created:",Kt),console.log("Adding to Firestore...");const Ks=await sg(vr(gn,"gallery"),Kt);console.log("Added to Firestore with ID:",Ks.id)}console.log("Refreshing gallery items..."),await Y(),k({category:"interiors",label:"",description:"",type:"single"}),alert("Files uploaded successfully!")}catch(pe){console.error("Error uploading files:",pe),console.error("Error details:",{code:pe.code,message:pe.message,stack:pe.stack}),pe.code==="storage/unauthorized"?alert("Upload failed: Unauthorized. Please check Firebase security rules."):pe.code==="storage/quota-exceeded"?alert("Upload failed: Storage quota exceeded."):pe.code==="storage/unauthenticated"?alert("Upload failed: Not authenticated. Please log in."):alert(`Error uploading files: ${pe.message}`)}finally{Z(!1)}},wr=(K,pe)=>{M({show:!0,action:"deleteGalleryItem",id:K,extra:pe,message:"Are you sure you want to delete this gallery item? This cannot be undone."})},Mr=async()=>{const{action:K,id:pe,extra:Ze}=B;M({...B,show:!1});try{if(K==="deleteBooking")await Dm(Ts(gn,"bookings",pe)),await Ae(),alert("Booking deleted successfully!");else if(K==="deleteReview")await Dm(Ts(gn,"reviews",pe)),await ve(),alert("Review deleted successfully!");else if(K==="deleteGalleryItem"){if(await Dm(Ts(gn,"gallery",pe)),Ze){const Je=rw(aw,`gallery/${Ze}`);try{await W2(Je)}catch{}}await Y(),alert("Gallery item deleted successfully!")}}catch{alert("Error deleting item. Please try again.")}};return s?v.jsx("section",{className:"py-5 bg-dark text-light w-100",children:v.jsx("div",{className:"container-fluid px-4",children:v.jsx("div",{className:"text-center",children:v.jsx("div",{className:"spinner-border text-primary",role:"status",children:v.jsx("span",{className:"visually-hidden",children:"Loading..."})})})})}):v.jsxs("section",{className:"py-5 bg-dark text-light w-100 admin-page",children:[v.jsxs("div",{className:"container-fluid px-4",children:[v.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[v.jsx("h2",{className:"display-6 fw-bold text-primary",children:"Admin Panel"}),v.jsxs("div",{className:"d-flex gap-2",children:[v.jsx(Is,{to:"/",className:"btn btn-outline-primary",children:"Back to Home"}),u==="bookings"&&v.jsx("button",{className:"btn btn-primary",onClick:()=>m(!p),children:p?"Cancel":"Create New Booking"})]})]}),v.jsxs("div",{className:"nav nav-tabs mb-4",role:"tablist",children:[v.jsxs("button",{className:`nav-link ${u==="bookings"?"active bg-primary text-white":"text-light"}`,onClick:()=>f("bookings"),children:["Bookings (",r.length,")"]}),v.jsxs("button",{className:`nav-link ${u==="reviews"?"active bg-primary text-white":"text-light"}`,onClick:()=>f("reviews"),children:["Reviews (",t.length,")",t.filter(K=>!K.approved).length>0&&v.jsxs("span",{className:"badge bg-warning text-dark ms-2",children:[t.filter(K=>!K.approved).length," Pending"]})]}),v.jsx("button",{className:`nav-link ${u==="gallery"?"active bg-primary text-white":"text-light"}`,onClick:()=>f("gallery"),children:"Gallery Management"})]}),v.jsx("div",{className:"mb-4",children:v.jsxs("button",{className:"btn btn-outline-info",onClick:()=>S(K=>!K),children:[w?"Hide":"Show"," Booking Calendar & Weekly Summary"]})}),w&&v.jsx("div",{className:"card bg-dark mb-4",children:v.jsxs("div",{className:"card-body",children:[v.jsxs("div",{className:"d-flex justify-content-end align-items-center mb-2 gap-4",children:[v.jsxs("span",{className:"fw-bold text-success fs-5",children:["Estimated Total Earnings: ",yt()]}),v.jsxs("span",{className:"fw-bold text-info fs-5",children:["Actual Total Earned: ",Ye()]})]}),v.jsx("h5",{className:"card-title text-info mb-3",children:"Booking Calendar & Weekly Summary"}),r.length===0?v.jsx("div",{className:"text-center py-4",children:v.jsx("p",{className:"text-muted mb-0",children:"No bookings found. The calendar will appear here once you have bookings."})}):v.jsx("div",{className:"table-responsive",children:v.jsxs("table",{className:"table table-bordered table-dark align-middle",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Week (Mon-Sun)"}),v.jsx("th",{children:"Mon"}),v.jsx("th",{children:"Tue"}),v.jsx("th",{children:"Wed"}),v.jsx("th",{children:"Thu"}),v.jsx("th",{children:"Fri"}),v.jsx("th",{children:"Sat"}),v.jsx("th",{children:"Sun"}),v.jsx("th",{children:"Total ()"})]})}),v.jsx("tbody",{children:xe().map(({weekStart:K,days:pe},Ze)=>{const Je=pe.flat().reduce((at,it)=>at+_e(it.service,it.ironFalloutAddon),0);return v.jsxs("tr",{children:[v.jsx("td",{className:"fw-bold",children:K.toLocaleDateString("en-GB")}),pe.map((at,it)=>v.jsx("td",{children:at.length===0?v.jsx("span",{className:"text-muted small",children:"-"}):at.map((Pe,Gt)=>v.jsxs("div",{className:"mb-2",children:[v.jsxs("div",{className:"d-flex align-items-center gap-2",children:[v.jsx("input",{type:"checkbox",checked:!!Pe.completed,disabled:D===Pe.id,onChange:()=>Cn(Pe),title:"Mark as completed"}),v.jsx("strong",{children:Pe.name}),v.jsx("span",{className:"badge bg-secondary ms-1",children:Pe.service})]}),v.jsxs("div",{className:"small",children:[Pe.time," | ",_e(Pe.service,Pe.ironFalloutAddon)]})]},Gt))},it)),v.jsxs("td",{className:"fw-bold text-success",children:["",Je]})]},Ze)})})]})})]})}),u==="bookings"&&v.jsxs(v.Fragment,{children:[p&&v.jsx("div",{className:"card bg-secondary mb-4",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title text-primary mb-3",children:"Create New Booking"}),v.jsxs("form",{onSubmit:Q,className:"row g-3",children:[v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",children:"Name *"}),v.jsx("input",{type:"text",className:"form-control",value:y.name,onChange:K=>b({...y,name:K.target.value}),required:!0})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",children:"Phone *"}),v.jsx("input",{type:"tel",className:"form-control",value:y.phone,onChange:K=>b({...y,phone:K.target.value}),required:!0})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",children:"Email"}),v.jsx("input",{type:"email",className:"form-control",value:y.email,onChange:K=>b({...y,email:K.target.value})})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",children:"Eircode"}),v.jsx("input",{type:"text",className:"form-control",value:y.eircode,onChange:K=>b({...y,eircode:K.target.value})})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",children:"Service *"}),v.jsxs("select",{className:"form-select",value:y.service,onChange:K=>b({...y,service:K.target.value}),required:!0,children:[v.jsx("option",{value:"",children:"Select a service"}),C.map(K=>v.jsx("option",{value:K,children:K},K))]})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",children:"Date *"}),v.jsx("input",{type:"date",className:"form-control",value:y.date,onChange:K=>b({...y,date:K.target.value}),required:!0})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",children:"Time *"}),v.jsxs("select",{className:"form-select",value:y.time,onChange:K=>b({...y,time:K.target.value}),required:!0,children:[v.jsx("option",{value:"",children:"Select a time"}),U.map(K=>v.jsx("option",{value:K,children:K},K))]})]}),(y.service==="Exterior Only"||y.service==="Full Valet")&&v.jsx("div",{className:"col-12",children:v.jsxs("div",{className:"form-check",children:[v.jsx("input",{className:"form-check-input",type:"checkbox",id:"ironFalloutAddon",checked:y.ironFalloutAddon,onChange:K=>b({...y,ironFalloutAddon:K.target.checked})}),v.jsx("label",{className:"form-check-label text-light",htmlFor:"ironFalloutAddon",children:"Iron Fallout & Tar Remover (+20)"})]})}),v.jsxs("div",{className:"col-12",children:[v.jsx("label",{className:"form-label fw-semibold text-light",children:"Message"}),v.jsx("textarea",{className:"form-control",rows:"3",value:y.message,onChange:K=>b({...y,message:K.target.value})})]}),v.jsx("div",{className:"col-12",children:v.jsx("button",{type:"submit",className:"btn btn-primary",children:"Create Booking"})})]})]})}),v.jsx("div",{className:"card bg-secondary",children:v.jsxs("div",{className:"card-body",children:[v.jsxs("h5",{className:"card-title text-primary mb-3",children:["All Bookings (",r.length,")"]}),r.length===0?v.jsx("p",{className:"text-light",children:"No bookings found."}):v.jsx("div",{className:"table-responsive",children:v.jsxs("table",{className:"table table-dark table-hover",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Date"}),v.jsx("th",{children:"Time"}),v.jsx("th",{children:"Name"}),v.jsx("th",{children:"Phone"}),v.jsx("th",{children:"Eircode"}),v.jsx("th",{children:"Service"}),v.jsx("th",{children:"Price"}),v.jsx("th",{children:"Created"}),v.jsx("th",{children:"Actions"})]})}),v.jsx("tbody",{children:r.map(K=>v.jsxs("tr",{children:[v.jsx("td",{children:$(K.date)}),v.jsx("td",{children:K.time}),v.jsx("td",{children:K.name}),v.jsx("td",{children:K.phone}),v.jsx("td",{children:K.eircode||"N/A"}),v.jsxs("td",{children:[K.service,K.ironFalloutAddon&&v.jsx("span",{className:"badge bg-warning text-dark ms-1",children:"+ Iron Fallout"})]}),v.jsx("td",{children:ue(K.service,K.ironFalloutAddon)}),v.jsxs("td",{children:[K.created?.toDate?K.created.toDate().toLocaleDateString("en-GB"):"N/A",K.adminCreated&&v.jsx("span",{className:"badge bg-info ms-1",children:"Admin"})]}),v.jsx("td",{children:v.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>ce(K.id),children:"Delete"})})]},K.id))})]})})]})})]}),u==="reviews"&&v.jsx("div",{className:"card bg-secondary",children:v.jsxs("div",{className:"card-body",children:[v.jsxs("h5",{className:"card-title text-primary mb-3",children:["All Reviews (",t.length,")"]}),t.length===0?v.jsx("p",{className:"text-light",children:"No reviews found."}):v.jsx("div",{className:"table-responsive",children:v.jsxs("table",{className:"table table-dark table-hover",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Customer"}),v.jsx("th",{children:"Rating"}),v.jsx("th",{children:"Review"}),v.jsx("th",{children:"Service"}),v.jsx("th",{children:"Date"}),v.jsx("th",{children:"Status"}),v.jsx("th",{children:"Actions"})]})}),v.jsx("tbody",{children:t.map(K=>v.jsxs("tr",{children:[v.jsx("td",{children:v.jsxs("div",{children:[v.jsx("strong",{children:K.customerName}),K.customerEmail&&v.jsx("div",{className:"small text-muted",children:K.customerEmail})]})}),v.jsx("td",{children:De(K.rating)}),v.jsx("td",{children:v.jsx("div",{style:{maxWidth:"300px"},children:v.jsxs("p",{className:"mb-0 small",children:['"',K.review,'"']})})}),v.jsx("td",{children:K.service?v.jsx("span",{className:"badge bg-info",children:K.service}):v.jsx("span",{className:"text-muted",children:"Not specified"})}),v.jsx("td",{children:de(K.date)}),v.jsx("td",{children:K.approved?v.jsx("span",{className:"badge bg-success",children:"Approved"}):v.jsx("span",{className:"badge bg-warning text-dark",children:"Pending"})}),v.jsx("td",{children:K.approved?v.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>I(K.id),title:"Delete Review",children:"Delete"}):v.jsxs("div",{className:"d-flex gap-1",children:[v.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>ne(K.id),title:"Approve Review",children:""}),v.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>I(K.id),title:"Reject Review",children:""})]})})]},K.id))})]})})]})}),u==="gallery"&&v.jsxs("div",{className:"tab-pane fade show active",children:[v.jsx("h2",{className:"h3 mb-4",children:"Gallery Management"}),v.jsx("div",{className:"card bg-secondary mb-4",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h4",{className:"card-title text-primary",children:"Upload New Media"}),v.jsxs("div",{className:"row mb-3",children:[v.jsxs("div",{className:"col-md-3",children:[v.jsx("label",{className:"form-label",children:"Category"}),v.jsxs("select",{className:"form-select",value:R.category,onChange:K=>k({...R,category:K.target.value}),children:[v.jsx("option",{value:"beforeAfter",children:"Before & After"}),v.jsx("option",{value:"interiors",children:"Interiors"}),v.jsx("option",{value:"exteriors",children:"Exteriors"}),v.jsx("option",{value:"videos",children:"Videos"})]})]}),v.jsxs("div",{className:"col-md-3",children:[v.jsx("label",{className:"form-label",children:"Title"}),v.jsx("input",{type:"text",className:"form-control",placeholder:"Image/Video title",value:R.label,onChange:K=>k({...R,label:K.target.value})})]}),v.jsxs("div",{className:"col-md-6",children:[v.jsx("label",{className:"form-label",children:"Description"}),v.jsx("input",{type:"text",className:"form-control",placeholder:"Description",value:R.description,onChange:K=>k({...R,description:K.target.value})})]})]}),v.jsxs("div",{className:`border-2 border-dashed rounded p-5 text-center ${te?"border-primary bg-primary bg-opacity-10":"border-secondary"}`,onDragOver:tr,onDragLeave:zn,onDrop:br,children:[v.jsx("div",{className:"mb-3",children:v.jsx("i",{className:"bi bi-cloud-upload fs-1 text-primary"})}),v.jsx("h5",{children:"Drag & Drop Files Here"}),v.jsx("p",{className:"text-muted",children:"or"}),v.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:vt,className:"form-control",style:{display:"none"},id:"fileInput"}),v.jsx("label",{htmlFor:"fileInput",className:"btn btn-primary",children:"Choose Files"}),v.jsx("p",{className:"text-muted mt-2",children:"Supported: Images (JPG, PNG, GIF) and Videos (MP4, WebM)"}),W&&v.jsxs("div",{className:"mt-3",children:[v.jsx("div",{className:"spinner-border spinner-border-sm text-primary me-2"}),"Uploading..."]})]})]})}),v.jsx("div",{className:"row",children:["beforeAfter","interiors","exteriors","videos"].map(K=>v.jsxs("div",{className:"col-12 mb-4",children:[v.jsx("h4",{className:"text-primary text-capitalize mb-3",children:K.replace(/([A-Z])/g," $1")}),v.jsx("div",{className:"row g-3",children:N.filter(pe=>pe.category===K).map(pe=>v.jsx("div",{className:"col-md-4 col-lg-3",children:v.jsxs("div",{className:"card bg-secondary h-100",children:[v.jsxs("div",{className:"position-relative",children:[pe.type==="video"?v.jsxs("div",{className:"ratio ratio-16x9",children:[v.jsx("video",{src:pe.src,className:"card-img-top",style:{objectFit:"cover"}}),v.jsx("div",{className:"position-absolute top-50 start-50 translate-middle",children:v.jsx("i",{className:"bi bi-play-circle text-white fs-1"})})]}):v.jsx("div",{className:"ratio ratio-4x3",children:v.jsx("img",{src:pe.src,className:"card-img-top",alt:pe.label,style:{objectFit:"cover",width:"100%",height:"100%"}})}),v.jsxs("button",{className:"btn btn-danger btn-sm position-absolute top-0 end-0 m-2",onClick:()=>wr(pe.id,pe.fileName),children:[v.jsx("i",{className:"bi bi-trash"})," Delete"]})]}),v.jsxs("div",{className:"card-body",children:[v.jsx("h6",{className:"card-title",children:pe.label}),v.jsx("p",{className:"card-text small text-muted",children:pe.description}),v.jsx("small",{className:"text-muted",children:new Date(pe.uploadedAt).toLocaleDateString()})]})]})},pe.id))})]},K))})]})]}),v.jsx(Q4,{show:B.show,onConfirm:Mr,onCancel:()=>M({...B,show:!1}),title:"Confirm Deletion",message:B.message,confirmText:"Delete",cancelText:"Cancel"})]})}function G4(){const[r,e]=V.useState({customerName:"",rating:5,review:"",service:"",customerEmail:""}),[t,n]=V.useState(0),[s,o]=V.useState(!1),[u,f]=V.useState(""),[p,m]=V.useState(""),y=["Full Valet","Exterior Only","Interior Only","Iron Fallout & Tar Remover"],b=async D=>{D.preventDefault(),o(!0),m(""),f("");try{await sg(vr(gn,"reviews"),{...r,date:Rt.now(),approved:!1}),f("Thank you for your review! It will be published after approval."),e({customerName:"",rating:5,review:"",service:"",customerEmail:""})}catch(j){m("Something went wrong. Please try again."),console.error("Error submitting review:",j)}finally{o(!1)}},w=D=>{const{name:j,value:N}=D.target;e(P=>({...P,[j]:N}))},S=D=>{e(j=>({...j,rating:D}))};return v.jsx("section",{className:"py-5 bg-dark w-100",children:v.jsx("div",{className:"container-fluid px-4",children:v.jsx("div",{className:"row justify-content-center",children:v.jsx("div",{className:"col-12 col-lg-10",children:v.jsx("div",{className:"card border-0 shadow-lg bg-secondary",children:v.jsxs("div",{className:"card-body p-4",children:[v.jsx("h3",{className:"text-primary fw-bold text-center mb-4",children:"Leave a Review"}),v.jsx("p",{className:"text-light text-center mb-4",children:"We'd love to hear about your experience with Jake's Mobile Detail!"}),v.jsx("form",{onSubmit:b,children:v.jsxs("div",{className:"row g-3",children:[v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",children:"Your Name *"}),v.jsx("input",{type:"text",className:"form-control",name:"customerName",value:r.customerName,onChange:w,required:!0,placeholder:"John Smith"})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",children:"Email (Optional)"}),v.jsx("input",{type:"email",className:"form-control",name:"customerEmail",value:r.customerEmail,onChange:w,placeholder:"john@example.com"})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",children:"Service Used"}),v.jsxs("select",{className:"form-select",name:"service",value:r.service,onChange:w,children:[v.jsx("option",{value:"",children:"Select a service (optional)"}),y.map(D=>v.jsx("option",{value:D,children:D},D))]})]}),v.jsxs("div",{className:"col-12 col-md-6",children:[v.jsx("label",{className:"form-label fw-semibold text-light",children:"Rating *"}),v.jsx("div",{className:"d-flex gap-2 mb-3",style:{minHeight:"48px"},children:[1,2,3,4,5].map(D=>v.jsx("span",{role:"button",tabIndex:0,style:{fontSize:"2rem",color:(t||r.rating)>=D?"#ffc107":"#e4e5e9",cursor:"pointer",transition:"color 0.2s",userSelect:"none"},onClick:()=>S(D),onMouseEnter:()=>n(D),onMouseLeave:()=>n(0),"aria-label":`Rate ${D} star${D>1?"s":""}`,children:""},D))}),v.jsxs("small",{className:"text-light",children:["Click to rate: ",r.rating," out of 5"]})]}),v.jsxs("div",{className:"col-12",children:[v.jsx("label",{className:"form-label fw-semibold text-light",children:"Your Review *"}),v.jsx("textarea",{className:"form-control",name:"review",value:r.review,onChange:w,rows:"4",required:!0,placeholder:"Tell us about your experience...",maxLength:"500"}),v.jsxs("small",{className:"text-light",children:[r.review.length,"/500 characters"]})]}),v.jsx("div",{className:"col-12",children:v.jsxs("button",{type:"submit",className:"btn btn-primary w-100 fw-semibold py-3",disabled:s,children:[s?v.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}):null,"Submit Review"]})}),u&&v.jsx("div",{className:"col-12",children:v.jsx("div",{className:"alert alert-success mt-2 mb-0",role:"alert",children:u})}),p&&v.jsx("div",{className:"col-12",children:v.jsx("div",{className:"alert alert-danger mt-2 mb-0",role:"alert",children:p})})]})})]})})})})})})}const K4=[{slug:"keep-your-car-clean-in-roscommon-winter",title:"5 Tips for Keeping Your Car Clean in Roscommons Winter",date:"2024-07-01",excerpt:"Winter in Roscommon can be tough on your car. Here are 5 practical tips to keep your vehicle looking its best, even in the harshest weather."},{slug:"mobile-valeting-for-rural-drivers-longford",title:"Why Mobile Valeting is Perfect for Rural Drivers in Longford",date:"2024-07-10",excerpt:"Discover why mobile car valeting is the ideal solution for drivers in Longfords rural areas. Convenience, flexibility, and local expertise."},{slug:"how-often-should-you-get-your-car-detailed",title:"How Often Should You Get Your Car Detailed?",date:"2024-07-15",excerpt:"Wondering how often to book a car detail? Learn the best schedule for Roscommon and Longford drivers to keep your vehicle in top shape."},{slug:"whats-included-in-a-full-valet",title:"Whats Included in a Full Valet?",date:"2024-07-20",excerpt:"Curious about what a full car valet covers? Heres a detailed breakdown of the services you get with Jakes Car Care in Roscommon & Longford."}];function W4(){return v.jsx("section",{className:"py-5 bg-dark text-light w-100",children:v.jsxs("div",{className:"container-fluid px-4",children:[v.jsx("h1",{className:"display-5 fw-bold text-primary mb-4",children:"Blog"}),v.jsx("p",{className:"lead",children:"Car care tips, local advice, and more from Jakes Car Care."}),v.jsx("div",{className:"row g-4",children:K4.map(r=>v.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:v.jsx("div",{className:"card bg-secondary h-100 shadow border-0",children:v.jsxs("div",{className:"card-body d-flex flex-column",children:[v.jsx("h2",{className:"h5 text-primary fw-bold mb-2",children:r.title}),v.jsx("div",{className:"text-muted small mb-2",children:new Date(r.date).toLocaleDateString()}),v.jsx("p",{className:"mb-3",children:r.excerpt}),v.jsx(Is,{to:`/blog/${r.slug}`,className:"btn btn-outline-info mt-auto align-self-start",children:"Read More"})]})})},r.slug))})]})})}const $4={"keep-your-car-clean-in-roscommon-winter":{title:"5 Tips for Keeping Your Car Clean in Roscommons Winter",date:"2024-07-01",content:`
      <p>Winter in Roscommon can be tough on your car. Here are 5 practical tips to keep your vehicle looking its best, even in the harshest weather:</p>
      <ol>
        <li><strong>Wash regularly:</strong> Road salt and grit can damage your paint. Try to wash your car every 1-2 weeks.</li>
        <li><strong>Protect your interior:</strong> Use rubber mats to keep mud and water off your carpets.</li>
        <li><strong>Wax before winter:</strong> A good wax job helps protect your paint from the elements.</li>
        <li><strong>Keep windows clean:</strong> Dirty windows fog up faster and reduce visibility. Clean inside and out.</li>
        <li><strong>Book a professional valet:</strong> Let us do the hard work! A full valet will keep your car protected and looking great all season.</li>
      </ol>
      <p>Need help? <a href="tel:0877665058">Call Jakes Car Care</a> for a winter valet in Roscommon or Longford!</p>
    `},"mobile-valeting-for-rural-drivers-longford":{title:"Why Mobile Valeting is Perfect for Rural Drivers in Longford",date:"2024-07-10",content:`
      <p>Living in rural Longford means beautiful scenery, but it also means your car faces unique challenges: muddy roads, farm tracks, and unpredictable weather. Thats where mobile valeting comes in!</p>
      <h2>Why Choose Mobile Valeting in Longford?</h2>
      <ul>
        <li><strong>We Come to You:</strong> No need to drive to a car wash in town. We service Longford Town, Ballymahon, Edgeworthstown, Granard, and all surrounding villages.</li>
        <li><strong>Flexible Scheduling:</strong> Book a time that suits your busy rural lifestyleat home, work, or even the farmyard.</li>
        <li><strong>Local Expertise:</strong> We know the local roads and the kind of dirt your car faces. Our products and techniques are tailored for Longfords conditions.</li>
        <li><strong>Comprehensive Service:</strong> From mud-caked exteriors to pet hair inside, we handle it all.</li>
      </ul>
      <h2>Perfect for Rural Drivers</h2>
      <p>Whether youre a commuter, a farmer, or just love exploring the countryside, mobile valeting keeps your car looking its bestwithout the hassle.</p>
      <p><strong>Ready to experience the convenience?</strong> <a href="tel:0877665058">Call Jakes Car Care</a> for mobile valeting in Longford and nearby areas.</p>
    `},"how-often-should-you-get-your-car-detailed":{title:"How Often Should You Get Your Car Detailed?",date:"2024-07-15",content:`
      <p>Keeping your car clean isnt just about looksits about protecting your investment. But how often should you get your car detailed in Roscommon or Longford?</p>
      <h2>Recommended Detailing Schedule</h2>
      <ul>
        <li><strong>Every 3-6 Months:</strong> For most drivers, a full detail every couple months is ideal. This keeps your paint, upholstery, and carpets in top condition.</li>
        <li><strong>More Often for Rural Drivers:</strong> If you drive on country roads, have pets, or kids, you may want to detail more frequently.</li>
        <li><strong>Before/After Winter:</strong> Detailing before and after winter helps remove salt, grit, and mud that can damage your car.</li>
      </ul>
      <h2>Why Regular Detailing Matters</h2>
      <ul>
        <li>Protects your paint from scratches and rust</li>
        <li>Removes allergens and bacteria from the interior</li>
        <li>Maintains your cars value</li>
        <li>Makes driving more enjoyable!</li>
      </ul>
      <p>Not sure whats right for you? <a href="tel:0877665058">Call Jakes Car Care</a> for advice or to book your next detail in Roscommon or Longford.</p>
    `},"whats-included-in-a-full-valet":{title:"Whats Included in a Full Valet?",date:"2024-07-20",content:`
      <p>Wondering what you get with a full car valet from Jakes Car Care? Heres a detailed look at whats included for customers in Roscommon, Longford, and surrounding areas.</p>
      <h2>Exterior Services</h2>
      <ul>
        <li>Hand wash and dry</li>
        <li>Wheel cleaning and tyre shine</li>
        <li>Tar and bug removal</li>
        <li>Wax and paint protection</li>
        <li>Window and mirror cleaning</li>
      </ul>
      <h2>Interior Services</h2>
      <ul>
        <li>Full vacuum (seats, carpets, boot)</li>
        <li>Dashboard and console cleaning</li>
        <li>Leather/fabric treatment</li>
        <li>Air freshener service</li>
        <li>Stain removal (where possible)</li>
      </ul>
      <h2>Why Choose Jakes Car Care?</h2>
      <ul>
        <li>Local, friendly service</li>
        <li>Attention to detail</li>
        <li>Flexible mobile appointments</li>
        <li>Serving Roscommon, Longford, and all nearby towns</li>
      </ul>
      <p>Ready for a showroom finish? <a href="tel:0877665058">Book your full valet today</a> with Jakes Car Care!</p>
    `}};function X4(){const{slug:r}=c1(),e=$4[r];return e?v.jsx("section",{className:"py-5 bg-dark text-light w-100",children:v.jsxs("div",{className:"container-fluid px-4",children:[v.jsx("h1",{className:"display-5 fw-bold text-primary mb-3",children:e.title}),v.jsx("div",{className:"text-muted mb-4",children:new Date(e.date).toLocaleDateString()}),v.jsx("div",{className:"mb-4",dangerouslySetInnerHTML:{__html:e.content}}),v.jsx(Is,{to:"/blog",className:"btn btn-outline-info",children:"Back to Blog"})]})}):v.jsx("section",{className:"py-5 bg-dark text-light w-100",children:v.jsxs("div",{className:"container-fluid px-4",children:[v.jsx("h1",{children:"Post not found"}),v.jsx(Is,{to:"/blog",className:"btn btn-outline-info mt-3",children:"Back to Blog"})]})})}function Z4({onBookNow:r,onLeaveReview:e}){return v.jsxs(v.Fragment,{children:[v.jsx(sA,{onBookNow:r}),v.jsx(rM,{onBookNow:r}),v.jsx(jk,{}),v.jsx(mT,{onLeaveReview:e}),v.jsx(tM,{})]})}function J4({show:r,onClose:e}){return r?v.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.7)"},children:v.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:v.jsxs("div",{className:"modal-content bg-dark text-light",children:[v.jsxs("div",{className:"modal-header border-0",children:[v.jsx("h5",{className:"modal-title text-primary",children:"Leave a Review"}),v.jsx("button",{type:"button",className:"btn-close btn-close-white","aria-label":"Close",onClick:e})]}),v.jsx("div",{className:"modal-body",children:v.jsx(G4,{})})]})})}):null}function ej(){return v.jsx("section",{className:"py-5 bg-dark text-light w-100",children:v.jsxs("div",{className:"container-fluid px-4",children:[v.jsx("h1",{className:"display-5 fw-bold text-primary mb-4",children:"Service Areas"}),v.jsx("p",{className:"lead",children:"Jake's Car Care provides mobile car valeting and detailing within a 30-40 minute drive from Strokestown, covering Roscommon, Longford, and nearby towns and villages. If you're in or near any of the following locations, we can come to you!"}),v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col-md-6",children:[v.jsx("h3",{className:"h5 text-info",children:"Roscommon"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Roscommon Town"}),v.jsx("li",{children:"Castlerea"}),v.jsx("li",{children:"Boyle"}),v.jsx("li",{children:"Strokestown"}),v.jsx("li",{children:"Ballaghaderreen"}),v.jsx("li",{children:"Elphin"}),v.jsx("li",{children:"Ballinlough"}),v.jsx("li",{children:"Frenchpark"}),v.jsx("li",{children:"Other surrounding villages"})]})]}),v.jsxs("div",{className:"col-md-6",children:[v.jsx("h3",{className:"h5 text-info",children:"Longford"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Longford Town"}),v.jsx("li",{children:"Ballymahon"}),v.jsx("li",{children:"Edgeworthstown"}),v.jsx("li",{children:"Granard"}),v.jsx("li",{children:"Lanesborough"}),v.jsx("li",{children:"Drumlish"}),v.jsx("li",{children:"Newtownforbes"}),v.jsx("li",{children:"Other surrounding villages"})]})]})]}),v.jsxs("p",{className:"mt-4",children:["If you're unsure if we cover your area, just ask! ",v.jsx("a",{href:"tel:0877665058",className:"text-info",children:"Call us"})," for a quick answer."]})]})})}function tj(){const[r,e]=V.useState(!1),[t,n]=V.useState(!1),s=()=>e(!0),o=()=>e(!1),u=()=>n(!0),f=()=>n(!1);return v.jsx(K1,{children:v.jsxs("div",{className:"min-vh-100 d-flex flex-column font-sans bg-secondary text-light",children:[v.jsx(iA,{onLeaveReview:u}),v.jsx(q4,{show:r,onClose:o,onLeaveReview:u}),v.jsx(J4,{show:t,onClose:f}),v.jsxs(T1,{children:[v.jsx(Si,{path:"/",element:v.jsx(Z4,{onBookNow:s,onLeaveReview:u})}),v.jsx(Si,{path:"/admin",element:v.jsx(qw,{})}),v.jsx(Si,{path:"/adminjake2005",element:v.jsx(qw,{})}),v.jsx(Si,{path:"/reviews",element:v.jsx(mT,{onLeaveReview:u})}),v.jsx(Si,{path:"/service-areas",element:v.jsx(ej,{})}),v.jsx(Si,{path:"/blog",element:v.jsx(W4,{})}),v.jsx(Si,{path:"/blog/:slug",element:v.jsx(X4,{})})]}),v.jsx(aM,{onLeaveReview:u})]})})}const nj=new URLSearchParams(window.location.search),Qw=nj.get("redirect");Qw&&window.history.replaceState({},"","/JakesCarCare"+Qw);MD.createRoot(document.getElementById("root")).render(v.jsx(V.StrictMode,{children:v.jsx(tj,{})}));
