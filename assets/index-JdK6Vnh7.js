function bS(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function qw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dm={exports:{}},yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function wS(){if(V0)return yu;V0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:r,type:n,key:c,ref:s!==void 0?s:null,props:o}}return yu.Fragment=e,yu.jsx=t,yu.jsxs=t,yu}var L0;function ES(){return L0||(L0=1,dm.exports=wS()),dm.exports}var _=ES(),fm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function TS(){if(j0)return Ie;j0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,P={};function N(O,W,de){this.props=O,this.context=W,this.refs=P,this.updater=de||D}N.prototype.isReactComponent={},N.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},N.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=N.prototype;function G(O,W,de){this.props=O,this.context=W,this.refs=P,this.updater=de||D}var X=G.prototype=new C;X.constructor=G,S(X,N.prototype),X.isPureReactComponent=!0;var te=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function I(O,W,de,ce,_e,Se){return de=Se.ref,{$$typeof:r,type:O,key:W,ref:de!==void 0?de:null,props:Se}}function R(O,W){return I(O.type,W,void 0,void 0,void 0,O.props)}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return W[de]})}var U=/\/+/g;function B(O,W){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):W.toString(36)}function M(){}function Ae(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(M,M):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ve(O,W,de,ce,_e){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var Te=!1;if(O===null)Te=!0;else switch(Se){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(O.$$typeof){case r:case e:Te=!0;break;case y:return Te=O._init,ve(Te(O._payload),W,de,ce,_e)}}if(Te)return _e=_e(O),Te=ce===""?"."+B(O,0):ce,te(_e)?(de="",Te!=null&&(de=Te.replace(U,"$&/")+"/"),ve(_e,W,de,"",function(Cn){return Cn})):_e!=null&&(k(_e)&&(_e=R(_e,de+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(U,"$&/")+"/")+Te)),W.push(_e)),1;Te=0;var gt=ce===""?".":ce+":";if(te(O))for(var Ye=0;Ye<O.length;Ye++)ce=O[Ye],Se=gt+B(ce,Ye),Te+=ve(ce,W,de,Se,_e);else if(Ye=w(O),typeof Ye=="function")for(O=Ye.call(O),Ye=0;!(ce=O.next()).done;)ce=ce.value,Se=gt+B(ce,Ye++),Te+=ve(ce,W,de,Se,_e);else if(Se==="object"){if(typeof O.then=="function")return ve(Ae(O),W,de,ce,_e);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Y(O,W,de){if(O==null)return O;var ce=[],_e=0;return ve(O,ce,"","",function(Se){return W.call(de,Se,_e++)}),ce}function Q(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var ue=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ne(){}return Ie.Children={map:Y,forEach:function(O,W,de){Y(O,function(){W.apply(this,arguments)},de)},count:function(O){var W=0;return Y(O,function(){W++}),W},toArray:function(O){return Y(O,function(W){return W})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ie.Component=N,Ie.Fragment=t,Ie.Profiler=s,Ie.PureComponent=G,Ie.StrictMode=n,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return re.H.useMemoCache(O)}},Ie.cache=function(O){return function(){return O.apply(null,arguments)}},Ie.cloneElement=function(O,W,de){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=S({},O.props),_e=O.key,Se=void 0;if(W!=null)for(Te in W.ref!==void 0&&(Se=void 0),W.key!==void 0&&(_e=""+W.key),W)!he.call(W,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&W.ref===void 0||(ce[Te]=W[Te]);var Te=arguments.length-2;if(Te===1)ce.children=de;else if(1<Te){for(var gt=Array(Te),Ye=0;Ye<Te;Ye++)gt[Ye]=arguments[Ye+2];ce.children=gt}return I(O.type,_e,void 0,void 0,Se,ce)},Ie.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},Ie.createElement=function(O,W,de){var ce,_e={},Se=null;if(W!=null)for(ce in W.key!==void 0&&(Se=""+W.key),W)he.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=W[ce]);var Te=arguments.length-2;if(Te===1)_e.children=de;else if(1<Te){for(var gt=Array(Te),Ye=0;Ye<Te;Ye++)gt[Ye]=arguments[Ye+2];_e.children=gt}if(O&&O.defaultProps)for(ce in Te=O.defaultProps,Te)_e[ce]===void 0&&(_e[ce]=Te[ce]);return I(O,Se,void 0,void 0,null,_e)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:f,render:O}},Ie.isValidElement=k,Ie.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:Q}},Ie.memo=function(O,W){return{$$typeof:m,type:O,compare:W===void 0?null:W}},Ie.startTransition=function(O){var W=re.T,de={};re.T=de;try{var ce=O(),_e=re.S;_e!==null&&_e(de,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ne,ue)}catch(Se){ue(Se)}finally{re.T=W}},Ie.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ie.use=function(O){return re.H.use(O)},Ie.useActionState=function(O,W,de){return re.H.useActionState(O,W,de)},Ie.useCallback=function(O,W){return re.H.useCallback(O,W)},Ie.useContext=function(O){return re.H.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O,W){return re.H.useDeferredValue(O,W)},Ie.useEffect=function(O,W,de){var ce=re.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(O,W)},Ie.useId=function(){return re.H.useId()},Ie.useImperativeHandle=function(O,W,de){return re.H.useImperativeHandle(O,W,de)},Ie.useInsertionEffect=function(O,W){return re.H.useInsertionEffect(O,W)},Ie.useLayoutEffect=function(O,W){return re.H.useLayoutEffect(O,W)},Ie.useMemo=function(O,W){return re.H.useMemo(O,W)},Ie.useOptimistic=function(O,W){return re.H.useOptimistic(O,W)},Ie.useReducer=function(O,W,de){return re.H.useReducer(O,W,de)},Ie.useRef=function(O){return re.H.useRef(O)},Ie.useState=function(O){return re.H.useState(O)},Ie.useSyncExternalStore=function(O,W,de){return re.H.useSyncExternalStore(O,W,de)},Ie.useTransition=function(){return re.H.useTransition()},Ie.version="19.1.0",Ie}var U0;function mg(){return U0||(U0=1,fm.exports=TS()),fm.exports}var L=mg();const ie=qw(L),Qw=bS({__proto__:null,default:ie},[L]);var hm={exports:{}},vu={},pm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function xS(){return B0||(B0=1,function(r){function e(Y,Q){var ue=Y.length;Y.push(Q);e:for(;0<ue;){var ne=ue-1>>>1,O=Y[ne];if(0<s(O,Q))Y[ne]=Q,Y[ue]=O,ue=ne;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var Q=Y[0],ue=Y.pop();if(ue!==Q){Y[0]=ue;e:for(var ne=0,O=Y.length,W=O>>>1;ne<W;){var de=2*(ne+1)-1,ce=Y[de],_e=de+1,Se=Y[_e];if(0>s(ce,ue))_e<O&&0>s(Se,ce)?(Y[ne]=Se,Y[_e]=ue,ne=_e):(Y[ne]=ce,Y[de]=ue,ne=de);else if(_e<O&&0>s(Se,ue))Y[ne]=Se,Y[_e]=ue,ne=_e;else break e}}return Q}function s(Y,Q){var ue=Y.sortIndex-Q.sortIndex;return ue!==0?ue:Y.id-Q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();r.unstable_now=function(){return c.now()-f}}var p=[],m=[],y=1,b=null,w=3,D=!1,S=!1,P=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function te(Y){for(var Q=t(m);Q!==null;){if(Q.callback===null)n(m);else if(Q.startTime<=Y)n(m),Q.sortIndex=Q.expirationTime,e(p,Q);else break;Q=t(m)}}function re(Y){if(P=!1,te(Y),!S)if(t(p)!==null)S=!0,he||(he=!0,B());else{var Q=t(m);Q!==null&&ve(re,Q.startTime-Y)}}var he=!1,I=-1,R=5,k=-1;function V(){return N?!0:!(r.unstable_now()-k<R)}function U(){if(N=!1,he){var Y=r.unstable_now();k=Y;var Q=!0;try{e:{S=!1,P&&(P=!1,G(I),I=-1),D=!0;var ue=w;try{t:{for(te(Y),b=t(p);b!==null&&!(b.expirationTime>Y&&V());){var ne=b.callback;if(typeof ne=="function"){b.callback=null,w=b.priorityLevel;var O=ne(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof O=="function"){b.callback=O,te(Y),Q=!0;break t}b===t(p)&&n(p),te(Y)}else n(p);b=t(p)}if(b!==null)Q=!0;else{var W=t(m);W!==null&&ve(re,W.startTime-Y),Q=!1}}break e}finally{b=null,w=ue,D=!1}Q=void 0}}finally{Q?B():he=!1}}}var B;if(typeof X=="function")B=function(){X(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ae=M.port2;M.port1.onmessage=U,B=function(){Ae.postMessage(null)}}else B=function(){C(U,0)};function ve(Y,Q){I=C(function(){Y(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var Q=3;break;default:Q=w}var ue=w;w=Q;try{return Y()}finally{w=ue}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ue=w;w=Y;try{return Q()}finally{w=ue}},r.unstable_scheduleCallback=function(Y,Q,ue){var ne=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ne+ue:ne):ue=ne,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ue+O,Y={id:y++,callback:Q,priorityLevel:Y,startTime:ue,expirationTime:O,sortIndex:-1},ue>ne?(Y.sortIndex=ue,e(m,Y),t(p)===null&&Y===t(m)&&(P?(G(I),I=-1):P=!0,ve(re,ue-ne))):(Y.sortIndex=O,e(p,Y),S||D||(S=!0,he||(he=!0,B()))),Y},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Y){var Q=w;return function(){var ue=w;w=Q;try{return Y.apply(this,arguments)}finally{w=ue}}}}(mm)),mm}var F0;function DS(){return F0||(F0=1,pm.exports=xS()),pm.exports}var gm={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function SS(){if(z0)return Tn;z0=1;var r=mg();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(p,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:p,containerInfo:m,implementation:y}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Tn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(p,m,null,y)},Tn.flushSync=function(p){var m=c.T,y=n.p;try{if(c.T=null,n.p=2,p)return p()}finally{c.T=m,n.p=y,n.d.f()}},Tn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(p,m))},Tn.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},Tn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,b=f(y,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,D=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?n.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:D}):y==="script"&&n.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:D,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);n.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(p)},Tn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=f(y,m.crossOrigin);n.d.L(p,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=f(m.as,m.crossOrigin);n.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(p)},Tn.requestFormReset=function(p){n.d.r(p)},Tn.unstable_batchedUpdates=function(p,m){return p(m)},Tn.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},Tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tn.version="19.1.0",Tn}var Y0;function Gw(){if(Y0)return gm.exports;Y0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=SS(),gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function AS(){if(H0)return vu;H0=1;var r=DS(),e=mg(),t=Gw();function n(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var i=a,l=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(l=i.return),a=i.return;while(a)}return i.tag===3?l:null}function c(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(n(188))}function p(a){var i=a.alternate;if(!i){if(i=o(a),i===null)throw Error(n(188));return i!==a?null:a}for(var l=a,u=i;;){var h=l.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){l=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===l)return f(h),a;if(g===u)return f(h),i;g=g.sibling}throw Error(n(188))}if(l.return!==u.return)l=h,u=g;else{for(var T=!1,x=h.child;x;){if(x===l){T=!0,l=h,u=g;break}if(x===u){T=!0,u=h,l=g;break}x=x.sibling}if(!T){for(x=g.child;x;){if(x===l){T=!0,l=g,u=h;break}if(x===u){T=!0,u=g,l=h;break}x=x.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?a:i}function m(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=m(a),i!==null)return i;a=a.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),X=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var M=Symbol.for("react.client.reference");function Ae(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===M?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case N:return"Profiler";case P:return"StrictMode";case re:return"Suspense";case he:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case D:return"Portal";case X:return(a.displayName||"Context")+".Provider";case G:return(a._context.displayName||"Context")+".Consumer";case te:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return i=a.displayName||null,i!==null?i:Ae(a.type)||"Memo";case R:i=a._payload,a=a._init;try{return Ae(a(i))}catch{}}return null}var ve=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ne=[],O=-1;function W(a){return{current:a}}function de(a){0>O||(a.current=ne[O],ne[O]=null,O--)}function ce(a,i){O++,ne[O]=a.current,a.current=i}var _e=W(null),Se=W(null),Te=W(null),gt=W(null);function Ye(a,i){switch(ce(Te,i),ce(Se,a),ce(_e,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?c0(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=c0(i),a=d0(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}de(_e),ce(_e,a)}function Cn(){de(_e),de(Se),de(Te)}function nr(a){a.memoizedState!==null&&ce(gt,a);var i=_e.current,l=d0(i,a.type);i!==l&&(ce(Se,a),ce(_e,l))}function jn(a){Se.current===a&&(de(_e),de(Se)),gt.current===a&&(de(gt),fu._currentValue=ue)}var br=Object.prototype.hasOwnProperty,yt=r.unstable_scheduleCallback,Z=r.unstable_cancelCallback,pe=r.unstable_shouldYield,He=r.unstable_requestPaint,Pe=r.unstable_now,rt=r.unstable_getCurrentPriorityLevel,et=r.unstable_ImmediatePriority,We=r.unstable_UserBlockingPriority,en=r.unstable_NormalPriority,wr=r.unstable_LowPriority,zt=r.unstable_IdlePriority,Un=r.log,Ui=r.unstable_setDisableYieldValue,vt=null,ze=null;function Pt(a){if(typeof Un=="function"&&Ui(a),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(vt,a)}catch{}}var tn=Math.clz32?Math.clz32:Bi,pc=Math.log,hh=Math.LN2;function Bi(a){return a>>>=0,a===0?32:31-(pc(a)/hh|0)|0}var Fi=256,zi=4194304;function Er(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Hs(a,i,l){var u=a.pendingLanes;if(u===0)return 0;var h=0,g=a.suspendedLanes,T=a.pingedLanes;a=a.warmLanes;var x=u&134217727;return x!==0?(u=x&~g,u!==0?h=Er(u):(T&=x,T!==0?h=Er(T):l||(l=x&~a,l!==0&&(h=Er(l))))):(x=u&~g,x!==0?h=Er(x):T!==0?h=Er(T):l||(l=u&~a,l!==0&&(h=Er(l)))),h===0?0:i!==0&&i!==h&&(i&g)===0&&(g=h&-h,l=i&-i,g>=l||g===32&&(l&4194048)!==0)?i:h}function Yi(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function fl(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hl(){var a=Fi;return Fi<<=1,(Fi&4194048)===0&&(Fi=256),a}function pl(){var a=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),a}function oa(a){for(var i=[],l=0;31>l;l++)i.push(a);return i}function la(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ml(a,i,l,u,h,g){var T=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var x=a.entanglements,j=a.expirationTimes,K=a.hiddenUpdates;for(l=T&~l;0<l;){var ae=31-tn(l),le=1<<ae;x[ae]=0,j[ae]=-1;var $=K[ae];if($!==null)for(K[ae]=null,ae=0;ae<$.length;ae++){var J=$[ae];J!==null&&(J.lane&=-536870913)}l&=~le}u!==0&&kr(a,u,0),g!==0&&h===0&&a.tag!==0&&(a.suspendedLanes|=g&~(T&~i))}function kr(a,i,l){a.pendingLanes|=i,a.suspendedLanes&=~i;var u=31-tn(i);a.entangledLanes|=i,a.entanglements[u]=a.entanglements[u]|1073741824|l&4194090}function gl(a,i){var l=a.entangledLanes|=i;for(a=a.entanglements;l;){var u=31-tn(l),h=1<<u;h&i|a[u]&i&&(a[u]|=i),l&=~h}}function Ga(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function qs(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ka(){var a=Q.p;return a!==0?a:(a=window.event,a===void 0?32:N0(a.type))}function mc(a,i){var l=Q.p;try{return Q.p=a,i()}finally{Q.p=l}}var Et=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Et,Yt="__reactProps$"+Et,rr="__reactContainer$"+Et,yl="__reactEvents$"+Et,ph="__reactListeners$"+Et,Wa="__reactHandles$"+Et,gc="__reactResources$"+Et,Hi="__reactMarker$"+Et;function $a(a){delete a[Wt],delete a[Yt],delete a[yl],delete a[ph],delete a[Wa]}function ua(a){var i=a[Wt];if(i)return i;for(var l=a.parentNode;l;){if(i=l[rr]||l[Wt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(a=m0(a);a!==null;){if(l=a[Wt])return l;a=m0(a)}return i}a=l,l=a.parentNode}return null}function Mr(a){if(a=a[Wt]||a[rr]){var i=a.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return a}return null}function Or(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(n(33))}function Nn(a){var i=a[gc];return i||(i=a[gc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Vt(a){a[Hi]=!0}var vl=new Set,Qs={};function Tr(a,i){ca(a,i),ca(a+"Capture",i)}function ca(a,i){for(Qs[a]=i,a=0;a<i.length;a++)vl.add(i[a])}var yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},qi={};function _c(a){return br.call(qi,a)?!0:br.call(vc,a)?!1:yc.test(a)?qi[a]=!0:(vc[a]=!0,!1)}function Xa(a,i,l){if(_c(i))if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+l)}}function Ir(a,i,l){if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+l)}}function dn(a,i,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(i,l,""+u)}}var Qi,bc;function da(a){if(Qi===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Qi=i&&i[1]||"",bc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qi+a+bc}var Gs=!1;function Ks(a,i){if(!a||Gs)return"";Gs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var $=J}Reflect.construct(a,[],le)}else{try{le.call()}catch(J){$=J}a.call(le.prototype)}}else{try{throw Error()}catch(J){$=J}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&$&&typeof J.stack=="string")return[J.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],x=g[1];if(T&&x){var j=T.split(`
`),K=x.split(`
`);for(h=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;if(u===j.length||h===K.length)for(u=j.length-1,h=K.length-1;1<=u&&0<=h&&j[u]!==K[h];)h--;for(;1<=u&&0<=h;u--,h--)if(j[u]!==K[h]){if(u!==1||h!==1)do if(u--,h--,0>h||j[u]!==K[h]){var ae=`
`+j[u].replace(" at new "," at ");return a.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",a.displayName)),ae}while(1<=u&&0<=h);break}}}finally{Gs=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?da(l):""}function _l(a){switch(a.tag){case 26:case 27:case 5:return da(a.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 15:return Ks(a.type,!1);case 11:return Ks(a.type.render,!1);case 1:return Ks(a.type,!0);case 31:return da("Activity");default:return""}}function Ws(a){try{var i="";do i+=_l(a),a=a.return;while(a);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function kn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function bl(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mh(a){var i=bl(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),u=""+a[i];if(!a.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,g=l.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return h.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(a,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function $s(a){a._valueTracker||(a._valueTracker=mh(a))}function wl(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return a&&(u=bl(a)?a.checked?"true":"false":a.value),a=u,a!==l?(i.setValue(a),!0):!1}function Gi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var gh=/[\n"\\]/g;function Ht(a){return a.replace(gh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hn(a,i,l,u,h,g,T,x){a.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.type=T:a.removeAttribute("type"),i!=null?T==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+kn(i)):a.value!==""+kn(i)&&(a.value=""+kn(i)):T!=="submit"&&T!=="reset"||a.removeAttribute("value"),i!=null?Za(a,T,kn(i)):l!=null?Za(a,T,kn(l)):u!=null&&a.removeAttribute("value"),h==null&&g!=null&&(a.defaultChecked=!!g),h!=null&&(a.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?a.name=""+kn(x):a.removeAttribute("name")}function Ki(a,i,l,u,h,g,T,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(a.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;l=l!=null?""+kn(l):"",i=i!=null?""+kn(i):l,x||i===a.value||(a.value=i),a.defaultValue=i}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,a.checked=x?a.checked:!!u,a.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.name=T)}function Za(a,i,l){i==="number"&&Gi(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function fa(a,i,l,u){if(a=a.options,i){i={};for(var h=0;h<l.length;h++)i["$"+l[h]]=!0;for(l=0;l<a.length;l++)h=i.hasOwnProperty("$"+a[l].value),a[l].selected!==h&&(a[l].selected=h),h&&u&&(a[l].defaultSelected=!0)}else{for(l=""+kn(l),i=null,h=0;h<a.length;h++){if(a[h].value===l){a[h].selected=!0,u&&(a[h].defaultSelected=!0);return}i!==null||a[h].disabled||(i=a[h])}i!==null&&(i.selected=!0)}}function ft(a,i,l){if(i!=null&&(i=""+kn(i),i!==a.value&&(a.value=i),l==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=l!=null?""+kn(l):""}function Wi(a,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(n(92));if(ve(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=kn(i),a.defaultValue=l,u=a.textContent,u===l&&u!==""&&u!==null&&(a.value=u)}function ar(a,i){if(i){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=i;return}}a.textContent=i}var $i=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wc(a,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":u?a.setProperty(i,l):typeof l!="number"||l===0||$i.has(i)?i==="float"?a.cssFloat=l:a[i]=(""+l).trim():a[i]=l+"px"}function El(a,i,l){if(i!=null&&typeof i!="object")throw Error(n(62));if(a=a.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="");for(var h in i)u=i[h],i.hasOwnProperty(h)&&l[h]!==u&&wc(a,h,u)}else for(var g in i)i.hasOwnProperty(g)&&wc(a,g,i[g])}function Tl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(a){return vh.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ha=null;function ir(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var pa=null,ma=null;function xl(a){var i=Mr(a);if(i&&(a=i.stateNode)){var l=a[Yt]||null;e:switch(a=i.stateNode,i.type){case"input":if(Hn(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ht(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==a&&u.form===a.form){var h=u[Yt]||null;if(!h)throw Error(n(90));Hn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===a.form&&wl(u)}break e;case"textarea":ft(a,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&fa(a,!!l.multiple,i,!1)}}}var Pr=!1;function Ec(a,i,l){if(Pr)return a(i,l);Pr=!0;try{var u=a(i);return u}finally{if(Pr=!1,(pa!==null||ma!==null)&&(md(),pa&&(i=pa,a=ma,ma=pa=null,xl(i),a)))for(i=0;i<a.length;i++)xl(a[i])}}function Xi(a,i){var l=a.stateNode;if(l===null)return null;var u=l[Yt]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(a=a.type,u=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!u;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sr=!1;if(xr)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{sr=!1}var Vr=null,Ja=null,ga=null;function Dl(){if(ga)return ga;var a,i=Ja,l=i.length,u,h="value"in Vr?Vr.value:Vr.textContent,g=h.length;for(a=0;a<l&&i[a]===h[a];a++);var T=l-a;for(u=1;u<=T&&i[l-u]===h[g-u];u++);return ga=h.slice(a,1<u?1-u:void 0)}function Lr(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function jr(){return!0}function Sl(){return!1}function nn(a){function i(l,u,h,g,T){this._reactName=l,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var x in a)a.hasOwnProperty(x)&&(l=a[x],this[x]=l?l(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?jr:Sl,this.isPropagationStopped=Sl,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),i}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=nn(st),Ji=y({},st,{view:0,detail:0}),Tc=nn(Ji),Js,eo,Ur,es=y({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ur&&(Ur&&a.type==="mousemove"?(Js=a.screenX-Ur.screenX,eo=a.screenY-Ur.screenY):eo=Js=0,Ur=a),Js)},movementY:function(a){return"movementY"in a?a.movementY:eo}}),or=nn(es),xc=y({},es,{dataTransfer:0}),_h=nn(xc),ts=y({},Ji,{relatedTarget:0}),to=nn(ts),Al=y({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),no=nn(Al),Dc=y({},st,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ro=nn(Dc),bh=y({},st,{data:0}),Rl=nn(bh),ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=Ac[a])?!!i[a]:!1}function rs(){return Cl}var Rc=y({},Ji,{key:function(a){if(a.key){var i=ns[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=Lr(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Sc[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(a){return a.type==="keypress"?Lr(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Lr(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ao=nn(Rc),Cc=y({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nl=nn(Cc),ya=y({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),Nc=nn(ya),kc=y({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mc=nn(kc),Oc=y({},es,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),io=nn(Oc),Mn=y({},st,{newState:0,oldState:0}),Ic=nn(Mn),Pc=[9,13,27,32],Br=xr&&"CompositionEvent"in window,d=null;xr&&"documentMode"in document&&(d=document.documentMode);var v=xr&&"TextEvent"in window&&!d,E=xr&&(!Br||d&&8<d&&11>=d),A=" ",H=!1;function ee(a,i){switch(a){case"keyup":return Pc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var qe=!1;function $t(a,i){switch(a){case"compositionend":return me(i);case"keypress":return i.which!==32?null:(H=!0,A);case"textInput":return a=i.data,a===A&&H?null:a;default:return null}}function Qe(a,i){if(qe)return a==="compositionend"||!Br&&ee(a,i)?(a=Dl(),ga=Ja=Vr=null,qe=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xt(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!rn[a.type]:i==="textarea"}function va(a,i,l,u){pa?ma?ma.push(u):ma=[u]:pa=u,i=wd(i,"onChange"),0<i.length&&(l=new Zs("onChange","change",null,l,u),a.push({event:l,listeners:i}))}var fn=null,Fr=null;function kl(a){i0(a,0)}function Vc(a){var i=Or(a);if(wl(i))return a}function Sy(a,i){if(a==="change")return i}var Ay=!1;if(xr){var wh;if(xr){var Eh="oninput"in document;if(!Eh){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),Eh=typeof Ry.oninput=="function"}wh=Eh}else wh=!1;Ay=wh&&(!document.documentMode||9<document.documentMode)}function Cy(){fn&&(fn.detachEvent("onpropertychange",Ny),Fr=fn=null)}function Ny(a){if(a.propertyName==="value"&&Vc(Fr)){var i=[];va(i,Fr,a,ir(a)),Ec(kl,i)}}function $x(a,i,l){a==="focusin"?(Cy(),fn=i,Fr=l,fn.attachEvent("onpropertychange",Ny)):a==="focusout"&&Cy()}function Xx(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Vc(Fr)}function Zx(a,i){if(a==="click")return Vc(i)}function Jx(a,i){if(a==="input"||a==="change")return Vc(i)}function eD(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var qn=typeof Object.is=="function"?Object.is:eD;function Ml(a,i){if(qn(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var l=Object.keys(a),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var h=l[u];if(!br.call(i,h)||!qn(a[h],i[h]))return!1}return!0}function ky(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function My(a,i){var l=ky(a);a=0;for(var u;l;){if(l.nodeType===3){if(u=a+l.textContent.length,a<=i&&u>=i)return{node:l,offset:i-a};a=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ky(l)}}function Oy(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?Oy(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function Iy(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=Gi(a.document);i instanceof a.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)a=i.contentWindow;else break;i=Gi(a.document)}return i}function Th(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var tD=xr&&"documentMode"in document&&11>=document.documentMode,so=null,xh=null,Ol=null,Dh=!1;function Py(a,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Dh||so==null||so!==Gi(u)||(u=so,"selectionStart"in u&&Th(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ol&&Ml(Ol,u)||(Ol=u,u=wd(xh,"onSelect"),0<u.length&&(i=new Zs("onSelect","select",null,i,l),a.push({event:i,listeners:u}),i.target=so)))}function as(a,i){var l={};return l[a.toLowerCase()]=i.toLowerCase(),l["Webkit"+a]="webkit"+i,l["Moz"+a]="moz"+i,l}var oo={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Sh={},Vy={};xr&&(Vy=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function is(a){if(Sh[a])return Sh[a];if(!oo[a])return a;var i=oo[a],l;for(l in i)if(i.hasOwnProperty(l)&&l in Vy)return Sh[a]=i[l];return a}var Ly=is("animationend"),jy=is("animationiteration"),Uy=is("animationstart"),nD=is("transitionrun"),rD=is("transitionstart"),aD=is("transitioncancel"),By=is("transitionend"),Fy=new Map,Ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ah.push("scrollEnd");function Dr(a,i){Fy.set(a,i),Tr(i,[a])}var zy=new WeakMap;function lr(a,i){if(typeof a=="object"&&a!==null){var l=zy.get(a);return l!==void 0?l:(i={value:a,source:i,stack:Ws(i)},zy.set(a,i),i)}return{value:a,source:i,stack:Ws(i)}}var ur=[],lo=0,Rh=0;function Lc(){for(var a=lo,i=Rh=lo=0;i<a;){var l=ur[i];ur[i++]=null;var u=ur[i];ur[i++]=null;var h=ur[i];ur[i++]=null;var g=ur[i];if(ur[i++]=null,u!==null&&h!==null){var T=u.pending;T===null?h.next=h:(h.next=T.next,T.next=h),u.pending=h}g!==0&&Yy(l,h,g)}}function jc(a,i,l,u){ur[lo++]=a,ur[lo++]=i,ur[lo++]=l,ur[lo++]=u,Rh|=u,a.lanes|=u,a=a.alternate,a!==null&&(a.lanes|=u)}function Ch(a,i,l,u){return jc(a,i,l,u),Uc(a)}function uo(a,i){return jc(a,null,null,i),Uc(a)}function Yy(a,i,l){a.lanes|=l;var u=a.alternate;u!==null&&(u.lanes|=l);for(var h=!1,g=a.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(a=g.stateNode,a===null||a._visibility&1||(h=!0)),a=g,g=g.return;return a.tag===3?(g=a.stateNode,h&&i!==null&&(h=31-tn(l),a=g.hiddenUpdates,u=a[h],u===null?a[h]=[i]:u.push(i),i.lane=l|536870912),g):null}function Uc(a){if(50<au)throw au=0,Pp=null,Error(n(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var co={};function iD(a,i,l,u){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(a,i,l,u){return new iD(a,i,l,u)}function Nh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function _a(a,i){var l=a.alternate;return l===null?(l=Qn(a.tag,i,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=i,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,i=a.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function Hy(a,i){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,i=l.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function Bc(a,i,l,u,h,g){var T=0;if(u=a,typeof a=="function")Nh(a)&&(T=1);else if(typeof a=="string")T=oS(a,l,_e.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=Qn(31,l,i,h),a.elementType=k,a.lanes=g,a;case S:return ss(l.children,h,g,i);case P:T=8,h|=24;break;case N:return a=Qn(12,l,i,h|2),a.elementType=N,a.lanes=g,a;case re:return a=Qn(13,l,i,h),a.elementType=re,a.lanes=g,a;case he:return a=Qn(19,l,i,h),a.elementType=he,a.lanes=g,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:case X:T=10;break e;case G:T=9;break e;case te:T=11;break e;case I:T=14;break e;case R:T=16,u=null;break e}T=29,l=Error(n(130,a===null?"null":typeof a,"")),u=null}return i=Qn(T,l,i,h),i.elementType=a,i.type=u,i.lanes=g,i}function ss(a,i,l,u){return a=Qn(7,a,u,i),a.lanes=l,a}function kh(a,i,l){return a=Qn(6,a,null,i),a.lanes=l,a}function Mh(a,i,l){return i=Qn(4,a.children!==null?a.children:[],a.key,i),i.lanes=l,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var fo=[],ho=0,Fc=null,zc=0,cr=[],dr=0,os=null,ba=1,wa="";function ls(a,i){fo[ho++]=zc,fo[ho++]=Fc,Fc=a,zc=i}function qy(a,i,l){cr[dr++]=ba,cr[dr++]=wa,cr[dr++]=os,os=a;var u=ba;a=wa;var h=32-tn(u)-1;u&=~(1<<h),l+=1;var g=32-tn(i)+h;if(30<g){var T=h-h%5;g=(u&(1<<T)-1).toString(32),u>>=T,h-=T,ba=1<<32-tn(i)+h|l<<h|u,wa=g+a}else ba=1<<g|l<<h|u,wa=a}function Oh(a){a.return!==null&&(ls(a,1),qy(a,1,0))}function Ih(a){for(;a===Fc;)Fc=fo[--ho],fo[ho]=null,zc=fo[--ho],fo[ho]=null;for(;a===os;)os=cr[--dr],cr[dr]=null,wa=cr[--dr],cr[dr]=null,ba=cr[--dr],cr[dr]=null}var On=null,Nt=null,at=!1,us=null,zr=!1,Ph=Error(n(519));function cs(a){var i=Error(n(418,""));throw Vl(lr(i,a)),Ph}function Qy(a){var i=a.stateNode,l=a.type,u=a.memoizedProps;switch(i[Wt]=a,i[Yt]=u,l){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(l=0;l<su.length;l++)Be(su[l],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),Ki(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),$s(i);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),Wi(i,u.value,u.defaultValue,u.children),$s(i)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||u0(i.textContent,l)?(u.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),u.onScroll!=null&&Be("scroll",i),u.onScrollEnd!=null&&Be("scrollend",i),u.onClick!=null&&(i.onclick=Ed),i=!0):i=!1,i||cs(a)}function Gy(a){for(On=a.return;On;)switch(On.tag){case 5:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:On=On.return}}function Il(a){if(a!==On)return!1;if(!at)return Gy(a),at=!0,!1;var i=a.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||Xp(a.type,a.memoizedProps)),l=!l),l&&Nt&&cs(a),Gy(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(i===0){Nt=Ar(a.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;a=a.nextSibling}Nt=null}}else i===27?(i=Nt,mi(a.type)?(a=tm,tm=null,Nt=a):Nt=i):Nt=On?Ar(a.stateNode.nextSibling):null;return!0}function Pl(){Nt=On=null,at=!1}function Ky(){var a=us;return a!==null&&(zn===null?zn=a:zn.push.apply(zn,a),us=null),a}function Vl(a){us===null?us=[a]:us.push(a)}var Vh=W(null),ds=null,Ea=null;function ei(a,i,l){ce(Vh,i._currentValue),i._currentValue=l}function Ta(a){a._currentValue=Vh.current,de(Vh)}function Lh(a,i,l){for(;a!==null;){var u=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),a===l)break;a=a.return}}function jh(a,i,l,u){var h=a.child;for(h!==null&&(h.return=a);h!==null;){var g=h.dependencies;if(g!==null){var T=h.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=h;for(var j=0;j<i.length;j++)if(x.context===i[j]){g.lanes|=l,x=g.alternate,x!==null&&(x.lanes|=l),Lh(g.return,l,a),u||(T=null);break e}g=x.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(n(341));T.lanes|=l,g=T.alternate,g!==null&&(g.lanes|=l),Lh(T,l,a),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===a){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Ll(a,i,l,u){a=null;for(var h=i,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(n(387));if(T=T.memoizedProps,T!==null){var x=h.type;qn(h.pendingProps.value,T.value)||(a!==null?a.push(x):a=[x])}}else if(h===gt.current){if(T=h.alternate,T===null)throw Error(n(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(a!==null?a.push(fu):a=[fu])}h=h.return}a!==null&&jh(i,a,l,u),i.flags|=262144}function Yc(a){for(a=a.firstContext;a!==null;){if(!qn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function fs(a){ds=a,Ea=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function En(a){return Wy(ds,a)}function Hc(a,i){return ds===null&&fs(a),Wy(a,i)}function Wy(a,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ea===null){if(a===null)throw Error(n(308));Ea=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else Ea=Ea.next=i;return l}var sD=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(l,u){a.push(u)}};this.abort=function(){i.aborted=!0,a.forEach(function(l){return l()})}},oD=r.unstable_scheduleCallback,lD=r.unstable_NormalPriority,Zt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new sD,data:new Map,refCount:0}}function jl(a){a.refCount--,a.refCount===0&&oD(lD,function(){a.controller.abort()})}var Ul=null,Bh=0,po=0,mo=null;function uD(a,i){if(Ul===null){var l=Ul=[];Bh=0,po=zp(),mo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Bh++,i.then($y,$y),i}function $y(){if(--Bh===0&&Ul!==null){mo!==null&&(mo.status="fulfilled");var a=Ul;Ul=null,po=0,mo=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function cD(a,i){var l=[],u={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return a.then(function(){u.status="fulfilled",u.value=i;for(var h=0;h<l.length;h++)(0,l[h])(i)},function(h){for(u.status="rejected",u.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),u}var Xy=Y.S;Y.S=function(a,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&uD(a,i),Xy!==null&&Xy(a,i)};var hs=W(null);function Fh(){var a=hs.current;return a!==null?a:wt.pooledCache}function qc(a,i){i===null?ce(hs,hs.current):ce(hs,i.pool)}function Zy(){var a=Fh();return a===null?null:{parent:Zt._currentValue,pool:a}}var Bl=Error(n(460)),Jy=Error(n(474)),Qc=Error(n(542)),zh={then:function(){}};function ev(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Gc(){}function tv(a,i,l){switch(l=a[l],l===void 0?a.push(i):l!==i&&(i.then(Gc,Gc),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,rv(a),a;default:if(typeof i.status=="string")i.then(Gc,Gc);else{if(a=wt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=i,a.status="pending",a.then(function(u){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=u}},function(u){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,rv(a),a}throw Fl=i,Bl}}var Fl=null;function nv(){if(Fl===null)throw Error(n(459));var a=Fl;return Fl=null,a}function rv(a){if(a===Bl||a===Qc)throw Error(n(483))}var ti=!1;function Yh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ni(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ri(a,i,l){var u=a.updateQueue;if(u===null)return null;if(u=u.shared,(lt&2)!==0){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,i=Uc(a),Yy(a,null,l),i}return jc(a,u,i,l),Uc(a)}function zl(a,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=a.pendingLanes,l|=u,i.lanes=l,gl(a,l)}}function qh(a,i){var l=a.updateQueue,u=a.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var h=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?h=g=T:g=g.next=T,l=l.next}while(l!==null);g===null?h=g=i:g=g.next=i}else h=g=i;l={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=i:a.next=i,l.lastBaseUpdate=i}var Qh=!1;function Yl(){if(Qh){var a=mo;if(a!==null)throw a}}function Hl(a,i,l,u){Qh=!1;var h=a.updateQueue;ti=!1;var g=h.firstBaseUpdate,T=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var j=x,K=j.next;j.next=null,T===null?g=K:T.next=K,T=j;var ae=a.alternate;ae!==null&&(ae=ae.updateQueue,x=ae.lastBaseUpdate,x!==T&&(x===null?ae.firstBaseUpdate=K:x.next=K,ae.lastBaseUpdate=j))}if(g!==null){var le=h.baseState;T=0,ae=K=j=null,x=g;do{var $=x.lane&-536870913,J=$!==x.lane;if(J?(Ge&$)===$:(u&$)===$){$!==0&&$===po&&(Qh=!0),ae!==null&&(ae=ae.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ke=a,Re=x;$=i;var mt=l;switch(Re.tag){case 1:if(ke=Re.payload,typeof ke=="function"){le=ke.call(mt,le,$);break e}le=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Re.payload,$=typeof ke=="function"?ke.call(mt,le,$):ke,$==null)break e;le=y({},le,$);break e;case 2:ti=!0}}$=x.callback,$!==null&&(a.flags|=64,J&&(a.flags|=8192),J=h.callbacks,J===null?h.callbacks=[$]:J.push($))}else J={lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ae===null?(K=ae=J,j=le):ae=ae.next=J,T|=$;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;J=x,x=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);ae===null&&(j=le),h.baseState=j,h.firstBaseUpdate=K,h.lastBaseUpdate=ae,g===null&&(h.shared.lanes=0),di|=T,a.lanes=T,a.memoizedState=le}}function av(a,i){if(typeof a!="function")throw Error(n(191,a));a.call(i)}function iv(a,i){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)av(l[a],i)}var go=W(null),Kc=W(0);function sv(a,i){a=Na,ce(Kc,a),ce(go,i),Na=a|i.baseLanes}function Gh(){ce(Kc,Na),ce(go,go.current)}function Kh(){Na=Kc.current,de(go),de(Kc)}var ai=0,Ve=null,ht=null,qt=null,Wc=!1,yo=!1,ps=!1,$c=0,ql=0,vo=null,dD=0;function Lt(){throw Error(n(321))}function Wh(a,i){if(i===null)return!1;for(var l=0;l<i.length&&l<a.length;l++)if(!qn(a[l],i[l]))return!1;return!0}function $h(a,i,l,u,h,g){return ai=g,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=a===null||a.memoizedState===null?Yv:Hv,ps=!1,g=l(u,h),ps=!1,yo&&(g=lv(i,l,u,h)),ov(a),g}function ov(a){Y.H=nd;var i=ht!==null&&ht.next!==null;if(ai=0,qt=ht=Ve=null,Wc=!1,ql=0,vo=null,i)throw Error(n(300));a===null||an||(a=a.dependencies,a!==null&&Yc(a)&&(an=!0))}function lv(a,i,l,u){Ve=a;var h=0;do{if(yo&&(vo=null),ql=0,yo=!1,25<=h)throw Error(n(301));if(h+=1,qt=ht=null,a.updateQueue!=null){var g=a.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=vD,g=i(l,u)}while(yo);return g}function fD(){var a=Y.H,i=a.useState()[0];return i=typeof i.then=="function"?Ql(i):i,a=a.useState()[0],(ht!==null?ht.memoizedState:null)!==a&&(Ve.flags|=1024),i}function Xh(){var a=$c!==0;return $c=0,a}function Zh(a,i,l){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~l}function Jh(a){if(Wc){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}Wc=!1}ai=0,qt=ht=Ve=null,yo=!1,ql=$c=0,vo=null}function Bn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ve.memoizedState=qt=a:qt=qt.next=a,qt}function Qt(){if(ht===null){var a=Ve.alternate;a=a!==null?a.memoizedState:null}else a=ht.next;var i=qt===null?Ve.memoizedState:qt.next;if(i!==null)qt=i,ht=a;else{if(a===null)throw Ve.alternate===null?Error(n(467)):Error(n(310));ht=a,a={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},qt===null?Ve.memoizedState=qt=a:qt=qt.next=a}return qt}function ep(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(a){var i=ql;return ql+=1,vo===null&&(vo=[]),a=tv(vo,a,i),i=Ve,(qt===null?i.memoizedState:qt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Yv:Hv),a}function Xc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ql(a);if(a.$$typeof===X)return En(a)}throw Error(n(438,String(a)))}function tp(a){var i=null,l=Ve.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Ve.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=ep(),Ve.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(a),u=0;u<a;u++)l[u]=V;return i.index++,l}function xa(a,i){return typeof i=="function"?i(a):i}function Zc(a){var i=Qt();return np(i,ht,a)}function np(a,i,l){var u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=l;var h=a.baseQueue,g=u.pending;if(g!==null){if(h!==null){var T=h.next;h.next=g.next,g.next=T}i.baseQueue=h=g,u.pending=null}if(g=a.baseState,h===null)a.memoizedState=g;else{i=h.next;var x=T=null,j=null,K=i,ae=!1;do{var le=K.lane&-536870913;if(le!==K.lane?(Ge&le)===le:(ai&le)===le){var $=K.revertLane;if($===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),le===po&&(ae=!0);else if((ai&$)===$){K=K.next,$===po&&(ae=!0);continue}else le={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(x=j=le,T=g):j=j.next=le,Ve.lanes|=$,di|=$;le=K.action,ps&&l(g,le),g=K.hasEagerState?K.eagerState:l(g,le)}else $={lane:le,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(x=j=$,T=g):j=j.next=$,Ve.lanes|=le,di|=le;K=K.next}while(K!==null&&K!==i);if(j===null?T=g:j.next=x,!qn(g,a.memoizedState)&&(an=!0,ae&&(l=mo,l!==null)))throw l;a.memoizedState=g,a.baseState=T,a.baseQueue=j,u.lastRenderedState=g}return h===null&&(u.lanes=0),[a.memoizedState,u.dispatch]}function rp(a){var i=Qt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=a;var u=l.dispatch,h=l.pending,g=i.memoizedState;if(h!==null){l.pending=null;var T=h=h.next;do g=a(g,T.action),T=T.next;while(T!==h);qn(g,i.memoizedState)||(an=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,u]}function uv(a,i,l){var u=Ve,h=Qt(),g=at;if(g){if(l===void 0)throw Error(n(407));l=l()}else l=i();var T=!qn((ht||h).memoizedState,l);T&&(h.memoizedState=l,an=!0),h=h.queue;var x=fv.bind(null,u,h,a);if(Gl(2048,8,x,[a]),h.getSnapshot!==i||T||qt!==null&&qt.memoizedState.tag&1){if(u.flags|=2048,_o(9,Jc(),dv.bind(null,u,h,l,i),null),wt===null)throw Error(n(349));g||(ai&124)!==0||cv(u,i,l)}return l}function cv(a,i,l){a.flags|=16384,a={getSnapshot:i,value:l},i=Ve.updateQueue,i===null?(i=ep(),Ve.updateQueue=i,i.stores=[a]):(l=i.stores,l===null?i.stores=[a]:l.push(a))}function dv(a,i,l,u){i.value=l,i.getSnapshot=u,hv(i)&&pv(a)}function fv(a,i,l){return l(function(){hv(i)&&pv(a)})}function hv(a){var i=a.getSnapshot;a=a.value;try{var l=i();return!qn(a,l)}catch{return!0}}function pv(a){var i=uo(a,2);i!==null&&Xn(i,a,2)}function ap(a){var i=Bn();if(typeof a=="function"){var l=a;if(a=l(),ps){Pt(!0);try{l()}finally{Pt(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:a},i}function mv(a,i,l,u){return a.baseState=l,np(a,ht,typeof u=="function"?u:xa)}function hD(a,i,l,u,h){if(td(a))throw Error(n(485));if(a=i.action,a!==null){var g={payload:h,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};Y.T!==null?l(!0):g.isTransition=!1,u(g),l=i.pending,l===null?(g.next=i.pending=g,gv(i,g)):(g.next=l.next,i.pending=l.next=g)}}function gv(a,i){var l=i.action,u=i.payload,h=a.state;if(i.isTransition){var g=Y.T,T={};Y.T=T;try{var x=l(h,u),j=Y.S;j!==null&&j(T,x),yv(a,i,x)}catch(K){ip(a,i,K)}finally{Y.T=g}}else try{g=l(h,u),yv(a,i,g)}catch(K){ip(a,i,K)}}function yv(a,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){vv(a,i,u)},function(u){return ip(a,i,u)}):vv(a,i,l)}function vv(a,i,l){i.status="fulfilled",i.value=l,_v(i),a.state=l,i=a.pending,i!==null&&(l=i.next,l===i?a.pending=null:(l=l.next,i.next=l,gv(a,l)))}function ip(a,i,l){var u=a.pending;if(a.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,_v(i),i=i.next;while(i!==u)}a.action=null}function _v(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function bv(a,i){return i}function wv(a,i){if(at){var l=wt.formState;if(l!==null){e:{var u=Ve;if(at){if(Nt){t:{for(var h=Nt,g=zr;h.nodeType!==8;){if(!g){h=null;break t}if(h=Ar(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Nt=Ar(h.nextSibling),u=h.data==="F!";break e}}cs(u)}u=!1}u&&(i=l[0])}}return l=Bn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bv,lastRenderedState:i},l.queue=u,l=Bv.bind(null,Ve,u),u.dispatch=l,u=ap(!1),g=cp.bind(null,Ve,!1,u.queue),u=Bn(),h={state:i,dispatch:null,action:a,pending:null},u.queue=h,l=hD.bind(null,Ve,h,g,l),h.dispatch=l,u.memoizedState=a,[i,l,!1]}function Ev(a){var i=Qt();return Tv(i,ht,a)}function Tv(a,i,l){if(i=np(a,i,bv)[0],a=Zc(xa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Ql(i)}catch(T){throw T===Bl?Qc:T}else u=i;i=Qt();var h=i.queue,g=h.dispatch;return l!==i.memoizedState&&(Ve.flags|=2048,_o(9,Jc(),pD.bind(null,h,l),null)),[u,g,a]}function pD(a,i){a.action=i}function xv(a){var i=Qt(),l=ht;if(l!==null)return Tv(i,l,a);Qt(),i=i.memoizedState,l=Qt();var u=l.queue.dispatch;return l.memoizedState=a,[i,u,!1]}function _o(a,i,l,u){return a={tag:a,create:l,deps:u,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=ep(),Ve.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=a.next=a:(u=l.next,l.next=a,a.next=u,i.lastEffect=a),a}function Jc(){return{destroy:void 0,resource:void 0}}function Dv(){return Qt().memoizedState}function ed(a,i,l,u){var h=Bn();u=u===void 0?null:u,Ve.flags|=a,h.memoizedState=_o(1|i,Jc(),l,u)}function Gl(a,i,l,u){var h=Qt();u=u===void 0?null:u;var g=h.memoizedState.inst;ht!==null&&u!==null&&Wh(u,ht.memoizedState.deps)?h.memoizedState=_o(i,g,l,u):(Ve.flags|=a,h.memoizedState=_o(1|i,g,l,u))}function Sv(a,i){ed(8390656,8,a,i)}function Av(a,i){Gl(2048,8,a,i)}function Rv(a,i){return Gl(4,2,a,i)}function Cv(a,i){return Gl(4,4,a,i)}function Nv(a,i){if(typeof i=="function"){a=a();var l=i(a);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function kv(a,i,l){l=l!=null?l.concat([a]):null,Gl(4,4,Nv.bind(null,i,a),l)}function sp(){}function Mv(a,i){var l=Qt();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Wh(i,u[1])?u[0]:(l.memoizedState=[a,i],a)}function Ov(a,i){var l=Qt();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Wh(i,u[1]))return u[0];if(u=a(),ps){Pt(!0);try{a()}finally{Pt(!1)}}return l.memoizedState=[u,i],u}function op(a,i,l){return l===void 0||(ai&1073741824)!==0?a.memoizedState=i:(a.memoizedState=l,a=V_(),Ve.lanes|=a,di|=a,l)}function Iv(a,i,l,u){return qn(l,i)?l:go.current!==null?(a=op(a,l,u),qn(a,i)||(an=!0),a):(ai&42)===0?(an=!0,a.memoizedState=l):(a=V_(),Ve.lanes|=a,di|=a,i)}function Pv(a,i,l,u,h){var g=Q.p;Q.p=g!==0&&8>g?g:8;var T=Y.T,x={};Y.T=x,cp(a,!1,i,l);try{var j=h(),K=Y.S;if(K!==null&&K(x,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ae=cD(j,u);Kl(a,i,ae,$n(a))}else Kl(a,i,u,$n(a))}catch(le){Kl(a,i,{then:function(){},status:"rejected",reason:le},$n())}finally{Q.p=g,Y.T=T}}function mD(){}function lp(a,i,l,u){if(a.tag!==5)throw Error(n(476));var h=Vv(a).queue;Pv(a,h,i,ue,l===null?mD:function(){return Lv(a),l(u)})}function Vv(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:ue},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:l},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function Lv(a){var i=Vv(a).next.queue;Kl(a,i,{},$n())}function up(){return En(fu)}function jv(){return Qt().memoizedState}function Uv(){return Qt().memoizedState}function gD(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var l=$n();a=ni(l);var u=ri(i,a,l);u!==null&&(Xn(u,i,l),zl(u,i,l)),i={cache:Uh()},a.payload=i;return}i=i.return}}function yD(a,i,l){var u=$n();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},td(a)?Fv(i,l):(l=Ch(a,i,l,u),l!==null&&(Xn(l,a,u),zv(l,i,u)))}function Bv(a,i,l){var u=$n();Kl(a,i,l,u)}function Kl(a,i,l,u){var h={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(td(a))Fv(i,h);else{var g=a.alternate;if(a.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,x=g(T,l);if(h.hasEagerState=!0,h.eagerState=x,qn(x,T))return jc(a,i,h,0),wt===null&&Lc(),!1}catch{}finally{}if(l=Ch(a,i,h,u),l!==null)return Xn(l,a,u),zv(l,i,u),!0}return!1}function cp(a,i,l,u){if(u={lane:2,revertLane:zp(),action:u,hasEagerState:!1,eagerState:null,next:null},td(a)){if(i)throw Error(n(479))}else i=Ch(a,l,u,2),i!==null&&Xn(i,a,2)}function td(a){var i=a.alternate;return a===Ve||i!==null&&i===Ve}function Fv(a,i){yo=Wc=!0;var l=a.pending;l===null?i.next=i:(i.next=l.next,l.next=i),a.pending=i}function zv(a,i,l){if((l&4194048)!==0){var u=i.lanes;u&=a.pendingLanes,l|=u,i.lanes=l,gl(a,l)}}var nd={readContext:En,use:Xc,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},Yv={readContext:En,use:Xc,useCallback:function(a,i){return Bn().memoizedState=[a,i===void 0?null:i],a},useContext:En,useEffect:Sv,useImperativeHandle:function(a,i,l){l=l!=null?l.concat([a]):null,ed(4194308,4,Nv.bind(null,i,a),l)},useLayoutEffect:function(a,i){return ed(4194308,4,a,i)},useInsertionEffect:function(a,i){ed(4,2,a,i)},useMemo:function(a,i){var l=Bn();i=i===void 0?null:i;var u=a();if(ps){Pt(!0);try{a()}finally{Pt(!1)}}return l.memoizedState=[u,i],u},useReducer:function(a,i,l){var u=Bn();if(l!==void 0){var h=l(i);if(ps){Pt(!0);try{l(i)}finally{Pt(!1)}}}else h=i;return u.memoizedState=u.baseState=h,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:h},u.queue=a,a=a.dispatch=yD.bind(null,Ve,a),[u.memoizedState,a]},useRef:function(a){var i=Bn();return a={current:a},i.memoizedState=a},useState:function(a){a=ap(a);var i=a.queue,l=Bv.bind(null,Ve,i);return i.dispatch=l,[a.memoizedState,l]},useDebugValue:sp,useDeferredValue:function(a,i){var l=Bn();return op(l,a,i)},useTransition:function(){var a=ap(!1);return a=Pv.bind(null,Ve,a.queue,!0,!1),Bn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,l){var u=Ve,h=Bn();if(at){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),wt===null)throw Error(n(349));(Ge&124)!==0||cv(u,i,l)}h.memoizedState=l;var g={value:l,getSnapshot:i};return h.queue=g,Sv(fv.bind(null,u,g,a),[a]),u.flags|=2048,_o(9,Jc(),dv.bind(null,u,g,l,i),null),l},useId:function(){var a=Bn(),i=wt.identifierPrefix;if(at){var l=wa,u=ba;l=(u&~(1<<32-tn(u)-1)).toString(32)+l,i=""+i+"R"+l,l=$c++,0<l&&(i+="H"+l.toString(32)),i+=""}else l=dD++,i=""+i+"r"+l.toString(32)+"";return a.memoizedState=i},useHostTransitionStatus:up,useFormState:wv,useActionState:wv,useOptimistic:function(a){var i=Bn();i.memoizedState=i.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=cp.bind(null,Ve,!0,l),l.dispatch=i,[a,i]},useMemoCache:tp,useCacheRefresh:function(){return Bn().memoizedState=gD.bind(null,Ve)}},Hv={readContext:En,use:Xc,useCallback:Mv,useContext:En,useEffect:Av,useImperativeHandle:kv,useInsertionEffect:Rv,useLayoutEffect:Cv,useMemo:Ov,useReducer:Zc,useRef:Dv,useState:function(){return Zc(xa)},useDebugValue:sp,useDeferredValue:function(a,i){var l=Qt();return Iv(l,ht.memoizedState,a,i)},useTransition:function(){var a=Zc(xa)[0],i=Qt().memoizedState;return[typeof a=="boolean"?a:Ql(a),i]},useSyncExternalStore:uv,useId:jv,useHostTransitionStatus:up,useFormState:Ev,useActionState:Ev,useOptimistic:function(a,i){var l=Qt();return mv(l,ht,a,i)},useMemoCache:tp,useCacheRefresh:Uv},vD={readContext:En,use:Xc,useCallback:Mv,useContext:En,useEffect:Av,useImperativeHandle:kv,useInsertionEffect:Rv,useLayoutEffect:Cv,useMemo:Ov,useReducer:rp,useRef:Dv,useState:function(){return rp(xa)},useDebugValue:sp,useDeferredValue:function(a,i){var l=Qt();return ht===null?op(l,a,i):Iv(l,ht.memoizedState,a,i)},useTransition:function(){var a=rp(xa)[0],i=Qt().memoizedState;return[typeof a=="boolean"?a:Ql(a),i]},useSyncExternalStore:uv,useId:jv,useHostTransitionStatus:up,useFormState:xv,useActionState:xv,useOptimistic:function(a,i){var l=Qt();return ht!==null?mv(l,ht,a,i):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:tp,useCacheRefresh:Uv},bo=null,Wl=0;function rd(a){var i=Wl;return Wl+=1,bo===null&&(bo=[]),tv(bo,a,i)}function $l(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function ad(a,i){throw i.$$typeof===b?Error(n(525)):(a=Object.prototype.toString.call(i),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function qv(a){var i=a._init;return i(a._payload)}function Qv(a){function i(z,F){if(a){var q=z.deletions;q===null?(z.deletions=[F],z.flags|=16):q.push(F)}}function l(z,F){if(!a)return null;for(;F!==null;)i(z,F),F=F.sibling;return null}function u(z){for(var F=new Map;z!==null;)z.key!==null?F.set(z.key,z):F.set(z.index,z),z=z.sibling;return F}function h(z,F){return z=_a(z,F),z.index=0,z.sibling=null,z}function g(z,F,q){return z.index=q,a?(q=z.alternate,q!==null?(q=q.index,q<F?(z.flags|=67108866,F):q):(z.flags|=67108866,F)):(z.flags|=1048576,F)}function T(z){return a&&z.alternate===null&&(z.flags|=67108866),z}function x(z,F,q,se){return F===null||F.tag!==6?(F=kh(q,z.mode,se),F.return=z,F):(F=h(F,q),F.return=z,F)}function j(z,F,q,se){var be=q.type;return be===S?ae(z,F,q.props.children,se,q.key):F!==null&&(F.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&qv(be)===F.type)?(F=h(F,q.props),$l(F,q),F.return=z,F):(F=Bc(q.type,q.key,q.props,null,z.mode,se),$l(F,q),F.return=z,F)}function K(z,F,q,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=Mh(q,z.mode,se),F.return=z,F):(F=h(F,q.children||[]),F.return=z,F)}function ae(z,F,q,se,be){return F===null||F.tag!==7?(F=ss(q,z.mode,se,be),F.return=z,F):(F=h(F,q),F.return=z,F)}function le(z,F,q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=kh(""+F,z.mode,q),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return q=Bc(F.type,F.key,F.props,null,z.mode,q),$l(q,F),q.return=z,q;case D:return F=Mh(F,z.mode,q),F.return=z,F;case R:var se=F._init;return F=se(F._payload),le(z,F,q)}if(ve(F)||B(F))return F=ss(F,z.mode,q,null),F.return=z,F;if(typeof F.then=="function")return le(z,rd(F),q);if(F.$$typeof===X)return le(z,Hc(z,F),q);ad(z,F)}return null}function $(z,F,q,se){var be=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return be!==null?null:x(z,F,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===be?j(z,F,q,se):null;case D:return q.key===be?K(z,F,q,se):null;case R:return be=q._init,q=be(q._payload),$(z,F,q,se)}if(ve(q)||B(q))return be!==null?null:ae(z,F,q,se,null);if(typeof q.then=="function")return $(z,F,rd(q),se);if(q.$$typeof===X)return $(z,F,Hc(z,q),se);ad(z,q)}return null}function J(z,F,q,se,be){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return z=z.get(q)||null,x(F,z,""+se,be);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return z=z.get(se.key===null?q:se.key)||null,j(F,z,se,be);case D:return z=z.get(se.key===null?q:se.key)||null,K(F,z,se,be);case R:var je=se._init;return se=je(se._payload),J(z,F,q,se,be)}if(ve(se)||B(se))return z=z.get(q)||null,ae(F,z,se,be,null);if(typeof se.then=="function")return J(z,F,q,rd(se),be);if(se.$$typeof===X)return J(z,F,q,Hc(F,se),be);ad(F,se)}return null}function ke(z,F,q,se){for(var be=null,je=null,xe=F,Ce=F=0,on=null;xe!==null&&Ce<q.length;Ce++){xe.index>Ce?(on=xe,xe=null):on=xe.sibling;var tt=$(z,xe,q[Ce],se);if(tt===null){xe===null&&(xe=on);break}a&&xe&&tt.alternate===null&&i(z,xe),F=g(tt,F,Ce),je===null?be=tt:je.sibling=tt,je=tt,xe=on}if(Ce===q.length)return l(z,xe),at&&ls(z,Ce),be;if(xe===null){for(;Ce<q.length;Ce++)xe=le(z,q[Ce],se),xe!==null&&(F=g(xe,F,Ce),je===null?be=xe:je.sibling=xe,je=xe);return at&&ls(z,Ce),be}for(xe=u(xe);Ce<q.length;Ce++)on=J(xe,z,Ce,q[Ce],se),on!==null&&(a&&on.alternate!==null&&xe.delete(on.key===null?Ce:on.key),F=g(on,F,Ce),je===null?be=on:je.sibling=on,je=on);return a&&xe.forEach(function(bi){return i(z,bi)}),at&&ls(z,Ce),be}function Re(z,F,q,se){if(q==null)throw Error(n(151));for(var be=null,je=null,xe=F,Ce=F=0,on=null,tt=q.next();xe!==null&&!tt.done;Ce++,tt=q.next()){xe.index>Ce?(on=xe,xe=null):on=xe.sibling;var bi=$(z,xe,tt.value,se);if(bi===null){xe===null&&(xe=on);break}a&&xe&&bi.alternate===null&&i(z,xe),F=g(bi,F,Ce),je===null?be=bi:je.sibling=bi,je=bi,xe=on}if(tt.done)return l(z,xe),at&&ls(z,Ce),be;if(xe===null){for(;!tt.done;Ce++,tt=q.next())tt=le(z,tt.value,se),tt!==null&&(F=g(tt,F,Ce),je===null?be=tt:je.sibling=tt,je=tt);return at&&ls(z,Ce),be}for(xe=u(xe);!tt.done;Ce++,tt=q.next())tt=J(xe,z,Ce,tt.value,se),tt!==null&&(a&&tt.alternate!==null&&xe.delete(tt.key===null?Ce:tt.key),F=g(tt,F,Ce),je===null?be=tt:je.sibling=tt,je=tt);return a&&xe.forEach(function(_S){return i(z,_S)}),at&&ls(z,Ce),be}function mt(z,F,q,se){if(typeof q=="object"&&q!==null&&q.type===S&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var be=q.key;F!==null;){if(F.key===be){if(be=q.type,be===S){if(F.tag===7){l(z,F.sibling),se=h(F,q.props.children),se.return=z,z=se;break e}}else if(F.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&qv(be)===F.type){l(z,F.sibling),se=h(F,q.props),$l(se,q),se.return=z,z=se;break e}l(z,F);break}else i(z,F);F=F.sibling}q.type===S?(se=ss(q.props.children,z.mode,se,q.key),se.return=z,z=se):(se=Bc(q.type,q.key,q.props,null,z.mode,se),$l(se,q),se.return=z,z=se)}return T(z);case D:e:{for(be=q.key;F!==null;){if(F.key===be)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){l(z,F.sibling),se=h(F,q.children||[]),se.return=z,z=se;break e}else{l(z,F);break}else i(z,F);F=F.sibling}se=Mh(q,z.mode,se),se.return=z,z=se}return T(z);case R:return be=q._init,q=be(q._payload),mt(z,F,q,se)}if(ve(q))return ke(z,F,q,se);if(B(q)){if(be=B(q),typeof be!="function")throw Error(n(150));return q=be.call(q),Re(z,F,q,se)}if(typeof q.then=="function")return mt(z,F,rd(q),se);if(q.$$typeof===X)return mt(z,F,Hc(z,q),se);ad(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,F!==null&&F.tag===6?(l(z,F.sibling),se=h(F,q),se.return=z,z=se):(l(z,F),se=kh(q,z.mode,se),se.return=z,z=se),T(z)):l(z,F)}return function(z,F,q,se){try{Wl=0;var be=mt(z,F,q,se);return bo=null,be}catch(xe){if(xe===Bl||xe===Qc)throw xe;var je=Qn(29,xe,null,z.mode);return je.lanes=se,je.return=z,je}finally{}}}var wo=Qv(!0),Gv=Qv(!1),fr=W(null),Yr=null;function ii(a){var i=a.alternate;ce(Jt,Jt.current&1),ce(fr,a),Yr===null&&(i===null||go.current!==null||i.memoizedState!==null)&&(Yr=a)}function Kv(a){if(a.tag===22){if(ce(Jt,Jt.current),ce(fr,a),Yr===null){var i=a.alternate;i!==null&&i.memoizedState!==null&&(Yr=a)}}else si()}function si(){ce(Jt,Jt.current),ce(fr,fr.current)}function Da(a){de(fr),Yr===a&&(Yr=null),de(Jt)}var Jt=W(0);function id(a){for(var i=a;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||em(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function dp(a,i,l,u){i=a.memoizedState,l=l(u,i),l=l==null?i:y({},i,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var fp={enqueueSetState:function(a,i,l){a=a._reactInternals;var u=$n(),h=ni(u);h.payload=i,l!=null&&(h.callback=l),i=ri(a,h,u),i!==null&&(Xn(i,a,u),zl(i,a,u))},enqueueReplaceState:function(a,i,l){a=a._reactInternals;var u=$n(),h=ni(u);h.tag=1,h.payload=i,l!=null&&(h.callback=l),i=ri(a,h,u),i!==null&&(Xn(i,a,u),zl(i,a,u))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var l=$n(),u=ni(l);u.tag=2,i!=null&&(u.callback=i),i=ri(a,u,l),i!==null&&(Xn(i,a,l),zl(i,a,l))}};function Wv(a,i,l,u,h,g,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(u,g,T):i.prototype&&i.prototype.isPureReactComponent?!Ml(l,u)||!Ml(h,g):!0}function $v(a,i,l,u){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==a&&fp.enqueueReplaceState(i,i.state,null)}function ms(a,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(a=a.defaultProps){l===i&&(l=y({},l));for(var h in a)l[h]===void 0&&(l[h]=a[h])}return l}var sd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Xv(a){sd(a)}function Zv(a){console.error(a)}function Jv(a){sd(a)}function od(a,i){try{var l=a.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function e_(a,i,l){try{var u=a.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hp(a,i,l){return l=ni(l),l.tag=3,l.payload={element:null},l.callback=function(){od(a,i)},l}function t_(a){return a=ni(a),a.tag=3,a}function n_(a,i,l,u){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;a.payload=function(){return h(g)},a.callback=function(){e_(i,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(a.callback=function(){e_(i,l,u),typeof h!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function _D(a,i,l,u,h){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Ll(i,l,h,!0),l=fr.current,l!==null){switch(l.tag){case 13:return Yr===null?Lp():l.alternate===null&&kt===0&&(kt=3),l.flags&=-257,l.flags|=65536,l.lanes=h,u===zh?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Up(a,u,h)),!1;case 22:return l.flags|=65536,u===zh?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Up(a,u,h)),!1}throw Error(n(435,l.tag))}return Up(a,u,h),Lp(),!1}if(at)return i=fr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,u!==Ph&&(a=Error(n(422),{cause:u}),Vl(lr(a,l)))):(u!==Ph&&(i=Error(n(423),{cause:u}),Vl(lr(i,l))),a=a.current.alternate,a.flags|=65536,h&=-h,a.lanes|=h,u=lr(u,l),h=hp(a.stateNode,u,h),qh(a,h),kt!==4&&(kt=2)),!1;var g=Error(n(520),{cause:u});if(g=lr(g,l),ru===null?ru=[g]:ru.push(g),kt!==4&&(kt=2),i===null)return!0;u=lr(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,a=h&-h,l.lanes|=a,a=hp(l.stateNode,u,a),qh(l,a),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(fi===null||!fi.has(g))))return l.flags|=65536,h&=-h,l.lanes|=h,h=t_(h),n_(h,a,l,u),qh(l,h),!1}l=l.return}while(l!==null);return!1}var r_=Error(n(461)),an=!1;function hn(a,i,l,u){i.child=a===null?Gv(i,null,l,u):wo(i,a.child,l,u)}function a_(a,i,l,u,h){l=l.render;var g=i.ref;if("ref"in u){var T={};for(var x in u)x!=="ref"&&(T[x]=u[x])}else T=u;return fs(i),u=$h(a,i,l,T,g,h),x=Xh(),a!==null&&!an?(Zh(a,i,h),Sa(a,i,h)):(at&&x&&Oh(i),i.flags|=1,hn(a,i,u,h),i.child)}function i_(a,i,l,u,h){if(a===null){var g=l.type;return typeof g=="function"&&!Nh(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,s_(a,i,g,u,h)):(a=Bc(l.type,null,u,i,i.mode,h),a.ref=i.ref,a.return=i,i.child=a)}if(g=a.child,!wp(a,h)){var T=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ml,l(T,u)&&a.ref===i.ref)return Sa(a,i,h)}return i.flags|=1,a=_a(g,u),a.ref=i.ref,a.return=i,i.child=a}function s_(a,i,l,u,h){if(a!==null){var g=a.memoizedProps;if(Ml(g,u)&&a.ref===i.ref)if(an=!1,i.pendingProps=u=g,wp(a,h))(a.flags&131072)!==0&&(an=!0);else return i.lanes=a.lanes,Sa(a,i,h)}return pp(a,i,l,u,h)}function o_(a,i,l){var u=i.pendingProps,h=u.children,g=a!==null?a.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=g!==null?g.baseLanes|l:l,a!==null){for(h=i.child=a.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;i.childLanes=g&~u}else i.childLanes=0,i.child=null;return l_(a,i,u,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&qc(i,g!==null?g.cachePool:null),g!==null?sv(i,g):Gh(),Kv(i);else return i.lanes=i.childLanes=536870912,l_(a,i,g!==null?g.baseLanes|l:l,l)}else g!==null?(qc(i,g.cachePool),sv(i,g),si(),i.memoizedState=null):(a!==null&&qc(i,null),Gh(),si());return hn(a,i,h,l),i.child}function l_(a,i,l,u){var h=Fh();return h=h===null?null:{parent:Zt._currentValue,pool:h},i.memoizedState={baseLanes:l,cachePool:h},a!==null&&qc(i,null),Gh(),Kv(i),a!==null&&Ll(a,i,u,!0),null}function ld(a,i){var l=i.ref;if(l===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(a===null||a.ref!==l)&&(i.flags|=4194816)}}function pp(a,i,l,u,h){return fs(i),l=$h(a,i,l,u,void 0,h),u=Xh(),a!==null&&!an?(Zh(a,i,h),Sa(a,i,h)):(at&&u&&Oh(i),i.flags|=1,hn(a,i,l,h),i.child)}function u_(a,i,l,u,h,g){return fs(i),i.updateQueue=null,l=lv(i,u,l,h),ov(a),u=Xh(),a!==null&&!an?(Zh(a,i,g),Sa(a,i,g)):(at&&u&&Oh(i),i.flags|=1,hn(a,i,l,g),i.child)}function c_(a,i,l,u,h){if(fs(i),i.stateNode===null){var g=co,T=l.contextType;typeof T=="object"&&T!==null&&(g=En(T)),g=new l(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=fp,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},Yh(i),T=l.contextType,g.context=typeof T=="object"&&T!==null?En(T):co,g.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(dp(i,l,T,u),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&fp.enqueueReplaceState(g,g.state,null),Hl(i,u,g,h),Yl(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(a===null){g=i.stateNode;var x=i.memoizedProps,j=ms(l,x);g.props=j;var K=g.context,ae=l.contextType;T=co,typeof ae=="object"&&ae!==null&&(T=En(ae));var le=l.getDerivedStateFromProps;ae=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||K!==T)&&$v(i,g,u,T),ti=!1;var $=i.memoizedState;g.state=$,Hl(i,u,g,h),Yl(),K=i.memoizedState,x||$!==K||ti?(typeof le=="function"&&(dp(i,l,le,u),K=i.memoizedState),(j=ti||Wv(i,l,j,u,$,K,T))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=K),g.props=u,g.state=K,g.context=T,u=j):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,Hh(a,i),T=i.memoizedProps,ae=ms(l,T),g.props=ae,le=i.pendingProps,$=g.context,K=l.contextType,j=co,typeof K=="object"&&K!==null&&(j=En(K)),x=l.getDerivedStateFromProps,(K=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==le||$!==j)&&$v(i,g,u,j),ti=!1,$=i.memoizedState,g.state=$,Hl(i,u,g,h),Yl();var J=i.memoizedState;T!==le||$!==J||ti||a!==null&&a.dependencies!==null&&Yc(a.dependencies)?(typeof x=="function"&&(dp(i,l,x,u),J=i.memoizedState),(ae=ti||Wv(i,l,ae,u,$,J,j)||a!==null&&a.dependencies!==null&&Yc(a.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,j)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===a.memoizedProps&&$===a.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&$===a.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=J),g.props=u,g.state=J,g.context=j,u=ae):(typeof g.componentDidUpdate!="function"||T===a.memoizedProps&&$===a.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&$===a.memoizedState||(i.flags|=1024),u=!1)}return g=u,ld(a,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,a!==null&&u?(i.child=wo(i,a.child,null,h),i.child=wo(i,null,l,h)):hn(a,i,l,h),i.memoizedState=g.state,a=i.child):a=Sa(a,i,h),a}function d_(a,i,l,u){return Pl(),i.flags|=256,hn(a,i,l,u),i.child}var mp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(a){return{baseLanes:a,cachePool:Zy()}}function yp(a,i,l){return a=a!==null?a.childLanes&~l:0,i&&(a|=hr),a}function f_(a,i,l){var u=i.pendingProps,h=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=a!==null&&a.memoizedState===null?!1:(Jt.current&2)!==0),T&&(h=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,a===null){if(at){if(h?ii(i):si(),at){var x=Nt,j;if(j=x){e:{for(j=x,x=zr;j.nodeType!==8;){if(!x){x=null;break e}if(j=Ar(j.nextSibling),j===null){x=null;break e}}x=j}x!==null?(i.memoizedState={dehydrated:x,treeContext:os!==null?{id:ba,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},j=Qn(18,null,null,0),j.stateNode=x,j.return=i,i.child=j,On=i,Nt=null,j=!0):j=!1}j||cs(i)}if(x=i.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return em(x)?i.lanes=32:i.lanes=536870912,null;Da(i)}return x=u.children,u=u.fallback,h?(si(),h=i.mode,x=ud({mode:"hidden",children:x},h),u=ss(u,h,l,null),x.return=i,u.return=i,x.sibling=u,i.child=x,h=i.child,h.memoizedState=gp(l),h.childLanes=yp(a,T,l),i.memoizedState=mp,u):(ii(i),vp(i,x))}if(j=a.memoizedState,j!==null&&(x=j.dehydrated,x!==null)){if(g)i.flags&256?(ii(i),i.flags&=-257,i=_p(a,i,l)):i.memoizedState!==null?(si(),i.child=a.child,i.flags|=128,i=null):(si(),h=u.fallback,x=i.mode,u=ud({mode:"visible",children:u.children},x),h=ss(h,x,l,null),h.flags|=2,u.return=i,h.return=i,u.sibling=h,i.child=u,wo(i,a.child,null,l),u=i.child,u.memoizedState=gp(l),u.childLanes=yp(a,T,l),i.memoizedState=mp,i=h);else if(ii(i),em(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(n(419)),u.stack="",u.digest=T,Vl({value:u,source:null,stack:null}),i=_p(a,i,l)}else if(an||Ll(a,i,l,!1),T=(l&a.childLanes)!==0,an||T){if(T=wt,T!==null&&(u=l&-l,u=(u&42)!==0?1:Ga(u),u=(u&(T.suspendedLanes|l))!==0?0:u,u!==0&&u!==j.retryLane))throw j.retryLane=u,uo(a,u),Xn(T,a,u),r_;x.data==="$?"||Lp(),i=_p(a,i,l)}else x.data==="$?"?(i.flags|=192,i.child=a.child,i=null):(a=j.treeContext,Nt=Ar(x.nextSibling),On=i,at=!0,us=null,zr=!1,a!==null&&(cr[dr++]=ba,cr[dr++]=wa,cr[dr++]=os,ba=a.id,wa=a.overflow,os=i),i=vp(i,u.children),i.flags|=4096);return i}return h?(si(),h=u.fallback,x=i.mode,j=a.child,K=j.sibling,u=_a(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,K!==null?h=_a(K,h):(h=ss(h,x,l,null),h.flags|=2),h.return=i,u.return=i,u.sibling=h,i.child=u,u=h,h=i.child,x=a.child.memoizedState,x===null?x=gp(l):(j=x.cachePool,j!==null?(K=Zt._currentValue,j=j.parent!==K?{parent:K,pool:K}:j):j=Zy(),x={baseLanes:x.baseLanes|l,cachePool:j}),h.memoizedState=x,h.childLanes=yp(a,T,l),i.memoizedState=mp,u):(ii(i),l=a.child,a=l.sibling,l=_a(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,a!==null&&(T=i.deletions,T===null?(i.deletions=[a],i.flags|=16):T.push(a)),i.child=l,i.memoizedState=null,l)}function vp(a,i){return i=ud({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function ud(a,i){return a=Qn(22,a,null,i),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function _p(a,i,l){return wo(i,a.child,null,l),a=vp(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function h_(a,i,l){a.lanes|=i;var u=a.alternate;u!==null&&(u.lanes|=i),Lh(a.return,i,l)}function bp(a,i,l,u,h){var g=a.memoizedState;g===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:h}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=h)}function p_(a,i,l){var u=i.pendingProps,h=u.revealOrder,g=u.tail;if(hn(a,i,u.children,l),u=Jt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&h_(a,l,i);else if(a.tag===19)h_(a,l,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}u&=1}switch(ce(Jt,u),h){case"forwards":for(l=i.child,h=null;l!==null;)a=l.alternate,a!==null&&id(a)===null&&(h=l),l=l.sibling;l=h,l===null?(h=i.child,i.child=null):(h=l.sibling,l.sibling=null),bp(i,!1,h,l,g);break;case"backwards":for(l=null,h=i.child,i.child=null;h!==null;){if(a=h.alternate,a!==null&&id(a)===null){i.child=h;break}a=h.sibling,h.sibling=l,l=h,h=a}bp(i,!0,l,null,g);break;case"together":bp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sa(a,i,l){if(a!==null&&(i.dependencies=a.dependencies),di|=i.lanes,(l&i.childLanes)===0)if(a!==null){if(Ll(a,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(n(153));if(i.child!==null){for(a=i.child,l=_a(a,a.pendingProps),i.child=l,l.return=i;a.sibling!==null;)a=a.sibling,l=l.sibling=_a(a,a.pendingProps),l.return=i;l.sibling=null}return i.child}function wp(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&Yc(a)))}function bD(a,i,l){switch(i.tag){case 3:Ye(i,i.stateNode.containerInfo),ei(i,Zt,a.memoizedState.cache),Pl();break;case 27:case 5:nr(i);break;case 4:Ye(i,i.stateNode.containerInfo);break;case 10:ei(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ii(i),i.flags|=128,null):(l&i.child.childLanes)!==0?f_(a,i,l):(ii(i),a=Sa(a,i,l),a!==null?a.sibling:null);ii(i);break;case 19:var h=(a.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Ll(a,i,l,!1),u=(l&i.childLanes)!==0),h){if(u)return p_(a,i,l);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(Jt,Jt.current),u)break;return null;case 22:case 23:return i.lanes=0,o_(a,i,l);case 24:ei(i,Zt,a.memoizedState.cache)}return Sa(a,i,l)}function m_(a,i,l){if(a!==null)if(a.memoizedProps!==i.pendingProps)an=!0;else{if(!wp(a,l)&&(i.flags&128)===0)return an=!1,bD(a,i,l);an=(a.flags&131072)!==0}else an=!1,at&&(i.flags&1048576)!==0&&qy(i,zc,i.index);switch(i.lanes=0,i.tag){case 16:e:{a=i.pendingProps;var u=i.elementType,h=u._init;if(u=h(u._payload),i.type=u,typeof u=="function")Nh(u)?(a=ms(u,a),i.tag=1,i=c_(null,i,u,a,l)):(i.tag=0,i=pp(null,i,u,a,l));else{if(u!=null){if(h=u.$$typeof,h===te){i.tag=11,i=a_(null,i,u,a,l);break e}else if(h===I){i.tag=14,i=i_(null,i,u,a,l);break e}}throw i=Ae(u)||u,Error(n(306,i,""))}}return i;case 0:return pp(a,i,i.type,i.pendingProps,l);case 1:return u=i.type,h=ms(u,i.pendingProps),c_(a,i,u,h,l);case 3:e:{if(Ye(i,i.stateNode.containerInfo),a===null)throw Error(n(387));u=i.pendingProps;var g=i.memoizedState;h=g.element,Hh(a,i),Hl(i,u,null,l);var T=i.memoizedState;if(u=T.cache,ei(i,Zt,u),u!==g.cache&&jh(i,[Zt],l,!0),Yl(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=d_(a,i,u,l);break e}else if(u!==h){h=lr(Error(n(424)),i),Vl(h),i=d_(a,i,u,l);break e}else{switch(a=i.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Nt=Ar(a.firstChild),On=i,at=!0,us=null,zr=!0,l=Gv(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Pl(),u===h){i=Sa(a,i,l);break e}hn(a,i,u,l)}i=i.child}return i;case 26:return ld(a,i),a===null?(l=_0(i.type,null,i.pendingProps,null))?i.memoizedState=l:at||(l=i.type,a=i.pendingProps,u=Td(Te.current).createElement(l),u[Wt]=i,u[Yt]=a,mn(u,l,a),Vt(u),i.stateNode=u):i.memoizedState=_0(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return nr(i),a===null&&at&&(u=i.stateNode=g0(i.type,i.pendingProps,Te.current),On=i,zr=!0,h=Nt,mi(i.type)?(tm=h,Nt=Ar(u.firstChild)):Nt=h),hn(a,i,i.pendingProps.children,l),ld(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&at&&((h=u=Nt)&&(u=KD(u,i.type,i.pendingProps,zr),u!==null?(i.stateNode=u,On=i,Nt=Ar(u.firstChild),zr=!1,h=!0):h=!1),h||cs(i)),nr(i),h=i.type,g=i.pendingProps,T=a!==null?a.memoizedProps:null,u=g.children,Xp(h,g)?u=null:T!==null&&Xp(h,T)&&(i.flags|=32),i.memoizedState!==null&&(h=$h(a,i,fD,null,null,l),fu._currentValue=h),ld(a,i),hn(a,i,u,l),i.child;case 6:return a===null&&at&&((a=l=Nt)&&(l=WD(l,i.pendingProps,zr),l!==null?(i.stateNode=l,On=i,Nt=null,a=!0):a=!1),a||cs(i)),null;case 13:return f_(a,i,l);case 4:return Ye(i,i.stateNode.containerInfo),u=i.pendingProps,a===null?i.child=wo(i,null,u,l):hn(a,i,u,l),i.child;case 11:return a_(a,i,i.type,i.pendingProps,l);case 7:return hn(a,i,i.pendingProps,l),i.child;case 8:return hn(a,i,i.pendingProps.children,l),i.child;case 12:return hn(a,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,ei(i,i.type,u.value),hn(a,i,u.children,l),i.child;case 9:return h=i.type._context,u=i.pendingProps.children,fs(i),h=En(h),u=u(h),i.flags|=1,hn(a,i,u,l),i.child;case 14:return i_(a,i,i.type,i.pendingProps,l);case 15:return s_(a,i,i.type,i.pendingProps,l);case 19:return p_(a,i,l);case 31:return u=i.pendingProps,l=i.mode,u={mode:u.mode,children:u.children},a===null?(l=ud(u,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=_a(a.child,u),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return o_(a,i,l);case 24:return fs(i),u=En(Zt),a===null?(h=Fh(),h===null&&(h=wt,g=Uh(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=l),h=g),i.memoizedState={parent:u,cache:h},Yh(i),ei(i,Zt,h)):((a.lanes&l)!==0&&(Hh(a,i),Hl(i,null,null,l),Yl()),h=a.memoizedState,g=i.memoizedState,h.parent!==u?(h={parent:u,cache:u},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ei(i,Zt,u)):(u=g.cache,ei(i,Zt,u),u!==h.cache&&jh(i,[Zt],l,!0))),hn(a,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function Aa(a){a.flags|=4}function g_(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!x0(i)){if(i=fr.current,i!==null&&((Ge&4194048)===Ge?Yr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||i!==Yr))throw Fl=zh,Jy;a.flags|=8192}}function cd(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?pl():536870912,a.lanes|=i,Do|=i)}function Xl(a,i){if(!at)switch(a.tailMode){case"hidden":i=a.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:u.sibling=null}}function Dt(a){var i=a.alternate!==null&&a.alternate.child===a.child,l=0,u=0;if(i)for(var h=a.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=a,h=h.sibling;else for(h=a.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=a,h=h.sibling;return a.subtreeFlags|=u,a.childLanes=l,i}function wD(a,i,l){var u=i.pendingProps;switch(Ih(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return l=i.stateNode,u=null,a!==null&&(u=a.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ta(Zt),Cn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Il(i)?Aa(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ky())),Dt(i),null;case 26:return l=i.memoizedState,a===null?(Aa(i),l!==null?(Dt(i),g_(i,l)):(Dt(i),i.flags&=-16777217)):l?l!==a.memoizedState?(Aa(i),Dt(i),g_(i,l)):(Dt(i),i.flags&=-16777217):(a.memoizedProps!==u&&Aa(i),Dt(i),i.flags&=-16777217),null;case 27:jn(i),l=Te.current;var h=i.type;if(a!==null&&i.stateNode!=null)a.memoizedProps!==u&&Aa(i);else{if(!u){if(i.stateNode===null)throw Error(n(166));return Dt(i),null}a=_e.current,Il(i)?Qy(i):(a=g0(h,u,l),i.stateNode=a,Aa(i))}return Dt(i),null;case 5:if(jn(i),l=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==u&&Aa(i);else{if(!u){if(i.stateNode===null)throw Error(n(166));return Dt(i),null}if(a=_e.current,Il(i))Qy(i);else{switch(h=Td(Te.current),a){case 1:a=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=h.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?a.multiple=!0:u.size&&(a.size=u.size);break;default:a=typeof u.is=="string"?h.createElement(l,{is:u.is}):h.createElement(l)}}a[Wt]=i,a[Yt]=u;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=a;e:switch(mn(a,l,u),l){case"button":case"input":case"select":case"textarea":a=!!u.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Aa(i)}}return Dt(i),i.flags&=-16777217,null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==u&&Aa(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(n(166));if(a=Te.current,Il(i)){if(a=i.stateNode,l=i.memoizedProps,u=null,h=On,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}a[Wt]=i,a=!!(a.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||u0(a.nodeValue,l)),a||cs(i)}else a=Td(a).createTextNode(u),a[Wt]=i,i.stateNode=a}return Dt(i),null;case 13:if(u=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(h=Il(i),u!==null&&u.dehydrated!==null){if(a===null){if(!h)throw Error(n(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[Wt]=i}else Pl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),h=!1}else h=Ky(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Da(i),i):(Da(i),null)}if(Da(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=u!==null,a=a!==null&&a.memoizedState!==null,l){u=i.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return l!==a&&l&&(i.child.flags|=8192),cd(i,i.updateQueue),Dt(i),null;case 4:return Cn(),a===null&&Qp(i.stateNode.containerInfo),Dt(i),null;case 10:return Ta(i.type),Dt(i),null;case 19:if(de(Jt),h=i.memoizedState,h===null)return Dt(i),null;if(u=(i.flags&128)!==0,g=h.rendering,g===null)if(u)Xl(h,!1);else{if(kt!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(g=id(a),g!==null){for(i.flags|=128,Xl(h,!1),a=g.updateQueue,i.updateQueue=a,cd(i,a),i.subtreeFlags=0,a=l,l=i.child;l!==null;)Hy(l,a),l=l.sibling;return ce(Jt,Jt.current&1|2),i.child}a=a.sibling}h.tail!==null&&Pe()>hd&&(i.flags|=128,u=!0,Xl(h,!1),i.lanes=4194304)}else{if(!u)if(a=id(g),a!==null){if(i.flags|=128,u=!0,a=a.updateQueue,i.updateQueue=a,cd(i,a),Xl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!at)return Dt(i),null}else 2*Pe()-h.renderingStartTime>hd&&l!==536870912&&(i.flags|=128,u=!0,Xl(h,!1),i.lanes=4194304);h.isBackwards?(g.sibling=i.child,i.child=g):(a=h.last,a!==null?a.sibling=g:i.child=g,h.last=g)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Pe(),i.sibling=null,a=Jt.current,ce(Jt,u?a&1|2:a&1),i):(Dt(i),null);case 22:case 23:return Da(i),Kh(),u=i.memoizedState!==null,a!==null?a.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),l=i.updateQueue,l!==null&&cd(i,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),a!==null&&de(hs),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ta(Zt),Dt(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function ED(a,i){switch(Ih(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return Ta(Zt),Cn(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return jn(i),null;case 13:if(Da(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Pl()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return de(Jt),null;case 4:return Cn(),null;case 10:return Ta(i.type),null;case 22:case 23:return Da(i),Kh(),a!==null&&de(hs),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return Ta(Zt),null;case 25:return null;default:return null}}function y_(a,i){switch(Ih(i),i.tag){case 3:Ta(Zt),Cn();break;case 26:case 27:case 5:jn(i);break;case 4:Cn();break;case 13:Da(i);break;case 19:de(Jt);break;case 10:Ta(i.type);break;case 22:case 23:Da(i),Kh(),a!==null&&de(hs);break;case 24:Ta(Zt)}}function Zl(a,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&a)===a){u=void 0;var g=l.create,T=l.inst;u=g(),T.destroy=u}l=l.next}while(l!==h)}}catch(x){_t(i,i.return,x)}}function oi(a,i,l){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&a)===a){var T=u.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,h=i;var j=l,K=x;try{K()}catch(ae){_t(h,j,ae)}}}u=u.next}while(u!==g)}}catch(ae){_t(i,i.return,ae)}}function v_(a){var i=a.updateQueue;if(i!==null){var l=a.stateNode;try{iv(i,l)}catch(u){_t(a,a.return,u)}}}function __(a,i,l){l.props=ms(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(u){_t(a,i,u)}}function Jl(a,i){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var u=a.stateNode;break;case 30:u=a.stateNode;break;default:u=a.stateNode}typeof l=="function"?a.refCleanup=l(u):l.current=u}}catch(h){_t(a,i,h)}}function Hr(a,i){var l=a.ref,u=a.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(h){_t(a,i,h)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){_t(a,i,h)}else l.current=null}function b_(a){var i=a.type,l=a.memoizedProps,u=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(h){_t(a,a.return,h)}}function Ep(a,i,l){try{var u=a.stateNode;YD(u,a.type,l,i),u[Yt]=i}catch(h){_t(a,a.return,h)}}function w_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&mi(a.type)||a.tag===4}function Tp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||w_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&mi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function xp(a,i,l){var u=a.tag;if(u===5||u===6)a=a.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(a),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Ed));else if(u!==4&&(u===27&&mi(a.type)&&(l=a.stateNode,i=null),a=a.child,a!==null))for(xp(a,i,l),a=a.sibling;a!==null;)xp(a,i,l),a=a.sibling}function dd(a,i,l){var u=a.tag;if(u===5||u===6)a=a.stateNode,i?l.insertBefore(a,i):l.appendChild(a);else if(u!==4&&(u===27&&mi(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(dd(a,i,l),a=a.sibling;a!==null;)dd(a,i,l),a=a.sibling}function E_(a){var i=a.stateNode,l=a.memoizedProps;try{for(var u=a.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);mn(i,u,l),i[Wt]=a,i[Yt]=l}catch(g){_t(a,a.return,g)}}var Ra=!1,jt=!1,Dp=!1,T_=typeof WeakSet=="function"?WeakSet:Set,sn=null;function TD(a,i){if(a=a.containerInfo,Wp=Cd,a=Iy(a),Th(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var T=0,x=-1,j=-1,K=0,ae=0,le=a,$=null;t:for(;;){for(var J;le!==l||h!==0&&le.nodeType!==3||(x=T+h),le!==g||u!==0&&le.nodeType!==3||(j=T+u),le.nodeType===3&&(T+=le.nodeValue.length),(J=le.firstChild)!==null;)$=le,le=J;for(;;){if(le===a)break t;if($===l&&++K===h&&(x=T),$===g&&++ae===u&&(j=T),(J=le.nextSibling)!==null)break;le=$,$=le.parentNode}le=J}l=x===-1||j===-1?null:{start:x,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for($p={focusedElem:a,selectionRange:l},Cd=!1,sn=i;sn!==null;)if(i=sn,a=i.child,(i.subtreeFlags&1024)!==0&&a!==null)a.return=i,sn=a;else for(;sn!==null;){switch(i=sn,g=i.alternate,a=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&g!==null){a=void 0,l=i,h=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var ke=ms(l.type,h,l.elementType===l.type);a=u.getSnapshotBeforeUpdate(ke,g),u.__reactInternalSnapshotBeforeUpdate=a}catch(Re){_t(l,l.return,Re)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,l=a.nodeType,l===9)Jp(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Jp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=i.sibling,a!==null){a.return=i.return,sn=a;break}sn=i.return}}function x_(a,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:li(a,l),u&4&&Zl(5,l);break;case 1:if(li(a,l),u&4)if(a=l.stateNode,i===null)try{a.componentDidMount()}catch(T){_t(l,l.return,T)}else{var h=ms(l.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(h,i,a.__reactInternalSnapshotBeforeUpdate)}catch(T){_t(l,l.return,T)}}u&64&&v_(l),u&512&&Jl(l,l.return);break;case 3:if(li(a,l),u&64&&(a=l.updateQueue,a!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{iv(a,i)}catch(T){_t(l,l.return,T)}}break;case 27:i===null&&u&4&&E_(l);case 26:case 5:li(a,l),i===null&&u&4&&b_(l),u&512&&Jl(l,l.return);break;case 12:li(a,l);break;case 13:li(a,l),u&4&&A_(a,l),u&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=MD.bind(null,l),$D(a,l))));break;case 22:if(u=l.memoizedState!==null||Ra,!u){i=i!==null&&i.memoizedState!==null||jt,h=Ra;var g=jt;Ra=u,(jt=i)&&!g?ui(a,l,(l.subtreeFlags&8772)!==0):li(a,l),Ra=h,jt=g}break;case 30:break;default:li(a,l)}}function D_(a){var i=a.alternate;i!==null&&(a.alternate=null,D_(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&$a(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Tt=null,Fn=!1;function Ca(a,i,l){for(l=l.child;l!==null;)S_(a,i,l),l=l.sibling}function S_(a,i,l){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(vt,l)}catch{}switch(l.tag){case 26:jt||Hr(l,i),Ca(a,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:jt||Hr(l,i);var u=Tt,h=Fn;mi(l.type)&&(Tt=l.stateNode,Fn=!1),Ca(a,i,l),lu(l.stateNode),Tt=u,Fn=h;break;case 5:jt||Hr(l,i);case 6:if(u=Tt,h=Fn,Tt=null,Ca(a,i,l),Tt=u,Fn=h,Tt!==null)if(Fn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(l.stateNode)}catch(g){_t(l,i,g)}else try{Tt.removeChild(l.stateNode)}catch(g){_t(l,i,g)}break;case 18:Tt!==null&&(Fn?(a=Tt,p0(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),gu(a)):p0(Tt,l.stateNode));break;case 4:u=Tt,h=Fn,Tt=l.stateNode.containerInfo,Fn=!0,Ca(a,i,l),Tt=u,Fn=h;break;case 0:case 11:case 14:case 15:jt||oi(2,l,i),jt||oi(4,l,i),Ca(a,i,l);break;case 1:jt||(Hr(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&__(l,i,u)),Ca(a,i,l);break;case 21:Ca(a,i,l);break;case 22:jt=(u=jt)||l.memoizedState!==null,Ca(a,i,l),jt=u;break;default:Ca(a,i,l)}}function A_(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{gu(a)}catch(l){_t(i,i.return,l)}}function xD(a){switch(a.tag){case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new T_),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new T_),i;default:throw Error(n(435,a.tag))}}function Sp(a,i){var l=xD(a);i.forEach(function(u){var h=OD.bind(null,a,u);l.has(u)||(l.add(u),u.then(h,h))})}function Gn(a,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var h=l[u],g=a,T=i,x=T;e:for(;x!==null;){switch(x.tag){case 27:if(mi(x.type)){Tt=x.stateNode,Fn=!1;break e}break;case 5:Tt=x.stateNode,Fn=!1;break e;case 3:case 4:Tt=x.stateNode.containerInfo,Fn=!0;break e}x=x.return}if(Tt===null)throw Error(n(160));S_(g,T,h),Tt=null,Fn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)R_(i,a),i=i.sibling}var Sr=null;function R_(a,i){var l=a.alternate,u=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Gn(i,a),Kn(a),u&4&&(oi(3,a,a.return),Zl(3,a),oi(5,a,a.return));break;case 1:Gn(i,a),Kn(a),u&512&&(jt||l===null||Hr(l,l.return)),u&64&&Ra&&(a=a.updateQueue,a!==null&&(u=a.callbacks,u!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var h=Sr;if(Gn(i,a),Kn(a),u&512&&(jt||l===null||Hr(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=a.memoizedState,l===null)if(u===null)if(a.stateNode===null){e:{u=a.type,l=a.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Hi]||g[Wt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),mn(g,u,l),g[Wt]=a,Vt(g),u=g;break e;case"link":var T=E0("link","href",h).get(u+(l.href||""));if(T){for(var x=0;x<T.length;x++)if(g=T[x],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(x,1);break t}}g=h.createElement(u),mn(g,u,l),h.head.appendChild(g);break;case"meta":if(T=E0("meta","content",h).get(u+(l.content||""))){for(x=0;x<T.length;x++)if(g=T[x],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(x,1);break t}}g=h.createElement(u),mn(g,u,l),h.head.appendChild(g);break;default:throw Error(n(468,u))}g[Wt]=a,Vt(g),u=g}a.stateNode=u}else T0(h,a.type,a.stateNode);else a.stateNode=w0(h,u,a.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?T0(h,a.type,a.stateNode):w0(h,u,a.memoizedProps)):u===null&&a.stateNode!==null&&Ep(a,a.memoizedProps,l.memoizedProps)}break;case 27:Gn(i,a),Kn(a),u&512&&(jt||l===null||Hr(l,l.return)),l!==null&&u&4&&Ep(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Gn(i,a),Kn(a),u&512&&(jt||l===null||Hr(l,l.return)),a.flags&32){h=a.stateNode;try{ar(h,"")}catch(J){_t(a,a.return,J)}}u&4&&a.stateNode!=null&&(h=a.memoizedProps,Ep(a,h,l!==null?l.memoizedProps:h)),u&1024&&(Dp=!0);break;case 6:if(Gn(i,a),Kn(a),u&4){if(a.stateNode===null)throw Error(n(162));u=a.memoizedProps,l=a.stateNode;try{l.nodeValue=u}catch(J){_t(a,a.return,J)}}break;case 3:if(Sd=null,h=Sr,Sr=xd(i.containerInfo),Gn(i,a),Sr=h,Kn(a),u&4&&l!==null&&l.memoizedState.isDehydrated)try{gu(i.containerInfo)}catch(J){_t(a,a.return,J)}Dp&&(Dp=!1,C_(a));break;case 4:u=Sr,Sr=xd(a.stateNode.containerInfo),Gn(i,a),Kn(a),Sr=u;break;case 12:Gn(i,a),Kn(a);break;case 13:Gn(i,a),Kn(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Mp=Pe()),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,Sp(a,u)));break;case 22:h=a.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,K=Ra,ae=jt;if(Ra=K||h,jt=ae||j,Gn(i,a),jt=ae,Ra=K,Kn(a),u&8192)e:for(i=a.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(l===null||j||Ra||jt||gs(a)),l=null,i=a;;){if(i.tag===5||i.tag===26){if(l===null){j=l=i;try{if(g=j.stateNode,h)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=j.stateNode;var le=j.memoizedProps.style,$=le!=null&&le.hasOwnProperty("display")?le.display:null;x.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(J){_t(j,j.return,J)}}}else if(i.tag===6){if(l===null){j=i;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(J){_t(j,j.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=a.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Sp(a,l))));break;case 19:Gn(i,a),Kn(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,Sp(a,u)));break;case 30:break;case 21:break;default:Gn(i,a),Kn(a)}}function Kn(a){var i=a.flags;if(i&2){try{for(var l,u=a.return;u!==null;){if(w_(u)){l=u;break}u=u.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var h=l.stateNode,g=Tp(a);dd(a,g,h);break;case 5:var T=l.stateNode;l.flags&32&&(ar(T,""),l.flags&=-33);var x=Tp(a);dd(a,x,T);break;case 3:case 4:var j=l.stateNode.containerInfo,K=Tp(a);xp(a,K,j);break;default:throw Error(n(161))}}catch(ae){_t(a,a.return,ae)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function C_(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;C_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function li(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)x_(a,i.alternate,i),i=i.sibling}function gs(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:oi(4,i,i.return),gs(i);break;case 1:Hr(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&__(i,i.return,l),gs(i);break;case 27:lu(i.stateNode);case 26:case 5:Hr(i,i.return),gs(i);break;case 22:i.memoizedState===null&&gs(i);break;case 30:gs(i);break;default:gs(i)}a=a.sibling}}function ui(a,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,h=a,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:ui(h,g,l),Zl(4,g);break;case 1:if(ui(h,g,l),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(K){_t(u,u.return,K)}if(u=g,h=u.updateQueue,h!==null){var x=u.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)av(j[h],x)}catch(K){_t(u,u.return,K)}}l&&T&64&&v_(g),Jl(g,g.return);break;case 27:E_(g);case 26:case 5:ui(h,g,l),l&&u===null&&T&4&&b_(g),Jl(g,g.return);break;case 12:ui(h,g,l);break;case 13:ui(h,g,l),l&&T&4&&A_(h,g);break;case 22:g.memoizedState===null&&ui(h,g,l),Jl(g,g.return);break;case 30:break;default:ui(h,g,l)}i=i.sibling}}function Ap(a,i){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&jl(l))}function Rp(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&jl(a))}function qr(a,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(a,i,l,u),i=i.sibling}function N_(a,i,l,u){var h=i.flags;switch(i.tag){case 0:case 11:case 15:qr(a,i,l,u),h&2048&&Zl(9,i);break;case 1:qr(a,i,l,u);break;case 3:qr(a,i,l,u),h&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&jl(a)));break;case 12:if(h&2048){qr(a,i,l,u),a=i.stateNode;try{var g=i.memoizedProps,T=g.id,x=g.onPostCommit;typeof x=="function"&&x(T,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(j){_t(i,i.return,j)}}else qr(a,i,l,u);break;case 13:qr(a,i,l,u);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?qr(a,i,l,u):eu(a,i):g._visibility&2?qr(a,i,l,u):(g._visibility|=2,Eo(a,i,l,u,(i.subtreeFlags&10256)!==0)),h&2048&&Ap(T,i);break;case 24:qr(a,i,l,u),h&2048&&Rp(i.alternate,i);break;default:qr(a,i,l,u)}}function Eo(a,i,l,u,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=a,T=i,x=l,j=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:Eo(g,T,x,j,h),Zl(8,T);break;case 23:break;case 22:var ae=T.stateNode;T.memoizedState!==null?ae._visibility&2?Eo(g,T,x,j,h):eu(g,T):(ae._visibility|=2,Eo(g,T,x,j,h)),h&&K&2048&&Ap(T.alternate,T);break;case 24:Eo(g,T,x,j,h),h&&K&2048&&Rp(T.alternate,T);break;default:Eo(g,T,x,j,h)}i=i.sibling}}function eu(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=a,u=i,h=u.flags;switch(u.tag){case 22:eu(l,u),h&2048&&Ap(u.alternate,u);break;case 24:eu(l,u),h&2048&&Rp(u.alternate,u);break;default:eu(l,u)}i=i.sibling}}var tu=8192;function To(a){if(a.subtreeFlags&tu)for(a=a.child;a!==null;)k_(a),a=a.sibling}function k_(a){switch(a.tag){case 26:To(a),a.flags&tu&&a.memoizedState!==null&&uS(Sr,a.memoizedState,a.memoizedProps);break;case 5:To(a);break;case 3:case 4:var i=Sr;Sr=xd(a.stateNode.containerInfo),To(a),Sr=i;break;case 22:a.memoizedState===null&&(i=a.alternate,i!==null&&i.memoizedState!==null?(i=tu,tu=16777216,To(a),tu=i):To(a));break;default:To(a)}}function M_(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function nu(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];sn=u,I_(u,a)}M_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)O_(a),a=a.sibling}function O_(a){switch(a.tag){case 0:case 11:case 15:nu(a),a.flags&2048&&oi(9,a,a.return);break;case 3:nu(a);break;case 12:nu(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,fd(a)):nu(a);break;default:nu(a)}}function fd(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];sn=u,I_(u,a)}M_(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:oi(8,i,i.return),fd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,fd(i));break;default:fd(i)}a=a.sibling}}function I_(a,i){for(;sn!==null;){var l=sn;switch(l.tag){case 0:case 11:case 15:oi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:jl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,sn=u;else e:for(l=a;sn!==null;){u=sn;var h=u.sibling,g=u.return;if(D_(u),u===l){sn=null;break e}if(h!==null){h.return=g,sn=h;break e}sn=g}}}var DD={getCacheForType:function(a){var i=En(Zt),l=i.data.get(a);return l===void 0&&(l=a(),i.data.set(a,l)),l}},SD=typeof WeakMap=="function"?WeakMap:Map,lt=0,wt=null,Ue=null,Ge=0,ut=0,Wn=null,ci=!1,xo=!1,Cp=!1,Na=0,kt=0,di=0,ys=0,Np=0,hr=0,Do=0,ru=null,zn=null,kp=!1,Mp=0,hd=1/0,pd=null,fi=null,pn=0,hi=null,So=null,Ao=0,Op=0,Ip=null,P_=null,au=0,Pp=null;function $n(){if((lt&2)!==0&&Ge!==0)return Ge&-Ge;if(Y.T!==null){var a=po;return a!==0?a:zp()}return Ka()}function V_(){hr===0&&(hr=(Ge&536870912)===0||at?hl():536870912);var a=fr.current;return a!==null&&(a.flags|=32),hr}function Xn(a,i,l){(a===wt&&(ut===2||ut===9)||a.cancelPendingCommit!==null)&&(Ro(a,0),pi(a,Ge,hr,!1)),la(a,l),((lt&2)===0||a!==wt)&&(a===wt&&((lt&2)===0&&(ys|=l),kt===4&&pi(a,Ge,hr,!1)),Qr(a))}function L_(a,i,l){if((lt&6)!==0)throw Error(n(327));var u=!l&&(i&124)===0&&(i&a.expiredLanes)===0||Yi(a,i),h=u?CD(a,i):jp(a,i,!0),g=u;do{if(h===0){xo&&!u&&pi(a,i,0,!1);break}else{if(l=a.current.alternate,g&&!AD(l)){h=jp(a,i,!1),g=!1;continue}if(h===2){if(g=i,a.errorRecoveryDisabledLanes&g)var T=0;else T=a.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var x=a;h=ru;var j=x.current.memoizedState.isDehydrated;if(j&&(Ro(x,T).flags|=256),T=jp(x,T,!1),T!==2){if(Cp&&!j){x.errorRecoveryDisabledLanes|=g,ys|=g,h=4;break e}g=zn,zn=h,g!==null&&(zn===null?zn=g:zn.push.apply(zn,g))}h=T}if(g=!1,h!==2)continue}}if(h===1){Ro(a,0),pi(a,i,0,!0);break}e:{switch(u=a,g=h,g){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:pi(u,i,hr,!ci);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(h=Mp+300-Pe(),10<h)){if(pi(u,i,hr,!ci),Hs(u,0,!0)!==0)break e;u.timeoutHandle=f0(j_.bind(null,u,l,zn,pd,kp,i,hr,ys,Do,ci,g,2,-0,0),h);break e}j_(u,l,zn,pd,kp,i,hr,ys,Do,ci,g,0,-0,0)}}break}while(!0);Qr(a)}function j_(a,i,l,u,h,g,T,x,j,K,ae,le,$,J){if(a.timeoutHandle=-1,le=i.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(du={stylesheets:null,count:0,unsuspend:lS},k_(i),le=cS(),le!==null)){a.cancelPendingCommit=le(q_.bind(null,a,i,g,l,u,h,T,x,j,ae,1,$,J)),pi(a,g,T,!K);return}q_(a,i,g,l,u,h,T,x,j)}function AD(a){for(var i=a;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var h=l[u],g=h.getSnapshot;h=h.value;try{if(!qn(g(),h))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pi(a,i,l,u){i&=~Np,i&=~ys,a.suspendedLanes|=i,a.pingedLanes&=~i,u&&(a.warmLanes|=i),u=a.expirationTimes;for(var h=i;0<h;){var g=31-tn(h),T=1<<g;u[g]=-1,h&=~T}l!==0&&kr(a,l,i)}function md(){return(lt&6)===0?(iu(0),!1):!0}function Vp(){if(Ue!==null){if(ut===0)var a=Ue.return;else a=Ue,Ea=ds=null,Jh(a),bo=null,Wl=0,a=Ue;for(;a!==null;)y_(a.alternate,a),a=a.return;Ue=null}}function Ro(a,i){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,qD(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Vp(),wt=a,Ue=l=_a(a.current,null),Ge=i,ut=0,Wn=null,ci=!1,xo=Yi(a,i),Cp=!1,Do=hr=Np=ys=di=kt=0,zn=ru=null,kp=!1,(i&8)!==0&&(i|=i&32);var u=a.entangledLanes;if(u!==0)for(a=a.entanglements,u&=i;0<u;){var h=31-tn(u),g=1<<h;i|=a[h],u&=~g}return Na=i,Lc(),l}function U_(a,i){Ve=null,Y.H=nd,i===Bl||i===Qc?(i=nv(),ut=3):i===Jy?(i=nv(),ut=4):ut=i===r_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Wn=i,Ue===null&&(kt=1,od(a,lr(i,a.current)))}function B_(){var a=Y.H;return Y.H=nd,a===null?nd:a}function F_(){var a=Y.A;return Y.A=DD,a}function Lp(){kt=4,ci||(Ge&4194048)!==Ge&&fr.current!==null||(xo=!0),(di&134217727)===0&&(ys&134217727)===0||wt===null||pi(wt,Ge,hr,!1)}function jp(a,i,l){var u=lt;lt|=2;var h=B_(),g=F_();(wt!==a||Ge!==i)&&(pd=null,Ro(a,i)),i=!1;var T=kt;e:do try{if(ut!==0&&Ue!==null){var x=Ue,j=Wn;switch(ut){case 8:Vp(),T=6;break e;case 3:case 2:case 9:case 6:fr.current===null&&(i=!0);var K=ut;if(ut=0,Wn=null,Co(a,x,j,K),l&&xo){T=0;break e}break;default:K=ut,ut=0,Wn=null,Co(a,x,j,K)}}RD(),T=kt;break}catch(ae){U_(a,ae)}while(!0);return i&&a.shellSuspendCounter++,Ea=ds=null,lt=u,Y.H=h,Y.A=g,Ue===null&&(wt=null,Ge=0,Lc()),T}function RD(){for(;Ue!==null;)z_(Ue)}function CD(a,i){var l=lt;lt|=2;var u=B_(),h=F_();wt!==a||Ge!==i?(pd=null,hd=Pe()+500,Ro(a,i)):xo=Yi(a,i);e:do try{if(ut!==0&&Ue!==null){i=Ue;var g=Wn;t:switch(ut){case 1:ut=0,Wn=null,Co(a,i,g,1);break;case 2:case 9:if(ev(g)){ut=0,Wn=null,Y_(i);break}i=function(){ut!==2&&ut!==9||wt!==a||(ut=7),Qr(a)},g.then(i,i);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:ev(g)?(ut=0,Wn=null,Y_(i)):(ut=0,Wn=null,Co(a,i,g,7));break;case 5:var T=null;switch(Ue.tag){case 26:T=Ue.memoizedState;case 5:case 27:var x=Ue;if(!T||x0(T)){ut=0,Wn=null;var j=x.sibling;if(j!==null)Ue=j;else{var K=x.return;K!==null?(Ue=K,gd(K)):Ue=null}break t}}ut=0,Wn=null,Co(a,i,g,5);break;case 6:ut=0,Wn=null,Co(a,i,g,6);break;case 8:Vp(),kt=6;break e;default:throw Error(n(462))}}ND();break}catch(ae){U_(a,ae)}while(!0);return Ea=ds=null,Y.H=u,Y.A=h,lt=l,Ue!==null?0:(wt=null,Ge=0,Lc(),kt)}function ND(){for(;Ue!==null&&!pe();)z_(Ue)}function z_(a){var i=m_(a.alternate,a,Na);a.memoizedProps=a.pendingProps,i===null?gd(a):Ue=i}function Y_(a){var i=a,l=i.alternate;switch(i.tag){case 15:case 0:i=u_(l,i,i.pendingProps,i.type,void 0,Ge);break;case 11:i=u_(l,i,i.pendingProps,i.type.render,i.ref,Ge);break;case 5:Jh(i);default:y_(l,i),i=Ue=Hy(i,Na),i=m_(l,i,Na)}a.memoizedProps=a.pendingProps,i===null?gd(a):Ue=i}function Co(a,i,l,u){Ea=ds=null,Jh(i),bo=null,Wl=0;var h=i.return;try{if(_D(a,h,i,l,Ge)){kt=1,od(a,lr(l,a.current)),Ue=null;return}}catch(g){if(h!==null)throw Ue=h,g;kt=1,od(a,lr(l,a.current)),Ue=null;return}i.flags&32768?(at||u===1?a=!0:xo||(Ge&536870912)!==0?a=!1:(ci=a=!0,(u===2||u===9||u===3||u===6)&&(u=fr.current,u!==null&&u.tag===13&&(u.flags|=16384))),H_(i,a)):gd(i)}function gd(a){var i=a;do{if((i.flags&32768)!==0){H_(i,ci);return}a=i.return;var l=wD(i.alternate,i,Na);if(l!==null){Ue=l;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=a}while(i!==null);kt===0&&(kt=5)}function H_(a,i){do{var l=ED(a.alternate,a);if(l!==null){l.flags&=32767,Ue=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(a=a.sibling,a!==null)){Ue=a;return}Ue=a=l}while(a!==null);kt=6,Ue=null}function q_(a,i,l,u,h,g,T,x,j){a.cancelPendingCommit=null;do yd();while(pn!==0);if((lt&6)!==0)throw Error(n(327));if(i!==null){if(i===a.current)throw Error(n(177));if(g=i.lanes|i.childLanes,g|=Rh,ml(a,l,g,T,x,j),a===wt&&(Ue=wt=null,Ge=0),So=i,hi=a,Ao=l,Op=g,Ip=h,P_=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,ID(en,function(){return $_(),null})):(a.callbackNode=null,a.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,h=Q.p,Q.p=2,T=lt,lt|=4;try{TD(a,i,l)}finally{lt=T,Q.p=h,Y.T=u}}pn=1,Q_(),G_(),K_()}}function Q_(){if(pn===1){pn=0;var a=hi,i=So,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var u=Q.p;Q.p=2;var h=lt;lt|=4;try{R_(i,a);var g=$p,T=Iy(a.containerInfo),x=g.focusedElem,j=g.selectionRange;if(T!==x&&x&&x.ownerDocument&&Oy(x.ownerDocument.documentElement,x)){if(j!==null&&Th(x)){var K=j.start,ae=j.end;if(ae===void 0&&(ae=K),"selectionStart"in x)x.selectionStart=K,x.selectionEnd=Math.min(ae,x.value.length);else{var le=x.ownerDocument||document,$=le&&le.defaultView||window;if($.getSelection){var J=$.getSelection(),ke=x.textContent.length,Re=Math.min(j.start,ke),mt=j.end===void 0?Re:Math.min(j.end,ke);!J.extend&&Re>mt&&(T=mt,mt=Re,Re=T);var z=My(x,Re),F=My(x,mt);if(z&&F&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==F.node||J.focusOffset!==F.offset)){var q=le.createRange();q.setStart(z.node,z.offset),J.removeAllRanges(),Re>mt?(J.addRange(q),J.extend(F.node,F.offset)):(q.setEnd(F.node,F.offset),J.addRange(q))}}}}for(le=[],J=x;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<le.length;x++){var se=le[x];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Cd=!!Wp,$p=Wp=null}finally{lt=h,Q.p=u,Y.T=l}}a.current=i,pn=2}}function G_(){if(pn===2){pn=0;var a=hi,i=So,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var u=Q.p;Q.p=2;var h=lt;lt|=4;try{x_(a,i.alternate,i)}finally{lt=h,Q.p=u,Y.T=l}}pn=3}}function K_(){if(pn===4||pn===3){pn=0,He();var a=hi,i=So,l=Ao,u=P_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pn=5:(pn=0,So=hi=null,W_(a,a.pendingLanes));var h=a.pendingLanes;if(h===0&&(fi=null),qs(l),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(vt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Y.T,h=Q.p,Q.p=2,Y.T=null;try{for(var g=a.onRecoverableError,T=0;T<u.length;T++){var x=u[T];g(x.value,{componentStack:x.stack})}}finally{Y.T=i,Q.p=h}}(Ao&3)!==0&&yd(),Qr(a),h=a.pendingLanes,(l&4194090)!==0&&(h&42)!==0?a===Pp?au++:(au=0,Pp=a):au=0,iu(0)}}function W_(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,jl(i)))}function yd(a){return Q_(),G_(),K_(),$_()}function $_(){if(pn!==5)return!1;var a=hi,i=Op;Op=0;var l=qs(Ao),u=Y.T,h=Q.p;try{Q.p=32>l?32:l,Y.T=null,l=Ip,Ip=null;var g=hi,T=Ao;if(pn=0,So=hi=null,Ao=0,(lt&6)!==0)throw Error(n(331));var x=lt;if(lt|=4,O_(g.current),N_(g,g.current,T,l),lt=x,iu(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(vt,g)}catch{}return!0}finally{Q.p=h,Y.T=u,W_(a,i)}}function X_(a,i,l){i=lr(l,i),i=hp(a.stateNode,i,2),a=ri(a,i,2),a!==null&&(la(a,2),Qr(a))}function _t(a,i,l){if(a.tag===3)X_(a,a,l);else for(;i!==null;){if(i.tag===3){X_(i,a,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fi===null||!fi.has(u))){a=lr(l,a),l=t_(2),u=ri(i,l,2),u!==null&&(n_(l,u,i,a),la(u,2),Qr(u));break}}i=i.return}}function Up(a,i,l){var u=a.pingCache;if(u===null){u=a.pingCache=new SD;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(l)||(Cp=!0,h.add(l),a=kD.bind(null,a,i,l),i.then(a,a))}function kD(a,i,l){var u=a.pingCache;u!==null&&u.delete(i),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,wt===a&&(Ge&l)===l&&(kt===4||kt===3&&(Ge&62914560)===Ge&&300>Pe()-Mp?(lt&2)===0&&Ro(a,0):Np|=l,Do===Ge&&(Do=0)),Qr(a)}function Z_(a,i){i===0&&(i=pl()),a=uo(a,i),a!==null&&(la(a,i),Qr(a))}function MD(a){var i=a.memoizedState,l=0;i!==null&&(l=i.retryLane),Z_(a,l)}function OD(a,i){var l=0;switch(a.tag){case 13:var u=a.stateNode,h=a.memoizedState;h!==null&&(l=h.retryLane);break;case 19:u=a.stateNode;break;case 22:u=a.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(i),Z_(a,l)}function ID(a,i){return yt(a,i)}var vd=null,No=null,Bp=!1,_d=!1,Fp=!1,vs=0;function Qr(a){a!==No&&a.next===null&&(No===null?vd=No=a:No=No.next=a),_d=!0,Bp||(Bp=!0,VD())}function iu(a,i){if(!Fp&&_d){Fp=!0;do for(var l=!1,u=vd;u!==null;){if(a!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var T=u.suspendedLanes,x=u.pingedLanes;g=(1<<31-tn(42|a)+1)-1,g&=h&~(T&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,n0(u,g))}else g=Ge,g=Hs(u,u===wt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Yi(u,g)||(l=!0,n0(u,g));u=u.next}while(l);Fp=!1}}function PD(){J_()}function J_(){_d=Bp=!1;var a=0;vs!==0&&(HD()&&(a=vs),vs=0);for(var i=Pe(),l=null,u=vd;u!==null;){var h=u.next,g=e0(u,i);g===0?(u.next=null,l===null?vd=h:l.next=h,h===null&&(No=l)):(l=u,(a!==0||(g&3)!==0)&&(_d=!0)),u=h}iu(a)}function e0(a,i){for(var l=a.suspendedLanes,u=a.pingedLanes,h=a.expirationTimes,g=a.pendingLanes&-62914561;0<g;){var T=31-tn(g),x=1<<T,j=h[T];j===-1?((x&l)===0||(x&u)!==0)&&(h[T]=fl(x,i)):j<=i&&(a.expiredLanes|=x),g&=~x}if(i=wt,l=Ge,l=Hs(a,a===i?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u=a.callbackNode,l===0||a===i&&(ut===2||ut===9)||a.cancelPendingCommit!==null)return u!==null&&u!==null&&Z(u),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Yi(a,l)){if(i=l&-l,i===a.callbackPriority)return i;switch(u!==null&&Z(u),qs(l)){case 2:case 8:l=We;break;case 32:l=en;break;case 268435456:l=zt;break;default:l=en}return u=t0.bind(null,a),l=yt(l,u),a.callbackPriority=i,a.callbackNode=l,i}return u!==null&&u!==null&&Z(u),a.callbackPriority=2,a.callbackNode=null,2}function t0(a,i){if(pn!==0&&pn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(yd()&&a.callbackNode!==l)return null;var u=Ge;return u=Hs(a,a===wt?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u===0?null:(L_(a,u,i),e0(a,Pe()),a.callbackNode!=null&&a.callbackNode===l?t0.bind(null,a):null)}function n0(a,i){if(yd())return null;L_(a,i,!0)}function VD(){QD(function(){(lt&6)!==0?yt(et,PD):J_()})}function zp(){return vs===0&&(vs=hl()),vs}function r0(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Xs(""+a)}function a0(a,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,a.id&&l.setAttribute("form",a.id),i.parentNode.insertBefore(l,i),a=new FormData(a),l.parentNode.removeChild(l),a}function LD(a,i,l,u,h){if(i==="submit"&&l&&l.stateNode===h){var g=r0((h[Yt]||null).action),T=u.submitter;T&&(i=(i=T[Yt]||null)?r0(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var x=new Zs("action","action",null,u,h);a.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(vs!==0){var j=T?a0(h,T):new FormData(h);lp(l,{pending:!0,data:j,method:h.method,action:g},null,j)}}else typeof g=="function"&&(x.preventDefault(),j=T?a0(h,T):new FormData(h),lp(l,{pending:!0,data:j,method:h.method,action:g},g,j))},currentTarget:h}]})}}for(var Yp=0;Yp<Ah.length;Yp++){var Hp=Ah[Yp],jD=Hp.toLowerCase(),UD=Hp[0].toUpperCase()+Hp.slice(1);Dr(jD,"on"+UD)}Dr(Ly,"onAnimationEnd"),Dr(jy,"onAnimationIteration"),Dr(Uy,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(nD,"onTransitionRun"),Dr(rD,"onTransitionStart"),Dr(aD,"onTransitionCancel"),Dr(By,"onTransitionEnd"),ca("onMouseEnter",["mouseout","mouseover"]),ca("onMouseLeave",["mouseout","mouseover"]),ca("onPointerEnter",["pointerout","pointerover"]),ca("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function i0(a,i){i=(i&4)!==0;for(var l=0;l<a.length;l++){var u=a[l],h=u.event;u=u.listeners;e:{var g=void 0;if(i)for(var T=u.length-1;0<=T;T--){var x=u[T],j=x.instance,K=x.currentTarget;if(x=x.listener,j!==g&&h.isPropagationStopped())break e;g=x,h.currentTarget=K;try{g(h)}catch(ae){sd(ae)}h.currentTarget=null,g=j}else for(T=0;T<u.length;T++){if(x=u[T],j=x.instance,K=x.currentTarget,x=x.listener,j!==g&&h.isPropagationStopped())break e;g=x,h.currentTarget=K;try{g(h)}catch(ae){sd(ae)}h.currentTarget=null,g=j}}}}function Be(a,i){var l=i[yl];l===void 0&&(l=i[yl]=new Set);var u=a+"__bubble";l.has(u)||(s0(i,a,2,!1),l.add(u))}function qp(a,i,l){var u=0;i&&(u|=4),s0(l,a,u,i)}var bd="_reactListening"+Math.random().toString(36).slice(2);function Qp(a){if(!a[bd]){a[bd]=!0,vl.forEach(function(l){l!=="selectionchange"&&(BD.has(l)||qp(l,!1,a),qp(l,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[bd]||(i[bd]=!0,qp("selectionchange",!1,i))}}function s0(a,i,l,u){switch(N0(i)){case 2:var h=hS;break;case 8:h=pS;break;default:h=sm}l=h.bind(null,i,l,a),h=void 0,!sr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?a.addEventListener(i,l,{capture:!0,passive:h}):a.addEventListener(i,l,!0):h!==void 0?a.addEventListener(i,l,{passive:h}):a.addEventListener(i,l,!1)}function Gp(a,i,l,u,h){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var x=u.stateNode.containerInfo;if(x===h)break;if(T===4)for(T=u.return;T!==null;){var j=T.tag;if((j===3||j===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;x!==null;){if(T=ua(x),T===null)return;if(j=T.tag,j===5||j===6||j===26||j===27){u=g=T;continue e}x=x.parentNode}}u=u.return}Ec(function(){var K=g,ae=ir(l),le=[];e:{var $=Fy.get(a);if($!==void 0){var J=Zs,ke=a;switch(a){case"keypress":if(Lr(l)===0)break e;case"keydown":case"keyup":J=ao;break;case"focusin":ke="focus",J=to;break;case"focusout":ke="blur",J=to;break;case"beforeblur":case"afterblur":J=to;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=_h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Nc;break;case Ly:case jy:case Uy:J=no;break;case By:J=Mc;break;case"scroll":case"scrollend":J=Tc;break;case"wheel":J=io;break;case"copy":case"cut":case"paste":J=ro;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Nl;break;case"toggle":case"beforetoggle":J=Ic}var Re=(i&4)!==0,mt=!Re&&(a==="scroll"||a==="scrollend"),z=Re?$!==null?$+"Capture":null:$;Re=[];for(var F=K,q;F!==null;){var se=F;if(q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||q===null||z===null||(se=Xi(F,z),se!=null&&Re.push(ou(F,se,q))),mt)break;F=F.return}0<Re.length&&($=new J($,ke,null,l,ae),le.push({event:$,listeners:Re}))}}if((i&7)===0){e:{if($=a==="mouseover"||a==="pointerover",J=a==="mouseout"||a==="pointerout",$&&l!==ha&&(ke=l.relatedTarget||l.fromElement)&&(ua(ke)||ke[rr]))break e;if((J||$)&&($=ae.window===ae?ae:($=ae.ownerDocument)?$.defaultView||$.parentWindow:window,J?(ke=l.relatedTarget||l.toElement,J=K,ke=ke?ua(ke):null,ke!==null&&(mt=o(ke),Re=ke.tag,ke!==mt||Re!==5&&Re!==27&&Re!==6)&&(ke=null)):(J=null,ke=K),J!==ke)){if(Re=or,se="onMouseLeave",z="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(Re=Nl,se="onPointerLeave",z="onPointerEnter",F="pointer"),mt=J==null?$:Or(J),q=ke==null?$:Or(ke),$=new Re(se,F+"leave",J,l,ae),$.target=mt,$.relatedTarget=q,se=null,ua(ae)===K&&(Re=new Re(z,F+"enter",ke,l,ae),Re.target=q,Re.relatedTarget=mt,se=Re),mt=se,J&&ke)t:{for(Re=J,z=ke,F=0,q=Re;q;q=ko(q))F++;for(q=0,se=z;se;se=ko(se))q++;for(;0<F-q;)Re=ko(Re),F--;for(;0<q-F;)z=ko(z),q--;for(;F--;){if(Re===z||z!==null&&Re===z.alternate)break t;Re=ko(Re),z=ko(z)}Re=null}else Re=null;J!==null&&o0(le,$,J,Re,!1),ke!==null&&mt!==null&&o0(le,mt,ke,Re,!0)}}e:{if($=K?Or(K):window,J=$.nodeName&&$.nodeName.toLowerCase(),J==="select"||J==="input"&&$.type==="file")var be=Sy;else if(Xt($))if(Ay)be=Jx;else{be=Xx;var je=$x}else J=$.nodeName,!J||J.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&Tl(K.elementType)&&(be=Sy):be=Zx;if(be&&(be=be(a,K))){va(le,be,l,ae);break e}je&&je(a,$,K),a==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&Za($,"number",$.value)}switch(je=K?Or(K):window,a){case"focusin":(Xt(je)||je.contentEditable==="true")&&(so=je,xh=K,Ol=null);break;case"focusout":Ol=xh=so=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,Py(le,l,ae);break;case"selectionchange":if(tD)break;case"keydown":case"keyup":Py(le,l,ae)}var xe;if(Br)e:{switch(a){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else qe?ee(a,l)&&(Ce="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(E&&l.locale!=="ko"&&(qe||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&qe&&(xe=Dl()):(Vr=ae,Ja="value"in Vr?Vr.value:Vr.textContent,qe=!0)),je=wd(K,Ce),0<je.length&&(Ce=new Rl(Ce,a,null,l,ae),le.push({event:Ce,listeners:je}),xe?Ce.data=xe:(xe=me(l),xe!==null&&(Ce.data=xe)))),(xe=v?$t(a,l):Qe(a,l))&&(Ce=wd(K,"onBeforeInput"),0<Ce.length&&(je=new Rl("onBeforeInput","beforeinput",null,l,ae),le.push({event:je,listeners:Ce}),je.data=xe)),LD(le,a,K,l,ae)}i0(le,i)})}function ou(a,i,l){return{instance:a,listener:i,currentTarget:l}}function wd(a,i){for(var l=i+"Capture",u=[];a!==null;){var h=a,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Xi(a,l),h!=null&&u.unshift(ou(a,h,g)),h=Xi(a,i),h!=null&&u.push(ou(a,h,g))),a.tag===3)return u;a=a.return}return[]}function ko(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function o0(a,i,l,u,h){for(var g=i._reactName,T=[];l!==null&&l!==u;){var x=l,j=x.alternate,K=x.stateNode;if(x=x.tag,j!==null&&j===u)break;x!==5&&x!==26&&x!==27||K===null||(j=K,h?(K=Xi(l,g),K!=null&&T.unshift(ou(l,K,j))):h||(K=Xi(l,g),K!=null&&T.push(ou(l,K,j)))),l=l.return}T.length!==0&&a.push({event:i,listeners:T})}var FD=/\r\n?/g,zD=/\u0000|\uFFFD/g;function l0(a){return(typeof a=="string"?a:""+a).replace(FD,`
`).replace(zD,"")}function u0(a,i){return i=l0(i),l0(a)===i}function Ed(){}function pt(a,i,l,u,h,g){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||ar(a,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&ar(a,""+u);break;case"className":Ir(a,"class",u);break;case"tabIndex":Ir(a,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(a,l,u);break;case"style":El(a,u,g);break;case"data":if(i!=="object"){Ir(a,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){a.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(l);break}u=Xs(""+u),a.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&pt(a,i,"name",h.name,h,null),pt(a,i,"formEncType",h.formEncType,h,null),pt(a,i,"formMethod",h.formMethod,h,null),pt(a,i,"formTarget",h.formTarget,h,null)):(pt(a,i,"encType",h.encType,h,null),pt(a,i,"method",h.method,h,null),pt(a,i,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(l);break}u=Xs(""+u),a.setAttribute(l,u);break;case"onClick":u!=null&&(a.onclick=Ed);break;case"onScroll":u!=null&&Be("scroll",a);break;case"onScrollEnd":u!=null&&Be("scrollend",a);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"multiple":a.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":a.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){a.removeAttribute("xlink:href");break}l=Xs(""+u),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(l,""+u):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":u===!0?a.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(l,u):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?a.setAttribute(l,u):a.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?a.removeAttribute(l):a.setAttribute(l,u);break;case"popover":Be("beforetoggle",a),Be("toggle",a),Xa(a,"popover",u);break;case"xlinkActuate":dn(a,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":dn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":dn(a,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":dn(a,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":dn(a,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":dn(a,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":dn(a,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":dn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":dn(a,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Xa(a,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=yh.get(l)||l,Xa(a,l,u))}}function Kp(a,i,l,u,h,g){switch(l){case"style":El(a,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"children":typeof u=="string"?ar(a,u):(typeof u=="number"||typeof u=="bigint")&&ar(a,""+u);break;case"onScroll":u!=null&&Be("scroll",a);break;case"onScrollEnd":u!=null&&Be("scrollend",a);break;case"onClick":u!=null&&(a.onclick=Ed);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),i=l.slice(2,h?l.length-7:void 0),g=a[Yt]||null,g=g!=null?g[l]:null,typeof g=="function"&&a.removeEventListener(i,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(i,u,h);break e}l in a?a[l]=u:u===!0?a.setAttribute(l,""):Xa(a,l,u)}}}function mn(a,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",a),Be("load",a);var u=!1,h=!1,g;for(g in l)if(l.hasOwnProperty(g)){var T=l[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:pt(a,i,g,T,l,null)}}h&&pt(a,i,"srcSet",l.srcSet,l,null),u&&pt(a,i,"src",l.src,l,null);return;case"input":Be("invalid",a);var x=g=T=h=null,j=null,K=null;for(u in l)if(l.hasOwnProperty(u)){var ae=l[u];if(ae!=null)switch(u){case"name":h=ae;break;case"type":T=ae;break;case"checked":j=ae;break;case"defaultChecked":K=ae;break;case"value":g=ae;break;case"defaultValue":x=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,i));break;default:pt(a,i,u,ae,l,null)}}Ki(a,g,x,j,K,T,h,!1),$s(a);return;case"select":Be("invalid",a),u=T=g=null;for(h in l)if(l.hasOwnProperty(h)&&(x=l[h],x!=null))switch(h){case"value":g=x;break;case"defaultValue":T=x;break;case"multiple":u=x;default:pt(a,i,h,x,l,null)}i=g,l=T,a.multiple=!!u,i!=null?fa(a,!!u,i,!1):l!=null&&fa(a,!!u,l,!0);return;case"textarea":Be("invalid",a),g=h=u=null;for(T in l)if(l.hasOwnProperty(T)&&(x=l[T],x!=null))switch(T){case"value":u=x;break;case"defaultValue":h=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:pt(a,i,T,x,l,null)}Wi(a,u,h,g),$s(a);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(u=l[j],u!=null))switch(j){case"selected":a.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:pt(a,i,j,u,l,null)}return;case"dialog":Be("beforetoggle",a),Be("toggle",a),Be("cancel",a),Be("close",a);break;case"iframe":case"object":Be("load",a);break;case"video":case"audio":for(u=0;u<su.length;u++)Be(su[u],a);break;case"image":Be("error",a),Be("load",a);break;case"details":Be("toggle",a);break;case"embed":case"source":case"link":Be("error",a),Be("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(u=l[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:pt(a,i,K,u,l,null)}return;default:if(Tl(i)){for(ae in l)l.hasOwnProperty(ae)&&(u=l[ae],u!==void 0&&Kp(a,i,ae,u,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(u=l[x],u!=null&&pt(a,i,x,u,l,null))}function YD(a,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,T=null,x=null,j=null,K=null,ae=null;for(J in l){var le=l[J];if(l.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":j=le;default:u.hasOwnProperty(J)||pt(a,i,J,null,u,le)}}for(var $ in u){var J=u[$];if(le=l[$],u.hasOwnProperty($)&&(J!=null||le!=null))switch($){case"type":g=J;break;case"name":h=J;break;case"checked":K=J;break;case"defaultChecked":ae=J;break;case"value":T=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,i));break;default:J!==le&&pt(a,i,$,J,u,le)}}Hn(a,T,x,j,K,ae,g,h);return;case"select":J=T=x=$=null;for(g in l)if(j=l[g],l.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":J=j;default:u.hasOwnProperty(g)||pt(a,i,g,null,u,j)}for(h in u)if(g=u[h],j=l[h],u.hasOwnProperty(h)&&(g!=null||j!=null))switch(h){case"value":$=g;break;case"defaultValue":x=g;break;case"multiple":T=g;default:g!==j&&pt(a,i,h,g,u,j)}i=x,l=T,u=J,$!=null?fa(a,!!l,$,!1):!!u!=!!l&&(i!=null?fa(a,!!l,i,!0):fa(a,!!l,l?[]:"",!1));return;case"textarea":J=$=null;for(x in l)if(h=l[x],l.hasOwnProperty(x)&&h!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:pt(a,i,x,null,u,h)}for(T in u)if(h=u[T],g=l[T],u.hasOwnProperty(T)&&(h!=null||g!=null))switch(T){case"value":$=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(n(91));break;default:h!==g&&pt(a,i,T,h,u,g)}ft(a,$,J);return;case"option":for(var ke in l)if($=l[ke],l.hasOwnProperty(ke)&&$!=null&&!u.hasOwnProperty(ke))switch(ke){case"selected":a.selected=!1;break;default:pt(a,i,ke,null,u,$)}for(j in u)if($=u[j],J=l[j],u.hasOwnProperty(j)&&$!==J&&($!=null||J!=null))switch(j){case"selected":a.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:pt(a,i,j,$,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in l)$=l[Re],l.hasOwnProperty(Re)&&$!=null&&!u.hasOwnProperty(Re)&&pt(a,i,Re,null,u,$);for(K in u)if($=u[K],J=l[K],u.hasOwnProperty(K)&&$!==J&&($!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(n(137,i));break;default:pt(a,i,K,$,u,J)}return;default:if(Tl(i)){for(var mt in l)$=l[mt],l.hasOwnProperty(mt)&&$!==void 0&&!u.hasOwnProperty(mt)&&Kp(a,i,mt,void 0,u,$);for(ae in u)$=u[ae],J=l[ae],!u.hasOwnProperty(ae)||$===J||$===void 0&&J===void 0||Kp(a,i,ae,$,u,J);return}}for(var z in l)$=l[z],l.hasOwnProperty(z)&&$!=null&&!u.hasOwnProperty(z)&&pt(a,i,z,null,u,$);for(le in u)$=u[le],J=l[le],!u.hasOwnProperty(le)||$===J||$==null&&J==null||pt(a,i,le,$,u,J)}var Wp=null,$p=null;function Td(a){return a.nodeType===9?a:a.ownerDocument}function c0(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d0(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function Xp(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zp=null;function HD(){var a=window.event;return a&&a.type==="popstate"?a===Zp?!1:(Zp=a,!0):(Zp=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,qD=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,QD=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(a){return h0.resolve(null).then(a).catch(GD)}:f0;function GD(a){setTimeout(function(){throw a})}function mi(a){return a==="head"}function p0(a,i){var l=i,u=0,h=0;do{var g=l.nextSibling;if(a.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<u&&8>u){l=u;var T=a.ownerDocument;if(l&1&&lu(T.documentElement),l&2&&lu(T.body),l&4)for(l=T.head,lu(l),T=l.firstChild;T;){var x=T.nextSibling,j=T.nodeName;T[Hi]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=x}}if(h===0){a.removeChild(g),gu(i);return}h--}else l==="$"||l==="$?"||l==="$!"?h++:u=l.charCodeAt(0)-48;else u=0;l=g}while(l);gu(i)}function Jp(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Jp(l),$a(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function KD(a,i,l,u){for(;a.nodeType===1;){var h=l;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(u){if(!a[Hi])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(g=a.getAttribute("rel"),g==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(g!==h.rel||a.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||a.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||a.getAttribute("title")!==(h.title==null?null:h.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(g=a.getAttribute("src"),(g!==(h.src==null?null:h.src)||a.getAttribute("type")!==(h.type==null?null:h.type)||a.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&a.getAttribute("name")===g)return a}else return a;if(a=Ar(a.nextSibling),a===null)break}return null}function WD(a,i,l){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Ar(a.nextSibling),a===null))return null;return a}function em(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function $D(a,i){var l=a.ownerDocument;if(a.data!=="$?"||l.readyState==="complete")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),a._reactRetry=u}}function Ar(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return a}var tm=null;function m0(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return a;i--}else l==="/$"&&i++}a=a.previousSibling}return null}function g0(a,i,l){switch(i=Td(l),a){case"html":if(a=i.documentElement,!a)throw Error(n(452));return a;case"head":if(a=i.head,!a)throw Error(n(453));return a;case"body":if(a=i.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function lu(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);$a(a)}var pr=new Map,y0=new Set;function xd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ka=Q.d;Q.d={f:XD,r:ZD,D:JD,C:eS,L:tS,m:nS,X:aS,S:rS,M:iS};function XD(){var a=ka.f(),i=md();return a||i}function ZD(a){var i=Mr(a);i!==null&&i.tag===5&&i.type==="form"?Lv(i):ka.r(a)}var Mo=typeof document>"u"?null:document;function v0(a,i,l){var u=Mo;if(u&&typeof i=="string"&&i){var h=Ht(i);h='link[rel="'+a+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),y0.has(h)||(y0.add(h),a={rel:a,crossOrigin:l,href:i},u.querySelector(h)===null&&(i=u.createElement("link"),mn(i,"link",a),Vt(i),u.head.appendChild(i)))}}function JD(a){ka.D(a),v0("dns-prefetch",a,null)}function eS(a,i){ka.C(a,i),v0("preconnect",a,i)}function tS(a,i,l){ka.L(a,i,l);var u=Mo;if(u&&a&&i){var h='link[rel="preload"][as="'+Ht(i)+'"]';i==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+Ht(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+Ht(l.imageSizes)+'"]')):h+='[href="'+Ht(a)+'"]';var g=h;switch(i){case"style":g=Oo(a);break;case"script":g=Io(a)}pr.has(g)||(a=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:a,as:i},l),pr.set(g,a),u.querySelector(h)!==null||i==="style"&&u.querySelector(uu(g))||i==="script"&&u.querySelector(cu(g))||(i=u.createElement("link"),mn(i,"link",a),Vt(i),u.head.appendChild(i)))}}function nS(a,i){ka.m(a,i);var l=Mo;if(l&&a){var u=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ht(u)+'"][href="'+Ht(a)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Io(a)}if(!pr.has(g)&&(a=y({rel:"modulepreload",href:a},i),pr.set(g,a),l.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(cu(g)))return}u=l.createElement("link"),mn(u,"link",a),Vt(u),l.head.appendChild(u)}}}function rS(a,i,l){ka.S(a,i,l);var u=Mo;if(u&&a){var h=Nn(u).hoistableStyles,g=Oo(a);i=i||"default";var T=h.get(g);if(!T){var x={loading:0,preload:null};if(T=u.querySelector(uu(g)))x.loading=5;else{a=y({rel:"stylesheet",href:a,"data-precedence":i},l),(l=pr.get(g))&&nm(a,l);var j=T=u.createElement("link");Vt(j),mn(j,"link",a),j._p=new Promise(function(K,ae){j.onload=K,j.onerror=ae}),j.addEventListener("load",function(){x.loading|=1}),j.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Dd(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:x},h.set(g,T)}}}function aS(a,i){ka.X(a,i);var l=Mo;if(l&&a){var u=Nn(l).hoistableScripts,h=Io(a),g=u.get(h);g||(g=l.querySelector(cu(h)),g||(a=y({src:a,async:!0},i),(i=pr.get(h))&&rm(a,i),g=l.createElement("script"),Vt(g),mn(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function iS(a,i){ka.M(a,i);var l=Mo;if(l&&a){var u=Nn(l).hoistableScripts,h=Io(a),g=u.get(h);g||(g=l.querySelector(cu(h)),g||(a=y({src:a,async:!0,type:"module"},i),(i=pr.get(h))&&rm(a,i),g=l.createElement("script"),Vt(g),mn(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function _0(a,i,l,u){var h=(h=Te.current)?xd(h):null;if(!h)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Oo(l.href),l=Nn(h).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Oo(l.href);var g=Nn(h).hoistableStyles,T=g.get(a);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(a,T),(g=h.querySelector(uu(a)))&&!g._p&&(T.instance=g,T.state.loading=5),pr.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pr.set(a,l),g||sS(h,a,l,T.state))),i&&u===null)throw Error(n(528,""));return T}if(i&&u!==null)throw Error(n(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Io(l),l=Nn(h).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Oo(a){return'href="'+Ht(a)+'"'}function uu(a){return'link[rel="stylesheet"]['+a+"]"}function b0(a){return y({},a,{"data-precedence":a.precedence,precedence:null})}function sS(a,i,l,u){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=a.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),mn(i,"link",l),Vt(i),a.head.appendChild(i))}function Io(a){return'[src="'+Ht(a)+'"]'}function cu(a){return"script[async]"+a}function w0(a,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=a.querySelector('style[data-href~="'+Ht(l.href)+'"]');if(u)return i.instance=u,Vt(u),u;var h=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(a.ownerDocument||a).createElement("style"),Vt(u),mn(u,"style",h),Dd(u,l.precedence,a),i.instance=u;case"stylesheet":h=Oo(l.href);var g=a.querySelector(uu(h));if(g)return i.state.loading|=4,i.instance=g,Vt(g),g;u=b0(l),(h=pr.get(h))&&nm(u,h),g=(a.ownerDocument||a).createElement("link"),Vt(g);var T=g;return T._p=new Promise(function(x,j){T.onload=x,T.onerror=j}),mn(g,"link",u),i.state.loading|=4,Dd(g,l.precedence,a),i.instance=g;case"script":return g=Io(l.src),(h=a.querySelector(cu(g)))?(i.instance=h,Vt(h),h):(u=l,(h=pr.get(g))&&(u=y({},l),rm(u,h)),a=a.ownerDocument||a,h=a.createElement("script"),Vt(h),mn(h,"link",u),a.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Dd(u,l.precedence,a));return i.instance}function Dd(a,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,T=0;T<u.length;T++){var x=u[T];if(x.dataset.precedence===i)g=x;else if(g!==h)break}g?g.parentNode.insertBefore(a,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(a,i.firstChild))}function nm(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function rm(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var Sd=null;function E0(a,i,l){if(Sd===null){var u=new Map,h=Sd=new Map;h.set(l,u)}else h=Sd,u=h.get(l),u||(u=new Map,h.set(l,u));if(u.has(a))return u;for(u.set(a,null),l=l.getElementsByTagName(a),h=0;h<l.length;h++){var g=l[h];if(!(g[Hi]||g[Wt]||a==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=a+T;var x=u.get(T);x?x.push(g):u.set(T,[g])}}return u}function T0(a,i,l){a=a.ownerDocument||a,a.head.insertBefore(l,i==="title"?a.querySelector("head > title"):null)}function oS(a,i,l){if(l===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return a=i.disabled,typeof i.precedence=="string"&&a==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function x0(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var du=null;function lS(){}function uS(a,i,l){if(du===null)throw Error(n(475));var u=du;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Oo(l.href),g=a.querySelector(uu(h));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(u.count++,u=Ad.bind(u),a.then(u,u)),i.state.loading|=4,i.instance=g,Vt(g);return}g=a.ownerDocument||a,l=b0(l),(h=pr.get(h))&&nm(l,h),g=g.createElement("link"),Vt(g);var T=g;T._p=new Promise(function(x,j){T.onload=x,T.onerror=j}),mn(g,"link",l),i.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Ad.bind(u),a.addEventListener("load",i),a.addEventListener("error",i))}}function cS(){if(du===null)throw Error(n(475));var a=du;return a.stylesheets&&a.count===0&&am(a,a.stylesheets),0<a.count?function(i){var l=setTimeout(function(){if(a.stylesheets&&am(a,a.stylesheets),a.unsuspend){var u=a.unsuspend;a.unsuspend=null,u()}},6e4);return a.unsuspend=i,function(){a.unsuspend=null,clearTimeout(l)}}:null}function Ad(){if(this.count--,this.count===0){if(this.stylesheets)am(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Rd=null;function am(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Rd=new Map,i.forEach(dS,a),Rd=null,Ad.call(a))}function dS(a,i){if(!(i.state.loading&4)){var l=Rd.get(a);if(l)var u=l.get(null);else{l=new Map,Rd.set(a,l);for(var h=a.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var T=h[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}h=i.instance,T=h.getAttribute("data-precedence"),g=l.get(T)||u,g===u&&l.set(null,h),l.set(T,h),this.count++,u=Ad.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(h,a.firstChild)),i.state.loading|=4}}var fu={$$typeof:X,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function fS(a,i,l,u,h,g,T,x){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.hiddenUpdates=oa(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function D0(a,i,l,u,h,g,T,x,j,K,ae,le){return a=new fS(a,i,l,T,x,j,K,le),i=1,g===!0&&(i|=24),g=Qn(3,null,null,i),a.current=g,g.stateNode=a,i=Uh(),i.refCount++,a.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:i},Yh(g),a}function S0(a){return a?(a=co,a):co}function A0(a,i,l,u,h,g){h=S0(h),u.context===null?u.context=h:u.pendingContext=h,u=ni(i),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=ri(a,u,i),l!==null&&(Xn(l,a,i),zl(l,a,i))}function R0(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<i?l:i}}function im(a,i){R0(a,i),(a=a.alternate)&&R0(a,i)}function C0(a){if(a.tag===13){var i=uo(a,67108864);i!==null&&Xn(i,a,67108864),im(a,67108864)}}var Cd=!0;function hS(a,i,l,u){var h=Y.T;Y.T=null;var g=Q.p;try{Q.p=2,sm(a,i,l,u)}finally{Q.p=g,Y.T=h}}function pS(a,i,l,u){var h=Y.T;Y.T=null;var g=Q.p;try{Q.p=8,sm(a,i,l,u)}finally{Q.p=g,Y.T=h}}function sm(a,i,l,u){if(Cd){var h=om(u);if(h===null)Gp(a,i,u,Nd,l),k0(a,u);else if(gS(h,a,i,l,u))u.stopPropagation();else if(k0(a,u),i&4&&-1<mS.indexOf(a)){for(;h!==null;){var g=Mr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Er(g.pendingLanes);if(T!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var j=1<<31-tn(T);x.entanglements[1]|=j,T&=~j}Qr(g),(lt&6)===0&&(hd=Pe()+500,iu(0))}}break;case 13:x=uo(g,2),x!==null&&Xn(x,g,2),md(),im(g,2)}if(g=om(u),g===null&&Gp(a,i,u,Nd,l),g===h)break;h=g}h!==null&&u.stopPropagation()}else Gp(a,i,u,null,l)}}function om(a){return a=ir(a),lm(a)}var Nd=null;function lm(a){if(Nd=null,a=ua(a),a!==null){var i=o(a);if(i===null)a=null;else{var l=i.tag;if(l===13){if(a=c(i),a!==null)return a;a=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Nd=a,null}function N0(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rt()){case et:return 2;case We:return 8;case en:case wr:return 32;case zt:return 268435456;default:return 32}default:return 32}}var um=!1,gi=null,yi=null,vi=null,hu=new Map,pu=new Map,_i=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(a,i){switch(a){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":hu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(i.pointerId)}}function mu(a,i,l,u,h,g){return a===null||a.nativeEvent!==g?(a={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},i!==null&&(i=Mr(i),i!==null&&C0(i)),a):(a.eventSystemFlags|=u,i=a.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),a)}function gS(a,i,l,u,h){switch(i){case"focusin":return gi=mu(gi,a,i,l,u,h),!0;case"dragenter":return yi=mu(yi,a,i,l,u,h),!0;case"mouseover":return vi=mu(vi,a,i,l,u,h),!0;case"pointerover":var g=h.pointerId;return hu.set(g,mu(hu.get(g)||null,a,i,l,u,h)),!0;case"gotpointercapture":return g=h.pointerId,pu.set(g,mu(pu.get(g)||null,a,i,l,u,h)),!0}return!1}function M0(a){var i=ua(a.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){a.blockedOn=i,mc(a.priority,function(){if(l.tag===13){var u=$n();u=Ga(u);var h=uo(l,u);h!==null&&Xn(h,l,u),im(l,u)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function kd(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var l=om(a.nativeEvent);if(l===null){l=a.nativeEvent;var u=new l.constructor(l.type,l);ha=u,l.target.dispatchEvent(u),ha=null}else return i=Mr(l),i!==null&&C0(i),a.blockedOn=l,!1;i.shift()}return!0}function O0(a,i,l){kd(a)&&l.delete(i)}function yS(){um=!1,gi!==null&&kd(gi)&&(gi=null),yi!==null&&kd(yi)&&(yi=null),vi!==null&&kd(vi)&&(vi=null),hu.forEach(O0),pu.forEach(O0)}function Md(a,i){a.blockedOn===i&&(a.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yS)))}var Od=null;function I0(a){Od!==a&&(Od=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Od===a&&(Od=null);for(var i=0;i<a.length;i+=3){var l=a[i],u=a[i+1],h=a[i+2];if(typeof u!="function"){if(lm(u||l)===null)continue;break}var g=Mr(l);g!==null&&(a.splice(i,3),i-=3,lp(g,{pending:!0,data:h,method:l.method,action:u},u,h))}}))}function gu(a){function i(j){return Md(j,a)}gi!==null&&Md(gi,a),yi!==null&&Md(yi,a),vi!==null&&Md(vi,a),hu.forEach(i),pu.forEach(i);for(var l=0;l<_i.length;l++){var u=_i[l];u.blockedOn===a&&(u.blockedOn=null)}for(;0<_i.length&&(l=_i[0],l.blockedOn===null);)M0(l),l.blockedOn===null&&_i.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var h=l[u],g=l[u+1],T=h[Yt]||null;if(typeof g=="function")T||I0(l);else if(T){var x=null;if(g&&g.hasAttribute("formAction")){if(h=g,T=g[Yt]||null)x=T.formAction;else if(lm(h)!==null)continue}else x=T.action;typeof x=="function"?l[u+1]=x:(l.splice(u,3),u-=3),I0(l)}}}function cm(a){this._internalRoot=a}Id.prototype.render=cm.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(n(409));var l=i.current,u=$n();A0(l,u,a,i,null,null)},Id.prototype.unmount=cm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;A0(a.current,2,null,a,null,null),md(),i[rr]=null}};function Id(a){this._internalRoot=a}Id.prototype.unstable_scheduleHydration=function(a){if(a){var i=Ka();a={blockedOn:null,target:a,priority:i};for(var l=0;l<_i.length&&i!==0&&i<_i[l].priority;l++);_i.splice(l,0,a),l===0&&M0(a)}};var P0=e.version;if(P0!=="19.1.0")throw Error(n(527,P0,"19.1.0"));Q.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=p(i),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var vS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{vt=Pd.inject(vS),ze=Pd}catch{}}return vu.createRoot=function(a,i){if(!s(a))throw Error(n(299));var l=!1,u="",h=Xv,g=Zv,T=Jv,x=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks)),i=D0(a,1,!1,null,null,l,u,h,g,T,x,null),a[rr]=i.current,Qp(a),new cm(i)},vu.hydrateRoot=function(a,i,l){if(!s(a))throw Error(n(299));var u=!1,h="",g=Xv,T=Zv,x=Jv,j=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(j=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),i=D0(a,1,!0,i,l??null,u,h,g,T,x,j,K),i.context=S0(null),l=i.current,u=$n(),u=Ga(u),h=ni(u),h.callback=null,ri(l,h,u),l=u,i.current.lanes=l,la(i,l),Qr(i),a[rr]=i.current,Qp(a),new Id(i)},vu.version="19.1.0",vu}var q0;function RS(){if(q0)return hm.exports;q0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hm.exports=AS(),hm.exports}var CS=RS(),_u={},Q0;function NS(){if(Q0)return _u;Q0=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.parse=c,_u.serialize=m;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,D){const S=new o,P=w.length;if(P<2)return S;const N=D?.decode||y;let C=0;do{const G=w.indexOf("=",C);if(G===-1)break;const X=w.indexOf(";",C),te=X===-1?P:X;if(G>te){C=w.lastIndexOf(";",G-1)+1;continue}const re=f(w,C,G),he=p(w,G,re),I=w.slice(re,he);if(S[I]===void 0){let R=f(w,G+1,te),k=p(w,te,R);const V=N(w.slice(R,k));S[I]=V}C=te+1}while(C<P);return S}function f(w,D,S){do{const P=w.charCodeAt(D);if(P!==32&&P!==9)return D}while(++D<S);return S}function p(w,D,S){for(;D>S;){const P=w.charCodeAt(--D);if(P!==32&&P!==9)return D+1}return S}function m(w,D,S){const P=S?.encode||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const N=P(D);if(!e.test(N))throw new TypeError(`argument val is invalid: ${D}`);let C=w+"="+N;if(!S)return C;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);C+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);C+="; Domain="+S.domain}if(S.path){if(!n.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);C+="; Path="+S.path}if(S.expires){if(!b(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);C+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(C+="; HttpOnly"),S.secure&&(C+="; Secure"),S.partitioned&&(C+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return C}function y(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return s.call(w)==="[object Date]"}return _u}NS();var G0="popstate";function kS(r={}){function e(n,s){let{pathname:o,search:c,hash:f}=n.location;return jm("",{pathname:o,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:Bu(s)}return OS(e,t,null,r)}function At(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function na(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MS(){return Math.random().toString(36).substring(2,10)}function K0(r,e){return{usr:r.state,key:r.key,idx:e}}function jm(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:t,key:e&&e.key||n||MS()}}function Bu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function al(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function OS(r,e,t,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,c=s.history,f="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function b(){f="POP";let N=y(),C=N==null?null:N-m;m=N,p&&p({action:f,location:P.location,delta:C})}function w(N,C){f="PUSH";let G=jm(P.location,N,C);m=y()+1;let X=K0(G,m),te=P.createHref(G);try{c.pushState(X,"",te)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;s.location.assign(te)}o&&p&&p({action:f,location:P.location,delta:1})}function D(N,C){f="REPLACE";let G=jm(P.location,N,C);m=y();let X=K0(G,m),te=P.createHref(G);c.replaceState(X,"",te),o&&p&&p({action:f,location:P.location,delta:0})}function S(N){return IS(N)}let P={get action(){return f},get location(){return r(s,c)},listen(N){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(G0,b),p=N,()=>{s.removeEventListener(G0,b),p=null}},createHref(N){return e(s,N)},createURL:S,encodeLocation(N){let C=S(N);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:D,go(N){return c.go(N)}};return P}function IS(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),At(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Bu(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function Kw(r,e,t="/"){return PS(r,e,t,!1)}function PS(r,e,t,n){let s=typeof e=="string"?al(e):e,o=Ba(s.pathname||"/",t);if(o==null)return null;let c=Ww(r);VS(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=GS(o);f=qS(c[p],m,n)}return f}function Ww(r,e=[],t=[],n=""){let s=(o,c,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};p.relativePath.startsWith("/")&&(At(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length));let m=Ma([n,p.relativePath]),y=t.concat(p);o.children&&o.children.length>0&&(At(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Ww(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:YS(m,o.index),routesMeta:y})};return r.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))s(o,c);else for(let f of $w(o.path))s(o,c,f)}),e}function $w(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let c=$w(n.join("/")),f=[];return f.push(...c.map(p=>p===""?o:[o,p].join("/"))),s&&f.push(...c),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function VS(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:HS(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var LS=/^:[\w-]+$/,jS=3,US=2,BS=1,FS=10,zS=-2,W0=r=>r==="*";function YS(r,e){let t=r.split("/"),n=t.length;return t.some(W0)&&(n+=zS),e&&(n+=US),t.filter(s=>!W0(s)).reduce((s,o)=>s+(LS.test(o)?jS:o===""?BS:FS),n)}function HS(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function qS(r,e,t=!1){let{routesMeta:n}=r,s={},o="/",c=[];for(let f=0;f<n.length;++f){let p=n[f],m=f===n.length-1,y=o==="/"?e:e.slice(o.length)||"/",b=ff({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),w=p.route;if(!b&&m&&t&&!n[n.length-1].route.index&&(b=ff({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!b)return null;Object.assign(s,b.params),c.push({params:s,pathname:Ma([o,b.pathname]),pathnameBase:XS(Ma([o,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(o=Ma([o,b.pathnameBase]))}return c}function ff(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=QS(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:n.reduce((m,{paramName:y,isOptional:b},w)=>{if(y==="*"){let S=f[w]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const D=f[w];return b&&!D?m[y]=void 0:m[y]=(D||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:r}}function QS(r,e=!1,t=!0){na(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(n.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function GS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return na(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ba(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function KS(r,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?al(r):r;return{pathname:t?t.startsWith("/")?t:WS(t,e):e,search:ZS(n),hash:JS(s)}}function WS(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function ym(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $S(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xw(r){let e=$S(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Zw(r,e,t,n=!1){let s;typeof r=="string"?s=al(r):(s={...r},At(!s.pathname||!s.pathname.includes("?"),ym("?","pathname","search",s)),At(!s.pathname||!s.pathname.includes("#"),ym("#","pathname","hash",s)),At(!s.search||!s.search.includes("#"),ym("#","search","hash",s)));let o=r===""||s.pathname==="",c=o?"/":s.pathname,f;if(c==null)f=t;else{let b=e.length-1;if(!n&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;s.pathname=w.join("/")}f=b>=0?e[b]:"/"}let p=KS(s,f),m=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var Ma=r=>r.join("/").replace(/\/\/+/g,"/"),XS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ZS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,JS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function e1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Jw=["POST","PUT","PATCH","DELETE"];new Set(Jw);var t1=["GET",...Jw];new Set(t1);var il=L.createContext(null);il.displayName="DataRouter";var Uf=L.createContext(null);Uf.displayName="DataRouterState";var eE=L.createContext({isTransitioning:!1});eE.displayName="ViewTransition";var n1=L.createContext(new Map);n1.displayName="Fetchers";var r1=L.createContext(null);r1.displayName="Await";var ia=L.createContext(null);ia.displayName="Navigation";var Zu=L.createContext(null);Zu.displayName="Location";var qa=L.createContext({outlet:null,matches:[],isDataRoute:!1});qa.displayName="Route";var gg=L.createContext(null);gg.displayName="RouteError";function a1(r,{relative:e}={}){At(Ju(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=L.useContext(ia),{hash:s,pathname:o,search:c}=ec(r,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:Ma([t,o])),n.createHref({pathname:f,search:c,hash:s})}function Ju(){return L.useContext(Zu)!=null}function Us(){return At(Ju(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Zu).location}var tE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nE(r){L.useContext(ia).static||L.useLayoutEffect(r)}function i1(){let{isDataRoute:r}=L.useContext(qa);return r?v1():s1()}function s1(){At(Ju(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(il),{basename:e,navigator:t}=L.useContext(ia),{matches:n}=L.useContext(qa),{pathname:s}=Us(),o=JSON.stringify(Xw(n)),c=L.useRef(!1);return nE(()=>{c.current=!0}),L.useCallback((p,m={})=>{if(na(c.current,tE),!c.current)return;if(typeof p=="number"){t.go(p);return}let y=Zw(p,JSON.parse(o),s,m.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ma([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,s,r])}L.createContext(null);function ec(r,{relative:e}={}){let{matches:t}=L.useContext(qa),{pathname:n}=Us(),s=JSON.stringify(Xw(t));return L.useMemo(()=>Zw(r,JSON.parse(s),n,e==="path"),[r,s,n,e])}function o1(r,e){return rE(r,e)}function rE(r,e,t,n){At(Ju(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=L.useContext(ia),{matches:o}=L.useContext(qa),c=o[o.length-1],f=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let C=y&&y.path||"";aE(p,!y||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=Us(),w;if(e){let C=typeof e=="string"?al(e):e;At(m==="/"||C.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),w=C}else w=b;let D=w.pathname||"/",S=D;if(m!=="/"){let C=m.replace(/^\//,"").split("/");S="/"+D.replace(/^\//,"").split("/").slice(C.length).join("/")}let P=Kw(r,{pathname:S});na(y||P!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),na(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=f1(P&&P.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:Ma([m,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:Ma([m,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,t,n);return e&&N?L.createElement(Zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},N):N}function l1(){let r=y1(),e=e1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:s},t):null,c)}var u1=L.createElement(l1,null),c1=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?L.createElement(qa.Provider,{value:this.props.routeContext},L.createElement(gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d1({routeContext:r,match:e,children:t}){let n=L.useContext(il);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(qa.Provider,{value:r},t)}function f1(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,o=t?.errors;if(o!=null){let p=s.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);At(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,f=-1;if(t)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:y,errors:b}=t,w=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||w){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((p,m,y)=>{let b,w=!1,D=null,S=null;t&&(b=o&&m.route.id?o[m.route.id]:void 0,D=m.route.errorElement||u1,c&&(f<0&&y===0?(aE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):f===y&&(w=!0,S=m.route.hydrateFallbackElement||null)));let P=e.concat(s.slice(0,y+1)),N=()=>{let C;return b?C=D:w?C=S:m.route.Component?C=L.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=p,L.createElement(d1,{match:m,routeContext:{outlet:p,matches:P,isDataRoute:t!=null},children:C})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?L.createElement(c1,{location:t.location,revalidation:t.revalidation,component:D,error:b,children:N(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):N()},null)}function yg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h1(r){let e=L.useContext(il);return At(e,yg(r)),e}function p1(r){let e=L.useContext(Uf);return At(e,yg(r)),e}function m1(r){let e=L.useContext(qa);return At(e,yg(r)),e}function vg(r){let e=m1(r),t=e.matches[e.matches.length-1];return At(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function g1(){return vg("useRouteId")}function y1(){let r=L.useContext(gg),e=p1("useRouteError"),t=vg("useRouteError");return r!==void 0?r:e.errors?.[t]}function v1(){let{router:r}=h1("useNavigate"),e=vg("useNavigate"),t=L.useRef(!1);return nE(()=>{t.current=!0}),L.useCallback(async(s,o={})=>{na(t.current,tE),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...o}))},[r,e])}var $0={};function aE(r,e,t){!e&&!$0[r]&&($0[r]=!0,na(!1,t))}L.memo(_1);function _1({routes:r,future:e,state:t}){return rE(r,void 0,t,e)}function $d(r){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b1({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:o=!1}){At(!Ju(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),f=L.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof t=="string"&&(t=al(t));let{pathname:p="/",search:m="",hash:y="",state:b=null,key:w="default"}=t,D=L.useMemo(()=>{let S=Ba(p,c);return S==null?null:{location:{pathname:S,search:m,hash:y,state:b,key:w},navigationType:n}},[c,p,m,y,b,w,n]);return na(D!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:L.createElement(ia.Provider,{value:f},L.createElement(Zu.Provider,{children:e,value:D}))}function w1({children:r,location:e}){return o1(Um(r),e)}function Um(r,e=[]){let t=[];return L.Children.forEach(r,(n,s)=>{if(!L.isValidElement(n))return;let o=[...e,s];if(n.type===L.Fragment){t.push.apply(t,Um(n.props.children,o));return}At(n.type===$d,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Um(n.props.children,o)),t.push(c)}),t}var Xd="get",Zd="application/x-www-form-urlencoded";function Bf(r){return r!=null&&typeof r.tagName=="string"}function E1(r){return Bf(r)&&r.tagName.toLowerCase()==="button"}function T1(r){return Bf(r)&&r.tagName.toLowerCase()==="form"}function x1(r){return Bf(r)&&r.tagName.toLowerCase()==="input"}function D1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function S1(r,e){return r.button===0&&(!e||e==="_self")&&!D1(r)}var Vd=null;function A1(){if(Vd===null)try{new FormData(document.createElement("form"),0),Vd=!1}catch{Vd=!0}return Vd}var R1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(r){return r!=null&&!R1.has(r)?(na(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zd}"`),null):r}function C1(r,e){let t,n,s,o,c;if(T1(r)){let f=r.getAttribute("action");n=f?Ba(f,e):null,t=r.getAttribute("method")||Xd,s=vm(r.getAttribute("enctype"))||Zd,o=new FormData(r)}else if(E1(r)||x1(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(n=p?Ba(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Xd,s=vm(r.getAttribute("formenctype"))||vm(f.getAttribute("enctype"))||Zd,o=new FormData(f,r),!A1()){let{name:m,type:y,value:b}=r;if(y==="image"){let w=m?`${m}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else m&&o.append(m,b)}}else{if(Bf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xd,n=null,s=Zd,c=r}return o&&s==="text/plain"&&(c=o,o=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:o,body:c}}function _g(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function N1(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function M1(r,e,t){let n=await Promise.all(r.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await N1(o,t);return c.links?c.links():[]}return[]}));return V1(n.flat(1).filter(k1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function X0(r,e,t,n,s,o){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,f=(p,m)=>t[m].pathname!==p.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==p.params["*"];return o==="assets"?e.filter((p,m)=>c(p,m)||f(p,m)):o==="data"?e.filter((p,m)=>{let y=n.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function O1(r,e,{includeHydrateFallback:t}={}){return I1(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function I1(r){return[...new Set(r)]}function P1(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function V1(r,e){let t=new Set;return new Set(e),r.reduce((n,s)=>{let o=JSON.stringify(P1(s));return t.has(o)||(t.add(o),n.push({key:o,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var L1=new Set([100,101,204,205]);function j1(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Ba(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function iE(){let r=L.useContext(il);return _g(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function U1(){let r=L.useContext(Uf);return _g(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var bg=L.createContext(void 0);bg.displayName="FrameworkContext";function sE(){let r=L.useContext(bg);return _g(r,"You must render this element inside a <HydratedRouter> element"),r}function B1(r,e){let t=L.useContext(bg),[n,s]=L.useState(!1),[o,c]=L.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:b}=e,w=L.useRef(null);L.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let P=C=>{C.forEach(G=>{c(G.isIntersecting)})},N=new IntersectionObserver(P,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[r]),L.useEffect(()=>{if(n){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[n]);let D=()=>{s(!0)},S=()=>{s(!1),c(!1)};return t?r!=="intent"?[o,w,{}]:[o,w,{onFocus:bu(f,D),onBlur:bu(p,S),onMouseEnter:bu(m,D),onMouseLeave:bu(y,S),onTouchStart:bu(b,D)}]:[!1,w,{}]}function bu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function F1({page:r,...e}){let{router:t}=iE(),n=L.useMemo(()=>Kw(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?L.createElement(Y1,{page:r,matches:n,...e}):null}function z1(r){let{manifest:e,routeModules:t}=sE(),[n,s]=L.useState([]);return L.useEffect(()=>{let o=!1;return M1(r,e,t).then(c=>{o||s(c)}),()=>{o=!0}},[r,e,t]),n}function Y1({page:r,matches:e,...t}){let n=Us(),{manifest:s,routeModules:o}=sE(),{basename:c}=iE(),{loaderData:f,matches:p}=U1(),m=L.useMemo(()=>X0(r,e,p,s,n,"data"),[r,e,p,s,n]),y=L.useMemo(()=>X0(r,e,p,s,n,"assets"),[r,e,p,s,n]),b=L.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let S=new Set,P=!1;if(e.forEach(C=>{let G=s.routes[C.route.id];!G||!G.hasLoader||(!m.some(X=>X.route.id===C.route.id)&&C.route.id in f&&o[C.route.id]?.shouldRevalidate||G.hasClientLoader?P=!0:S.add(C.route.id))}),S.size===0)return[];let N=j1(r,c);return P&&S.size>0&&N.searchParams.set("_routes",e.filter(C=>S.has(C.route.id)).map(C=>C.route.id).join(",")),[N.pathname+N.search]},[c,f,n,s,m,e,r,o]),w=L.useMemo(()=>O1(y,s),[y,s]),D=z1(y);return L.createElement(L.Fragment,null,b.map(S=>L.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),w.map(S=>L.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),D.map(({key:S,link:P})=>L.createElement("link",{key:S,...P})))}function H1(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oE&&(window.__reactRouterVersion="7.6.2")}catch{}function q1({basename:r,children:e,window:t}){let n=L.useRef();n.current==null&&(n.current=kS({window:t,v5Compat:!0}));let s=n.current,[o,c]=L.useState({action:s.action,location:s.location}),f=L.useCallback(p=>{L.startTransition(()=>c(p))},[c]);return L.useLayoutEffect(()=>s.listen(f),[s,f]),L.createElement(b1,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:s})}var lE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ff=L.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:o,replace:c,state:f,target:p,to:m,preventScrollReset:y,viewTransition:b,...w},D){let{basename:S}=L.useContext(ia),P=typeof m=="string"&&lE.test(m),N,C=!1;if(typeof m=="string"&&P&&(N=m,oE))try{let k=new URL(window.location.href),V=m.startsWith("//")?new URL(k.protocol+m):new URL(m),U=Ba(V.pathname,S);V.origin===k.origin&&U!=null?m=U+V.search+V.hash:C=!0}catch{na(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=a1(m,{relative:s}),[X,te,re]=B1(n,w),he=W1(m,{replace:c,state:f,target:p,preventScrollReset:y,relative:s,viewTransition:b});function I(k){e&&e(k),k.defaultPrevented||he(k)}let R=L.createElement("a",{...w,...re,href:N||G,onClick:C||o?e:I,ref:H1(D,te),target:p,"data-discover":!P&&t==="render"?"true":void 0});return X&&!P?L.createElement(L.Fragment,null,R,L.createElement(F1,{page:G})):R});Ff.displayName="Link";var Q1=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:o,to:c,viewTransition:f,children:p,...m},y){let b=ec(c,{relative:m.relative}),w=Us(),D=L.useContext(Uf),{navigator:S,basename:P}=L.useContext(ia),N=D!=null&&eA(b)&&f===!0,C=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,G=w.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(G=G.toLowerCase(),X=X?X.toLowerCase():null,C=C.toLowerCase()),X&&P&&(X=Ba(X,P)||X);const te=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let re=G===C||!s&&G.startsWith(C)&&G.charAt(te)==="/",he=X!=null&&(X===C||!s&&X.startsWith(C)&&X.charAt(C.length)==="/"),I={isActive:re,isPending:he,isTransitioning:N},R=re?e:void 0,k;typeof n=="function"?k=n(I):k=[n,re?"active":null,he?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(I):o;return L.createElement(Ff,{...m,"aria-current":R,className:k,ref:y,style:V,to:c,viewTransition:f},typeof p=="function"?p(I):p)});Q1.displayName="NavLink";var G1=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:o,method:c=Xd,action:f,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:b,...w},D)=>{let S=Z1(),P=J1(f,{relative:m}),N=c.toLowerCase()==="get"?"get":"post",C=typeof f=="string"&&lE.test(f),G=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let te=X.nativeEvent.submitter,re=te?.getAttribute("formmethod")||c;S(te||X.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:s,state:o,relative:m,preventScrollReset:y,viewTransition:b})};return L.createElement("form",{ref:D,method:N,action:P,onSubmit:n?p:G,...w,"data-discover":!C&&r==="render"?"true":void 0})});G1.displayName="Form";function K1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uE(r){let e=L.useContext(il);return At(e,K1(r)),e}function W1(r,{target:e,replace:t,state:n,preventScrollReset:s,relative:o,viewTransition:c}={}){let f=i1(),p=Us(),m=ec(r,{relative:o});return L.useCallback(y=>{if(S1(y,e)){y.preventDefault();let b=t!==void 0?t:Bu(p)===Bu(m);f(r,{replace:b,state:n,preventScrollReset:s,relative:o,viewTransition:c})}},[p,f,m,t,n,e,r,s,o,c])}var $1=0,X1=()=>`__${String(++$1)}__`;function Z1(){let{router:r}=uE("useSubmit"),{basename:e}=L.useContext(ia),t=g1();return L.useCallback(async(n,s={})=>{let{action:o,method:c,encType:f,formData:p,body:m}=C1(n,e);if(s.navigate===!1){let y=s.fetcherKey||X1();await r.fetch(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await r.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function J1(r,{relative:e}={}){let{basename:t}=L.useContext(ia),n=L.useContext(qa);At(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...ec(r||".",{relative:e})},c=Us();if(r==null){o.search=c.search;let f=new URLSearchParams(o.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let y=f.toString();o.search=y?`?${y}`:""}}return(!r||r===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ma([t,o.pathname])),Bu(o)}function eA(r,e={}){let t=L.useContext(eE);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=uE("useViewTransitionState"),s=ec(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ba(t.currentLocation.pathname,n)||t.currentLocation.pathname,c=Ba(t.nextLocation.pathname,n)||t.nextLocation.pathname;return ff(s.pathname,c)!=null||ff(s.pathname,o)!=null}[...L1];var cE=Gw();const tA=qw(cE);function nA({onLeaveReview:r}){const[e,t]=L.useState(!1),[n,s]=L.useState(!1);return L.useEffect(()=>{const o=()=>{s(window.scrollY>20)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),_.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark py-3",children:_.jsxs("div",{className:"container-fluid px-4",children:[_.jsxs(Ff,{className:"navbar-brand d-flex align-items-center",to:"/",children:[_.jsx("img",{src:"/JakesCarCare/gallery/Logo.png",alt:"Jakes Car Care Logo",className:"me-2",style:{height:44,width:44,filter:"brightness(0) invert(1)"}}),_.jsx("span",{className:"fw-bold fs-6",style:{fontFamily:"'GoodTimes', 'Poppins', 'Segoe UI', sans-serif",letterSpacing:"0.02em",background:"linear-gradient(45deg, #ffffff, #dc3545)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"none"},children:"Jakes Car Care"})]}),_.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:_.jsx("span",{className:"navbar-toggler-icon"})}),_.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:_.jsxs("ul",{className:"navbar-nav ms-auto",children:[_.jsx("li",{className:"nav-item",children:_.jsx("a",{className:"nav-link",href:"#services",children:"Services"})}),_.jsx("li",{className:"nav-item",children:_.jsx("a",{className:"nav-link",href:"#reviews",onClick:o=>{o.preventDefault(),r()},children:"Reviews"})})]})})]})})}const Z0=["/JakesCarCare/gallery/option1.jpg","/JakesCarCare/gallery/option 4.jpg","/JakesCarCare/gallery/option 3.jpg"];function rA({onBookNow:r}){const[e,t]=L.useState(!1),[n,s]=L.useState(0),o=L.useRef(null);return L.useEffect(()=>(t(!0),o.current=setInterval(()=>{s(c=>(c+1)%Z0.length)},1e4),()=>clearInterval(o.current)),[]),_.jsxs("section",{className:"position-relative w-100",style:{minHeight:"60vh",overflow:"hidden"},children:[Z0.map((c,f)=>_.jsx("img",{src:c,alt:"Car background",className:"position-absolute top-0 start-0 w-100 h-100 object-fit-cover transition-opacity",style:{zIndex:0,minHeight:"60vh",objectPosition:"center",opacity:f===n?1:0,transition:"opacity 1s ease-in-out"}},c)),_.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"rgba(0,0,0,0.5)",zIndex:1,minHeight:"60vh"}}),_.jsxs("div",{className:"container position-relative d-flex flex-column justify-content-center align-items-center text-center",style:{zIndex:2,minHeight:"60vh"},children:[_.jsxs("div",{className:`transition-opacity ${e?"opacity-100":"opacity-0"}`,style:{transition:"opacity 1s ease-in-out"},children:[_.jsx("div",{className:"mb-4",children:_.jsx("img",{src:"/JakesCarCare/gallery/Logo.png",alt:"Jakes Car Care Logo",className:"img-fluid",style:{maxHeight:"400px",filter:"drop-shadow(4px 4px 12px rgba(0,0,0,0.8))",transition:"transform 0.3s ease",marginBottom:"1rem"},onMouseEnter:c=>{c.target.style.transform="scale(1.05)"},onMouseLeave:c=>{c.target.style.transform="scale(1)"}})}),_.jsx("h2",{className:"fw-bold text-white mb-3",style:{fontFamily:"'Bebas Neue', 'Poppins', 'Segoe UI', sans-serif",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"2px 2px 8px rgba(0,0,0,0.7)",letterSpacing:"0.08em",lineHeight:"1.1",fontSize:"clamp(1.5rem, 4vw, 2.5rem)"},children:"Jakes Car Care"}),_.jsx("p",{className:"lead text-light mb-3 px-3",style:{fontFamily:"'Inter', 'Segoe UI', sans-serif",fontSize:"1.25rem",textShadow:"1px 1px 2px rgba(0,0,0,0.7)",maxWidth:"600px",margin:"0 auto"},children:"Professional car valeting services at your doorstep"}),_.jsx("div",{className:"mb-4",children:_.jsx("a",{href:"tel:0877665058",className:"btn btn-outline-light btn-lg px-4 py-2 fw-semibold",style:{fontSize:"1.1rem",textDecoration:"none",transition:"all 0.3s ease",border:"2px solid white",borderRadius:"50px"},onMouseEnter:c=>{c.target.style.backgroundColor="white",c.target.style.color="#000",c.target.style.transform="translateY(-2px)"},onMouseLeave:c=>{c.target.style.backgroundColor="transparent",c.target.style.color="white",c.target.style.transform="translateY(0)"},children:" Call 087 766 5058"})})]}),_.jsx("button",{type:"button",className:"btn btn-primary btn-lg px-5 py-3 fw-semibold shadow-lg",style:{fontSize:"1.1rem",letterSpacing:"0.02em",transition:"all 0.3s ease",border:"2px solid transparent"},onClick:r,onMouseEnter:c=>{c.target.style.transform="translateY(-2px)",c.target.style.boxShadow="0 8px 25px rgba(220,53,69,0.4)"},onMouseLeave:c=>{c.target.style.transform="translateY(0)",c.target.style.boxShadow="0 4px 15px rgba(0,0,0,0.2)"},children:"Book Now"})]})]})}var J0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},aA=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const s=r[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const o=r[t++];e[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=r[t++],c=r[t++],f=r[t++],p=((s&7)<<18|(o&63)<<12|(c&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const o=r[t++],c=r[t++];e[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},fE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const o=r[s],c=s+1<r.length,f=c?r[s+1]:0,p=s+2<r.length,m=p?r[s+2]:0,y=o>>2,b=(o&3)<<4|f>>4;let w=(f&15)<<2|m>>6,D=m&63;p||(D=64,c||(w=64)),n.push(t[y],t[b],t[w],t[D])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(dE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):aA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const o=t[r.charAt(s++)],f=s<r.length?t[r.charAt(s)]:0;++s;const m=s<r.length?t[r.charAt(s)]:64;++s;const b=s<r.length?t[r.charAt(s)]:64;if(++s,o==null||f==null||m==null||b==null)throw new iA;const w=o<<2|f>>4;if(n.push(w),m!==64){const D=f<<4&240|m>>2;if(n.push(D),b!==64){const S=m<<6&192|b;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class iA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sA=function(r){const e=dE(r);return fE.encodeByteArray(e,!0)},hf=function(r){return sA(r).replace(/\./g,"")},oA=function(r){try{return fE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=()=>lA().__FIREBASE_DEFAULTS__,cA=()=>{if(typeof process>"u"||typeof J0>"u")return;const r=J0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},dA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&oA(r[1]);return e&&JSON.parse(e)},wg=()=>{try{return uA()||cA()||dA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},fA=r=>{var e,t;return(t=(e=wg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},hE=r=>{const e=fA(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},pE=()=>{var r;return(r=wg())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",s=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[hf(JSON.stringify(t)),hf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mA(){var r;const e=(r=wg())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gA(){return!mA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yA(){try{return typeof indexedDB=="object"}catch{return!1}}function vA(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="FirebaseError";class Bs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=_A,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gE.prototype.create)}}class gE{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?bA(o,n):"Error",f=`${this.serviceName}: ${c} (${s}).`;return new Bs(s,f,n)}}function bA(r,e){return r.replace(wA,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const wA=/\{\$([^}]+)}/g;function Bm(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const o=r[s],c=e[s];if(eb(o)&&eb(c)){if(!Bm(o,c))return!1}else if(o!==c)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function eb(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(r){return r&&r._delegate?r._delegate:r}class Ho{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new hA;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xA(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);n===f&&c.resolve(s)}return s}onInit(e,t){var n;const s=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:TA(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TA(r){return r===_s?void 0:r}function xA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new EA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Xe||(Xe={}));const SA={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},AA=Xe.INFO,RA={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},CA=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),s=RA[e];if(s)console[s](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yE{constructor(e){this.name=e,this._logLevel=AA,this._logHandler=CA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const NA=(r,e)=>e.some(t=>r instanceof t);let tb,nb;function kA(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MA(){return nb||(nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,Fm=new WeakMap,_E=new WeakMap,_m=new WeakMap,Eg=new WeakMap;function OA(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",o),r.removeEventListener("error",c)},o=()=>{t(Di(r.result)),s()},c=()=>{n(r.error),s()};r.addEventListener("success",o),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&vE.set(t,r)}).catch(()=>{}),Eg.set(e,r),e}function IA(r){if(Fm.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",c),r.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",o),r.addEventListener("error",c),r.addEventListener("abort",c)});Fm.set(r,e)}let zm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||_E.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Di(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function PA(r){zm=r(zm)}function VA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(bm(this),e,...t);return _E.set(n,e.sort?e.sort():[e]),Di(n)}:MA().includes(r)?function(...e){return r.apply(bm(this),e),Di(vE.get(this))}:function(...e){return Di(r.apply(bm(this),e))}}function LA(r){return typeof r=="function"?VA(r):(r instanceof IDBTransaction&&IA(r),NA(r,kA())?new Proxy(r,zm):r)}function Di(r){if(r instanceof IDBRequest)return OA(r);if(_m.has(r))return _m.get(r);const e=LA(r);return e!==r&&(_m.set(r,e),Eg.set(e,r)),e}const bm=r=>Eg.get(r);function jA(r,e,{blocked:t,upgrade:n,blocking:s,terminated:o}={}){const c=indexedDB.open(r,e),f=Di(c);return n&&c.addEventListener("upgradeneeded",p=>{n(Di(c.result),p.oldVersion,p.newVersion,Di(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{o&&p.addEventListener("close",()=>o()),s&&p.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const UA=["get","getKey","getAll","getAllKeys","count"],BA=["put","add","delete","clear"],wm=new Map;function rb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=BA.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||UA.includes(t)))return;const o=async function(c,...f){const p=this.transaction(c,s?"readwrite":"readonly");let m=p.store;return n&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),s&&p.done]))[0]};return wm.set(e,o),o}PA(r=>({...r,get:(e,t,n)=>rb(e,t)||r.get(e,t,n),has:(e,t)=>!!rb(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zA(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function zA(r){const e=r.getComponent();return e?.type==="VERSION"}const Ym="@firebase/app",ab="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new yE("@firebase/app"),YA="@firebase/app-compat",HA="@firebase/analytics-compat",qA="@firebase/analytics",QA="@firebase/app-check-compat",GA="@firebase/app-check",KA="@firebase/auth",WA="@firebase/auth-compat",$A="@firebase/database",XA="@firebase/data-connect",ZA="@firebase/database-compat",JA="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",rR="@firebase/messaging",aR="@firebase/messaging-compat",iR="@firebase/performance",sR="@firebase/performance-compat",oR="@firebase/remote-config",lR="@firebase/remote-config-compat",uR="@firebase/storage",cR="@firebase/storage-compat",dR="@firebase/firestore",fR="@firebase/vertexai-preview",hR="@firebase/firestore-compat",pR="firebase",mR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",gR={[Ym]:"fire-core",[YA]:"fire-core-compat",[qA]:"fire-analytics",[HA]:"fire-analytics-compat",[GA]:"fire-app-check",[QA]:"fire-app-check-compat",[KA]:"fire-auth",[WA]:"fire-auth-compat",[$A]:"fire-rtdb",[XA]:"fire-data-connect",[ZA]:"fire-rtdb-compat",[JA]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[rR]:"fire-fcm",[aR]:"fire-fcm-compat",[iR]:"fire-perf",[sR]:"fire-perf-compat",[oR]:"fire-rc",[lR]:"fire-rc-compat",[uR]:"fire-gcs",[cR]:"fire-gcs-compat",[dR]:"fire-fst",[hR]:"fire-fst-compat",[fR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=new Map,yR=new Map,qm=new Map;function ib(r,e){try{r.container.addComponent(e)}catch(t){Fa.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Fu(r){const e=r.name;if(qm.has(e))return Fa.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,r);for(const t of pf.values())ib(t,r);for(const t of yR.values())ib(t,r);return!0}function bE(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new gE("app","Firebase",vR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=mR;function EE(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Hm,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Si.create("bad-app-name",{appName:String(s)});if(t||(t=pE()),!t)throw Si.create("no-options");const o=pf.get(s);if(o){if(Bm(t,o.options)&&Bm(n,o.config))return o;throw Si.create("duplicate-app",{appName:s})}const c=new DA(s);for(const p of qm.values())c.addComponent(p);const f=new _R(t,n,c);return pf.set(s,f),f}function TE(r=Hm){const e=pf.get(r);if(!e&&r===Hm&&pE())return EE();if(!e)throw Si.create("no-app",{appName:r});return e}function Ai(r,e,t){var n;let s=(n=gR[r])!==null&&n!==void 0?n:r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fa.warn(f.join(" "));return}Fu(new Ho(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="firebase-heartbeat-database",wR=1,zu="firebase-heartbeat-store";let Em=null;function xE(){return Em||(Em=jA(bR,wR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(zu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Si.create("idb-open",{originalErrorMessage:r.message})})),Em}async function ER(r){try{const t=(await xE()).transaction(zu),n=await t.objectStore(zu).get(DE(r));return await t.done,n}catch(e){if(e instanceof Bs)Fa.warn(e.message);else{const t=Si.create("idb-get",{originalErrorMessage:e?.message});Fa.warn(t.message)}}}async function sb(r,e){try{const n=(await xE()).transaction(zu,"readwrite");await n.objectStore(zu).put(e,DE(r)),await n.done}catch(t){if(t instanceof Bs)Fa.warn(t.message);else{const n=Si.create("idb-set",{originalErrorMessage:t?.message});Fa.warn(n.message)}}}function DE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=1024,xR=30*24*60*60*1e3;class DR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AR(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ob();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=xR}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Fa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ob(),{heartbeatsToSend:n,unsentEntries:s}=SR(this._heartbeatsCache.heartbeats),o=hf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fa.warn(t),""}}}function ob(){return new Date().toISOString().substring(0,10)}function SR(r,e=TR){const t=[];let n=r.slice();for(const s of r){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),lb(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),lb(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class AR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yA()?vA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ER(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return sb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return sb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function lb(r){return hf(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r){Fu(new Ho("platform-logger",e=>new FA(e),"PRIVATE")),Fu(new Ho("heartbeat",e=>new DR(e),"PRIVATE")),Ai(Ym,ab,r),Ai(Ym,ab,"esm2017"),Ai("fire-js","")}RR("");var ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ds,SE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function k(){}k.prototype=R.prototype,I.D=R.prototype,I.prototype=new k,I.prototype.constructor=I,I.C=function(V,U,B){for(var M=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)M[Ae-2]=arguments[Ae];return R.prototype[U].apply(V,M)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,R,k){k||(k=0);var V=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)V[U]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(U=0;16>U;++U)V[U]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=I.g[0],k=I.g[1],U=I.g[2];var B=I.g[3],M=R+(B^k&(U^B))+V[0]+3614090360&4294967295;R=k+(M<<7&4294967295|M>>>25),M=B+(U^R&(k^U))+V[1]+3905402710&4294967295,B=R+(M<<12&4294967295|M>>>20),M=U+(k^B&(R^k))+V[2]+606105819&4294967295,U=B+(M<<17&4294967295|M>>>15),M=k+(R^U&(B^R))+V[3]+3250441966&4294967295,k=U+(M<<22&4294967295|M>>>10),M=R+(B^k&(U^B))+V[4]+4118548399&4294967295,R=k+(M<<7&4294967295|M>>>25),M=B+(U^R&(k^U))+V[5]+1200080426&4294967295,B=R+(M<<12&4294967295|M>>>20),M=U+(k^B&(R^k))+V[6]+2821735955&4294967295,U=B+(M<<17&4294967295|M>>>15),M=k+(R^U&(B^R))+V[7]+4249261313&4294967295,k=U+(M<<22&4294967295|M>>>10),M=R+(B^k&(U^B))+V[8]+1770035416&4294967295,R=k+(M<<7&4294967295|M>>>25),M=B+(U^R&(k^U))+V[9]+2336552879&4294967295,B=R+(M<<12&4294967295|M>>>20),M=U+(k^B&(R^k))+V[10]+4294925233&4294967295,U=B+(M<<17&4294967295|M>>>15),M=k+(R^U&(B^R))+V[11]+2304563134&4294967295,k=U+(M<<22&4294967295|M>>>10),M=R+(B^k&(U^B))+V[12]+1804603682&4294967295,R=k+(M<<7&4294967295|M>>>25),M=B+(U^R&(k^U))+V[13]+4254626195&4294967295,B=R+(M<<12&4294967295|M>>>20),M=U+(k^B&(R^k))+V[14]+2792965006&4294967295,U=B+(M<<17&4294967295|M>>>15),M=k+(R^U&(B^R))+V[15]+1236535329&4294967295,k=U+(M<<22&4294967295|M>>>10),M=R+(U^B&(k^U))+V[1]+4129170786&4294967295,R=k+(M<<5&4294967295|M>>>27),M=B+(k^U&(R^k))+V[6]+3225465664&4294967295,B=R+(M<<9&4294967295|M>>>23),M=U+(R^k&(B^R))+V[11]+643717713&4294967295,U=B+(M<<14&4294967295|M>>>18),M=k+(B^R&(U^B))+V[0]+3921069994&4294967295,k=U+(M<<20&4294967295|M>>>12),M=R+(U^B&(k^U))+V[5]+3593408605&4294967295,R=k+(M<<5&4294967295|M>>>27),M=B+(k^U&(R^k))+V[10]+38016083&4294967295,B=R+(M<<9&4294967295|M>>>23),M=U+(R^k&(B^R))+V[15]+3634488961&4294967295,U=B+(M<<14&4294967295|M>>>18),M=k+(B^R&(U^B))+V[4]+3889429448&4294967295,k=U+(M<<20&4294967295|M>>>12),M=R+(U^B&(k^U))+V[9]+568446438&4294967295,R=k+(M<<5&4294967295|M>>>27),M=B+(k^U&(R^k))+V[14]+3275163606&4294967295,B=R+(M<<9&4294967295|M>>>23),M=U+(R^k&(B^R))+V[3]+4107603335&4294967295,U=B+(M<<14&4294967295|M>>>18),M=k+(B^R&(U^B))+V[8]+1163531501&4294967295,k=U+(M<<20&4294967295|M>>>12),M=R+(U^B&(k^U))+V[13]+2850285829&4294967295,R=k+(M<<5&4294967295|M>>>27),M=B+(k^U&(R^k))+V[2]+4243563512&4294967295,B=R+(M<<9&4294967295|M>>>23),M=U+(R^k&(B^R))+V[7]+1735328473&4294967295,U=B+(M<<14&4294967295|M>>>18),M=k+(B^R&(U^B))+V[12]+2368359562&4294967295,k=U+(M<<20&4294967295|M>>>12),M=R+(k^U^B)+V[5]+4294588738&4294967295,R=k+(M<<4&4294967295|M>>>28),M=B+(R^k^U)+V[8]+2272392833&4294967295,B=R+(M<<11&4294967295|M>>>21),M=U+(B^R^k)+V[11]+1839030562&4294967295,U=B+(M<<16&4294967295|M>>>16),M=k+(U^B^R)+V[14]+4259657740&4294967295,k=U+(M<<23&4294967295|M>>>9),M=R+(k^U^B)+V[1]+2763975236&4294967295,R=k+(M<<4&4294967295|M>>>28),M=B+(R^k^U)+V[4]+1272893353&4294967295,B=R+(M<<11&4294967295|M>>>21),M=U+(B^R^k)+V[7]+4139469664&4294967295,U=B+(M<<16&4294967295|M>>>16),M=k+(U^B^R)+V[10]+3200236656&4294967295,k=U+(M<<23&4294967295|M>>>9),M=R+(k^U^B)+V[13]+681279174&4294967295,R=k+(M<<4&4294967295|M>>>28),M=B+(R^k^U)+V[0]+3936430074&4294967295,B=R+(M<<11&4294967295|M>>>21),M=U+(B^R^k)+V[3]+3572445317&4294967295,U=B+(M<<16&4294967295|M>>>16),M=k+(U^B^R)+V[6]+76029189&4294967295,k=U+(M<<23&4294967295|M>>>9),M=R+(k^U^B)+V[9]+3654602809&4294967295,R=k+(M<<4&4294967295|M>>>28),M=B+(R^k^U)+V[12]+3873151461&4294967295,B=R+(M<<11&4294967295|M>>>21),M=U+(B^R^k)+V[15]+530742520&4294967295,U=B+(M<<16&4294967295|M>>>16),M=k+(U^B^R)+V[2]+3299628645&4294967295,k=U+(M<<23&4294967295|M>>>9),M=R+(U^(k|~B))+V[0]+4096336452&4294967295,R=k+(M<<6&4294967295|M>>>26),M=B+(k^(R|~U))+V[7]+1126891415&4294967295,B=R+(M<<10&4294967295|M>>>22),M=U+(R^(B|~k))+V[14]+2878612391&4294967295,U=B+(M<<15&4294967295|M>>>17),M=k+(B^(U|~R))+V[5]+4237533241&4294967295,k=U+(M<<21&4294967295|M>>>11),M=R+(U^(k|~B))+V[12]+1700485571&4294967295,R=k+(M<<6&4294967295|M>>>26),M=B+(k^(R|~U))+V[3]+2399980690&4294967295,B=R+(M<<10&4294967295|M>>>22),M=U+(R^(B|~k))+V[10]+4293915773&4294967295,U=B+(M<<15&4294967295|M>>>17),M=k+(B^(U|~R))+V[1]+2240044497&4294967295,k=U+(M<<21&4294967295|M>>>11),M=R+(U^(k|~B))+V[8]+1873313359&4294967295,R=k+(M<<6&4294967295|M>>>26),M=B+(k^(R|~U))+V[15]+4264355552&4294967295,B=R+(M<<10&4294967295|M>>>22),M=U+(R^(B|~k))+V[6]+2734768916&4294967295,U=B+(M<<15&4294967295|M>>>17),M=k+(B^(U|~R))+V[13]+1309151649&4294967295,k=U+(M<<21&4294967295|M>>>11),M=R+(U^(k|~B))+V[4]+4149444226&4294967295,R=k+(M<<6&4294967295|M>>>26),M=B+(k^(R|~U))+V[11]+3174756917&4294967295,B=R+(M<<10&4294967295|M>>>22),M=U+(R^(B|~k))+V[2]+718787259&4294967295,U=B+(M<<15&4294967295|M>>>17),M=k+(B^(U|~R))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,I.g[2]=I.g[2]+U&4294967295,I.g[3]=I.g[3]+B&4294967295}n.prototype.u=function(I,R){R===void 0&&(R=I.length);for(var k=R-this.blockSize,V=this.B,U=this.h,B=0;B<R;){if(U==0)for(;B<=k;)s(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<R;)if(V[U++]=I.charCodeAt(B++),U==this.blockSize){s(this,V),U=0;break}}else for(;B<R;)if(V[U++]=I[B++],U==this.blockSize){s(this,V),U=0;break}}this.h=U,this.o+=R},n.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;var k=8*this.o;for(R=I.length-8;R<I.length;++R)I[R]=k&255,k/=256;for(this.u(I),I=Array(16),R=k=0;4>R;++R)for(var V=0;32>V;V+=8)I[k++]=this.g[R]>>>V&255;return I};function o(I,R){var k=f;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=R(I)}function c(I,R){this.h=R;for(var k=[],V=!0,U=I.length-1;0<=U;U--){var B=I[U]|0;V&&B==R||(k[U]=B,V=!1)}this.g=k}var f={};function p(I){return-128<=I&&128>I?o(I,function(R){return new c([R|0],0>R?-1:0)}):new c([I|0],0>I?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return b;if(0>I)return N(m(-I));for(var R=[],k=1,V=0;I>=k;V++)R[V]=I/k|0,k*=4294967296;return new c(R,0)}function y(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return N(y(I.substring(1),R));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(R,8)),V=b,U=0;U<I.length;U+=8){var B=Math.min(8,I.length-U),M=parseInt(I.substring(U,U+B),R);8>B?(B=m(Math.pow(R,B)),V=V.j(B).add(m(M))):(V=V.j(k),V=V.add(m(M)))}return V}var b=p(0),w=p(1),D=p(16777216);r=c.prototype,r.m=function(){if(P(this))return-N(this).m();for(var I=0,R=1,k=0;k<this.g.length;k++){var V=this.i(k);I+=(0<=V?V:4294967296+V)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(P(this))return"-"+N(this).toString(I);for(var R=m(Math.pow(I,6)),k=this,V="";;){var U=te(k,R).g;k=C(k,U.j(R));var B=((0<k.g.length?k.g[0]:k.h)>>>0).toString(I);if(k=U,S(k))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function P(I){return I.h==-1}r.l=function(I){return I=C(this,I),P(I)?-1:S(I)?0:1};function N(I){for(var R=I.g.length,k=[],V=0;V<R;V++)k[V]=~I.g[V];return new c(k,~I.h).add(w)}r.abs=function(){return P(this)?N(this):this},r.add=function(I){for(var R=Math.max(this.g.length,I.g.length),k=[],V=0,U=0;U<=R;U++){var B=V+(this.i(U)&65535)+(I.i(U)&65535),M=(B>>>16)+(this.i(U)>>>16)+(I.i(U)>>>16);V=M>>>16,B&=65535,M&=65535,k[U]=M<<16|B}return new c(k,k[k.length-1]&-2147483648?-1:0)};function C(I,R){return I.add(N(R))}r.j=function(I){if(S(this)||S(I))return b;if(P(this))return P(I)?N(this).j(N(I)):N(N(this).j(I));if(P(I))return N(this.j(N(I)));if(0>this.l(D)&&0>I.l(D))return m(this.m()*I.m());for(var R=this.g.length+I.g.length,k=[],V=0;V<2*R;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<I.g.length;U++){var B=this.i(V)>>>16,M=this.i(V)&65535,Ae=I.i(U)>>>16,ve=I.i(U)&65535;k[2*V+2*U]+=M*ve,G(k,2*V+2*U),k[2*V+2*U+1]+=B*ve,G(k,2*V+2*U+1),k[2*V+2*U+1]+=M*Ae,G(k,2*V+2*U+1),k[2*V+2*U+2]+=B*Ae,G(k,2*V+2*U+2)}for(V=0;V<R;V++)k[V]=k[2*V+1]<<16|k[2*V];for(V=R;V<2*R;V++)k[V]=0;return new c(k,0)};function G(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function X(I,R){this.g=I,this.h=R}function te(I,R){if(S(R))throw Error("division by zero");if(S(I))return new X(b,b);if(P(I))return R=te(N(I),R),new X(N(R.g),N(R.h));if(P(R))return R=te(I,N(R)),new X(N(R.g),R.h);if(30<I.g.length){if(P(I)||P(R))throw Error("slowDivide_ only works with positive integers.");for(var k=w,V=R;0>=V.l(I);)k=re(k),V=re(V);var U=he(k,1),B=he(V,1);for(V=he(V,2),k=he(k,2);!S(V);){var M=B.add(V);0>=M.l(I)&&(U=U.add(k),B=M),V=he(V,1),k=he(k,1)}return R=C(I,U.j(R)),new X(U,R)}for(U=b;0<=I.l(R);){for(k=Math.max(1,Math.floor(I.m()/R.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=m(k),M=B.j(R);P(M)||0<M.l(I);)k-=V,B=m(k),M=B.j(R);S(B)&&(B=w),U=U.add(B),I=C(I,M)}return new X(U,I)}r.A=function(I){return te(this,I).h},r.and=function(I){for(var R=Math.max(this.g.length,I.g.length),k=[],V=0;V<R;V++)k[V]=this.i(V)&I.i(V);return new c(k,this.h&I.h)},r.or=function(I){for(var R=Math.max(this.g.length,I.g.length),k=[],V=0;V<R;V++)k[V]=this.i(V)|I.i(V);return new c(k,this.h|I.h)},r.xor=function(I){for(var R=Math.max(this.g.length,I.g.length),k=[],V=0;V<R;V++)k[V]=this.i(V)^I.i(V);return new c(k,this.h^I.h)};function re(I){for(var R=I.g.length+1,k=[],V=0;V<R;V++)k[V]=I.i(V)<<1|I.i(V-1)>>>31;return new c(k,I.h)}function he(I,R){var k=R>>5;R%=32;for(var V=I.g.length-k,U=[],B=0;B<V;B++)U[B]=0<R?I.i(B+k)>>>R|I.i(B+k+1)<<32-R:I.i(B+k);return new c(U,I.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,SE=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Ds=c}).apply(typeof ub<"u"?ub:typeof self<"u"?self:typeof window<"u"?window:{});var Ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AE,Ru,RE,Jd,Qm,CE,NE,kE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ld=="object"&&Ld];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=t(this);function s(d,v){if(v)e:{var E=n;d=d.split(".");for(var A=0;A<d.length-1;A++){var H=d[A];if(!(H in E))break e;E=E[H]}d=d[d.length-1],A=E[d],v=v(A),v!=A&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var E=0,A=!1,H={next:function(){if(!A&&E<d.length){var ee=E++;return{value:v(ee,d[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(d){return d||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,E){return d.call.apply(d.bind,arguments)}function b(d,v,E){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),d.apply(v,H)}}return function(){return d.apply(v,arguments)}}function w(d,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,w.apply(null,arguments)}function D(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function S(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(A,H,ee){for(var me=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)me[qe-2]=arguments[qe];return v.prototype[H].apply(A,me)}}function P(d){const v=d.length;if(0<v){const E=Array(v);for(let A=0;A<v;A++)E[A]=d[A];return E}return[]}function N(d,v){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(p(A)){const H=d.length||0,ee=A.length||0;d.length=H+ee;for(let me=0;me<ee;me++)d[H+me]=A[me]}else d.push(A)}}class C{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(d){return/^[\s\xa0]*$/.test(d)}function X(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function te(d){return te[" "](d),d}te[" "]=function(){};var re=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function he(d,v,E){for(const A in d)v.call(E,d[A],A,d)}function I(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function R(d){const v={};for(const E in d)v[E]=d[E];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(d,v){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)d[E]=A[E];for(let ee=0;ee<k.length;ee++)E=k[ee],Object.prototype.hasOwnProperty.call(A,E)&&(d[E]=A[E])}}function U(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function B(d){f.setTimeout(()=>{throw d},0)}function M(){var d=ne;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Ae{constructor(){this.h=this.g=null}add(v,E){const A=ve.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ve=new C(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,ue=!1,ne=new Ae,O=()=>{const d=f.Promise.resolve(void 0);Q=()=>{d.then(W)}};var W=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(E){B(E)}var v=ve;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ue=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};f.addEventListener("test",E,v),f.removeEventListener("test",E,v)}catch{}return d}();function Se(d,v){if(ce.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(re){e:{try{te(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Te[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Se.aa.h.call(this)}}S(Se,ce);var Te={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Cn(d,v,E,A,H){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=H,this.key=++Ye,this.da=this.fa=!1}function nr(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function jn(d){this.src=d,this.g={},this.h=0}jn.prototype.add=function(d,v,E,A,H){var ee=d.toString();d=this.g[ee],d||(d=this.g[ee]=[],this.h++);var me=yt(d,v,A,H);return-1<me?(v=d[me],E||(v.fa=!1)):(v=new Cn(v,this.src,ee,!!A,H),v.fa=E,d.push(v)),v};function br(d,v){var E=v.type;if(E in d.g){var A=d.g[E],H=Array.prototype.indexOf.call(A,v,void 0),ee;(ee=0<=H)&&Array.prototype.splice.call(A,H,1),ee&&(nr(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function yt(d,v,E,A){for(var H=0;H<d.length;++H){var ee=d[H];if(!ee.da&&ee.listener==v&&ee.capture==!!E&&ee.ha==A)return H}return-1}var Z="closure_lm_"+(1e6*Math.random()|0),pe={};function He(d,v,E,A,H){if(Array.isArray(v)){for(var ee=0;ee<v.length;ee++)He(d,v[ee],E,A,H);return null}return E=Ui(E),d&&d[gt]?d.K(v,E,m(A)?!!A.capture:!1,H):Pe(d,v,E,!1,A,H)}function Pe(d,v,E,A,H,ee){if(!v)throw Error("Invalid event type");var me=m(H)?!!H.capture:!!H,qe=zt(d);if(qe||(d[Z]=qe=new jn(d)),E=qe.add(v,E,A,me,ee),E.proxy)return E;if(A=rt(),E.proxy=A,A.src=d,A.listener=E,d.addEventListener)_e||(H=me),H===void 0&&(H=!1),d.addEventListener(v.toString(),A,H);else if(d.attachEvent)d.attachEvent(en(v.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function rt(){function d(E){return v.call(d.src,d.listener,E)}const v=wr;return d}function et(d,v,E,A,H){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)et(d,v[ee],E,A,H);else A=m(A)?!!A.capture:!!A,E=Ui(E),d&&d[gt]?(d=d.i,v=String(v).toString(),v in d.g&&(ee=d.g[v],E=yt(ee,E,A,H),-1<E&&(nr(ee[E]),Array.prototype.splice.call(ee,E,1),ee.length==0&&(delete d.g[v],d.h--)))):d&&(d=zt(d))&&(v=d.g[v.toString()],d=-1,v&&(d=yt(v,E,A,H)),(E=-1<d?v[d]:null)&&We(E))}function We(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[gt])br(v.i,d);else{var E=d.type,A=d.proxy;v.removeEventListener?v.removeEventListener(E,A,d.capture):v.detachEvent?v.detachEvent(en(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=zt(v))?(br(E,d),E.h==0&&(E.src=null,v[Z]=null)):nr(d)}}}function en(d){return d in pe?pe[d]:pe[d]="on"+d}function wr(d,v){if(d.da)d=!0;else{v=new Se(v,this);var E=d.listener,A=d.ha||d.src;d.fa&&We(d),d=E.call(A,v)}return d}function zt(d){return d=d[Z],d instanceof jn?d:null}var Un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(d){return typeof d=="function"?d:(d[Un]||(d[Un]=function(v){return d.handleEvent(v)}),d[Un])}function vt(){de.call(this),this.i=new jn(this),this.M=this,this.F=null}S(vt,de),vt.prototype[gt]=!0,vt.prototype.removeEventListener=function(d,v,E,A){et(this,d,v,E,A)};function ze(d,v){var E,A=d.F;if(A)for(E=[];A;A=A.F)E.push(A);if(d=d.M,A=v.type||v,typeof v=="string")v=new ce(v,d);else if(v instanceof ce)v.target=v.target||d;else{var H=v;v=new ce(A,d),V(v,H)}if(H=!0,E)for(var ee=E.length-1;0<=ee;ee--){var me=v.g=E[ee];H=Pt(me,A,!0,v)&&H}if(me=v.g=d,H=Pt(me,A,!0,v)&&H,H=Pt(me,A,!1,v)&&H,E)for(ee=0;ee<E.length;ee++)me=v.g=E[ee],H=Pt(me,A,!1,v)&&H}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],A=0;A<E.length;A++)nr(E[A]);delete d.g[v],d.h--}}this.F=null},vt.prototype.K=function(d,v,E,A){return this.i.add(String(d),v,!1,E,A)},vt.prototype.L=function(d,v,E,A){return this.i.add(String(d),v,!0,E,A)};function Pt(d,v,E,A){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,ee=0;ee<v.length;++ee){var me=v[ee];if(me&&!me.da&&me.capture==E){var qe=me.listener,$t=me.ha||me.src;me.fa&&br(d.i,me),H=qe.call($t,A)!==!1&&H}}return H&&!A.defaultPrevented}function tn(d,v,E){if(typeof d=="function")E&&(d=w(d,E));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(d,v||0)}function pc(d){d.g=tn(()=>{d.g=null,d.i&&(d.i=!1,pc(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class hh extends de{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:pc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bi(d){de.call(this),this.h=d,this.g={}}S(Bi,de);var Fi=[];function zi(d){he(d.g,function(v,E){this.g.hasOwnProperty(E)&&We(v)},d),d.g={}}Bi.prototype.N=function(){Bi.aa.N.call(this),zi(this)},Bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=f.JSON.stringify,Hs=f.JSON.parse,Yi=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function fl(){}fl.prototype.h=null;function hl(d){return d.h||(d.h=d.i())}function pl(){}var oa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function la(){ce.call(this,"d")}S(la,ce);function ml(){ce.call(this,"c")}S(ml,ce);var kr={},gl=null;function Ga(){return gl=gl||new vt}kr.La="serverreachability";function qs(d){ce.call(this,kr.La,d)}S(qs,ce);function Ka(d){const v=Ga();ze(v,new qs(v))}kr.STAT_EVENT="statevent";function mc(d,v){ce.call(this,kr.STAT_EVENT,d),this.stat=v}S(mc,ce);function Et(d){const v=Ga();ze(v,new mc(v,d))}kr.Ma="timingevent";function Wt(d,v){ce.call(this,kr.Ma,d),this.size=v}S(Wt,ce);function Yt(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},v)}function rr(){this.g=!0}rr.prototype.xa=function(){this.g=!1};function yl(d,v,E,A,H,ee){d.info(function(){if(d.g)if(ee)for(var me="",qe=ee.split("&"),$t=0;$t<qe.length;$t++){var Qe=qe[$t].split("=");if(1<Qe.length){var rn=Qe[0];Qe=Qe[1];var Xt=rn.split("_");me=2<=Xt.length&&Xt[1]=="type"?me+(rn+"="+Qe+"&"):me+(rn+"=redacted&")}}else me=null;else me=ee;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+v+`
`+E+`
`+me})}function ph(d,v,E,A,H,ee,me){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+v+`
`+E+`
`+ee+" "+me})}function Wa(d,v,E,A){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Hi(d,E)+(A?" "+A:"")})}function gc(d,v){d.info(function(){return"TIMEOUT: "+v})}rr.prototype.info=function(){};function Hi(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var A=E[d];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var ee=H[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var me=1;me<H.length;me++)H[me]=""}}}}return Er(E)}catch{return v}}var $a={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ua={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mr;function Or(){}S(Or,fl),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},Mr=new Or;function Nn(d,v,E,A){this.j=d,this.i=v,this.l=E,this.R=A||1,this.U=new Bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vt}function Vt(){this.i=null,this.g="",this.h=!1}var vl={},Qs={};function Tr(d,v,E){d.L=1,d.v=Wi(Hn(v)),d.m=E,d.P=!0,ca(d,null)}function ca(d,v){d.F=Date.now(),qi(d),d.A=Hn(d.v);var E=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),xl(E.i,"t",A),d.C=0,E=d.j.J,d.h=new Vt,d.g=Mc(d.j,E?v:null,!d.m),0<d.O&&(d.M=new hh(w(d.Y,d,d.g),d.O)),v=d.U,E=d.g,A=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(Fi[0]=H.toString()),H=Fi);for(var ee=0;ee<H.length;ee++){var me=He(E,H[ee],A||v.handleEvent,!1,v.h||v);if(!me)break;v.g[me.key]=me}v=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Ka(),yl(d.i,d.u,d.A,d.l,d.R,d.m)}Nn.prototype.ca=function(d){d=d.target;const v=this.M;v&&or(d)==3?v.j():this.Y(d)},Nn.prototype.Y=function(d){try{if(d==this.g)e:{const Xt=or(this.g);var v=this.g.Ba();const va=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||xc(this.g)))){this.J||Xt!=4||v==7||(v==8||0>=va?Ka(3):Ka(2)),Xa(this);var E=this.g.Z();this.X=E;t:if(yc(this)){var A=xc(this.g);d="";var H=A.length,ee=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Ir(this);var me="";break t}this.h.i=new f.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,d+=this.h.i.decode(A[v],{stream:!(ee&&v==H-1)});A.length=0,this.h.g+=d,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=E==200,ph(this.i,this.u,this.A,this.l,this.R,Xt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,$t=this.g;if((qe=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(qe)){var Qe=qe;break t}}Qe=null}if(E=Qe)Wa(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qi(this,E);else{this.o=!1,this.s=3,Et(12),dn(this),Ir(this);break e}}if(this.P){E=!0;let fn;for(;!this.J&&this.C<me.length;)if(fn=vc(this,me),fn==Qs){Xt==4&&(this.s=4,Et(14),E=!1),Wa(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==vl){this.s=4,Et(15),Wa(this.i,this.l,me,"[Invalid Chunk]"),E=!1;break}else Wa(this.i,this.l,fn,null),Qi(this,fn);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||me.length!=0||this.h.h||(this.s=1,Et(16),E=!1),this.o=this.o&&E,!E)Wa(this.i,this.l,me,"[Invalid Chunked Response]"),dn(this),Ir(this);else if(0<me.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),rs(rn),rn.M=!0,Et(11))}}else Wa(this.i,this.l,me,null),Qi(this,me);Xt==4&&dn(this),this.o&&!this.J&&(Xt==4?Cc(this.j,this):(this.o=!1,qi(this)))}else _h(this.g),E==400&&0<me.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),dn(this),Ir(this)}}}catch{}finally{}};function yc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function vc(d,v){var E=d.C,A=v.indexOf(`
`,E);return A==-1?Qs:(E=Number(v.substring(E,A)),isNaN(E)?vl:(A+=1,A+E>v.length?Qs:(v=v.slice(A,A+E),d.C=A+E,v)))}Nn.prototype.cancel=function(){this.J=!0,dn(this)};function qi(d){d.S=Date.now()+d.I,_c(d,d.I)}function _c(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Yt(w(d.ba,d),v)}function Xa(d){d.B&&(f.clearTimeout(d.B),d.B=null)}Nn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(gc(this.i,this.A),this.L!=2&&(Ka(),Et(17)),dn(this),this.s=2,Ir(this)):_c(this,this.S-d)};function Ir(d){d.j.G==0||d.J||Cc(d.j,d)}function dn(d){Xa(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,zi(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Qi(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||_l(E.h,d))){if(!d.K&&_l(E.h,d)&&E.G==3){try{var A=E.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)ao(E),no(E);else break e;Cl(E),Et(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=Yt(w(E.Za,E),6e3));if(1>=Ks(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ya(E,11)}else if((d.K||E.g==d)&&ao(E),!G(v))for(H=E.Da.g.parse(v),v=0;v<H.length;v++){let Qe=H[v];if(E.T=Qe[0],Qe=Qe[1],E.G==2)if(Qe[0]=="c"){E.K=Qe[1],E.ia=Qe[2];const rn=Qe[3];rn!=null&&(E.la=rn,E.j.info("VER="+E.la));const Xt=Qe[4];Xt!=null&&(E.Aa=Xt,E.j.info("SVER="+E.Aa));const va=Qe[5];va!=null&&typeof va=="number"&&0<va&&(A=1.5*va,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const fn=d.g;if(fn){const Fr=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var ee=A.h;ee.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ws(ee,ee.h),ee.h=null))}if(A.D){const kl=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(A.ya=kl,ft(A.I,A.D,kl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var me=d;if(A.qa=kc(A,A.J?A.ia:null,A.W),me.K){kn(A.h,me);var qe=me,$t=A.L;$t&&(qe.I=$t),qe.B&&(Xa(qe),qi(qe)),A.g=me}else Ac(A);0<E.i.length&&ro(E)}else Qe[0]!="stop"&&Qe[0]!="close"||ya(E,7);else E.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ya(E,7):Al(E):Qe[0]!="noop"&&E.l&&E.l.ta(Qe),E.v=0)}}Ka(4)}catch{}}var bc=class{constructor(d,v){this.g=d,this.map=v}};function da(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gs(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ks(d){return d.h?1:d.g?d.g.size:0}function _l(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Ws(d,v){d.g?d.g.add(v):d.h=v}function kn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}da.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function bl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return P(d.i)}function mh(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var v=[],E=d.length,A=0;A<E;A++)v.push(d[A]);return v}v=[],E=0;for(A in d)v[E++]=d[A];return v}function $s(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const A in d)v[E++]=A;return v}}}function wl(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=$s(d),A=mh(d),H=A.length,ee=0;ee<H;ee++)v.call(void 0,A[ee],E&&E[ee],d)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gh(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var A=d[E].indexOf("="),H=null;if(0<=A){var ee=d[E].substring(0,A);H=d[E].substring(A+1)}else ee=d[E];v(ee,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ht(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ht){this.h=d.h,Ki(this,d.j),this.o=d.o,this.g=d.g,Za(this,d.s),this.l=d.l;var v=d.i,E=new ha;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),fa(this,E),this.m=d.m}else d&&(v=String(d).match(Gi))?(this.h=!1,Ki(this,v[1]||"",!0),this.o=ar(v[2]||""),this.g=ar(v[3]||"",!0),Za(this,v[4]),this.l=ar(v[5]||"",!0),fa(this,v[6]||"",!0),this.m=ar(v[7]||"")):(this.h=!1,this.i=new ha(null,this.h))}Ht.prototype.toString=function(){var d=[],v=this.j;v&&d.push($i(v,El,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push($i(v,El,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push($i(E,E.charAt(0)=="/"?yh:Tl,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",$i(E,Xs)),d.join("")};function Hn(d){return new Ht(d)}function Ki(d,v,E){d.j=E?ar(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Za(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function fa(d,v,E){v instanceof ha?(d.i=v,Ec(d.i,d.h)):(E||(v=$i(v,vh)),d.i=new ha(v,d.h))}function ft(d,v,E){d.i.set(v,E)}function Wi(d){return ft(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ar(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function $i(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,wc),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function wc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var El=/[#\/\?@]/g,Tl=/[#\?:]/g,yh=/[#\?]/g,vh=/[#\?@]/g,Xs=/#/g;function ha(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function ir(d){d.g||(d.g=new Map,d.h=0,d.i&&gh(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}r=ha.prototype,r.add=function(d,v){ir(this),this.i=null,d=Pr(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function pa(d,v){ir(d),v=Pr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function ma(d,v){return ir(d),v=Pr(d,v),d.g.has(v)}r.forEach=function(d,v){ir(this),this.g.forEach(function(E,A){E.forEach(function(H){d.call(v,H,A,this)},this)},this)},r.na=function(){ir(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let A=0;A<v.length;A++){const H=d[A];for(let ee=0;ee<H.length;ee++)E.push(v[A])}return E},r.V=function(d){ir(this);let v=[];if(typeof d=="string")ma(this,d)&&(v=v.concat(this.g.get(Pr(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},r.set=function(d,v){return ir(this),this.i=null,d=Pr(this,d),ma(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},r.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function xl(d,v,E){pa(d,v),0<E.length&&(d.i=null,d.g.set(Pr(d,v),P(E)),d.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var A=v[E];const ee=encodeURIComponent(String(A)),me=this.V(A);for(A=0;A<me.length;A++){var H=ee;me[A]!==""&&(H+="="+encodeURIComponent(String(me[A]))),d.push(H)}}return this.i=d.join("&")};function Pr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Ec(d,v){v&&!d.j&&(ir(d),d.i=null,d.g.forEach(function(E,A){var H=A.toLowerCase();A!=H&&(pa(this,A),xl(this,H,E))},d)),d.j=v}function Xi(d,v){const E=new rr;if(f.Image){const A=new Image;A.onload=D(sr,E,"TestLoadImage: loaded",!0,v,A),A.onerror=D(sr,E,"TestLoadImage: error",!1,v,A),A.onabort=D(sr,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=D(sr,E,"TestLoadImage: timeout",!1,v,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else v(!1)}function xr(d,v){const E=new rr,A=new AbortController,H=setTimeout(()=>{A.abort(),sr(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:A.signal}).then(ee=>{clearTimeout(H),ee.ok?sr(E,"TestPingServer: ok",!0,v):sr(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),sr(E,"TestPingServer: error",!1,v)})}function sr(d,v,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function Zi(){this.g=new Yi}function Vr(d,v,E){const A=E||"";try{wl(d,function(H,ee){let me=H;m(H)&&(me=Er(H)),v.push(A+ee+"="+encodeURIComponent(me))})}catch(H){throw v.push(A+"type="+encodeURIComponent("_badmap")),H}}function Ja(d){this.l=d.Ub||null,this.j=d.eb||!1}S(Ja,fl),Ja.prototype.g=function(){return new ga(this.l,this.j)},Ja.prototype.i=function(d){return function(){return d}}({});function ga(d,v){vt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ga,vt),r=ga.prototype,r.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,jr(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Lr(this):jr(this),this.readyState==3&&Dl(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,Lr(this))},r.Qa=function(d){this.g&&(this.response=d,Lr(this))},r.ga=function(){this.g&&Lr(this)};function Lr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,jr(d)}r.setRequestHeader=function(d,v){this.u.append(d,v)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function jr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Sl(d){let v="";return he(d,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function nn(d,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Sl(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):ft(d,v,E))}function st(d){vt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(st,vt);var Zs=/^https?$/i,Ji=["POST","PUT"];r=st.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mr.g(),this.v=this.o?hl(this.o):hl(Mr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ee){Tc(this,ee);return}if(d=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())E.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),H=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ji,v,void 0))||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of E)this.g.setRequestHeader(ee,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{es(this),this.u=!0,this.g.send(d),this.u=!1}catch(ee){Tc(this,ee)}};function Tc(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Js(d),Ur(d)}function Js(d){d.A||(d.A=!0,ze(d,"complete"),ze(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ze(this,"complete"),ze(this,"abort"),Ur(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ur(this,!0)),st.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?eo(this):this.bb())},r.bb=function(){eo(this)};function eo(d){if(d.h&&typeof c<"u"&&(!d.v[1]||or(d)!=4||d.Z()!=2)){if(d.u&&or(d)==4)tn(d.Ea,0,d);else if(ze(d,"readystatechange"),or(d)==4){d.h=!1;try{const me=d.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=me===0){var H=String(d.D).match(Gi)[1]||null;!H&&f.self&&f.self.location&&(H=f.self.location.protocol.slice(0,-1)),A=!Zs.test(H?H.toLowerCase():"")}E=A}if(E)ze(d,"complete"),ze(d,"success");else{d.m=6;try{var ee=2<or(d)?d.g.statusText:""}catch{ee=""}d.l=ee+" ["+d.Z()+"]",Js(d)}}finally{Ur(d)}}}}function Ur(d,v){if(d.g){es(d);const E=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||ze(d,"ready");try{E.onreadystatechange=A}catch{}}}function es(d){d.I&&(f.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function or(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Hs(v)}};function xc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function _h(d){const v={};d=(d.g&&2<=or(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(G(d[A]))continue;var E=U(d[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=v[H]||[];v[H]=ee,ee.push(E)}I(v,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function to(d){this.Aa=0,this.i=[],this.j=new rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ts("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ts("baseRetryDelayMs",5e3,d),this.cb=ts("retryDelaySeedMs",1e4,d),this.Wa=ts("forwardChannelMaxRetries",2,d),this.wa=ts("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new da(d&&d.concurrentRequestLimit),this.Da=new Zi,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=to.prototype,r.la=8,r.G=1,r.connect=function(d,v,E,A){Et(0),this.W=d,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=kc(this,null,this.W),ro(this)};function Al(d){if(Dc(d),d.G==3){var v=d.U++,E=Hn(d.I);if(ft(E,"SID",d.K),ft(E,"RID",v),ft(E,"TYPE","terminate"),ns(d,E),v=new Nn(d,d.j,v),v.L=2,v.v=Wi(Hn(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=v.v,E=!0),E||(v.g=Mc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),qi(v)}Nc(d)}function no(d){d.g&&(rs(d),d.g.cancel(),d.g=null)}function Dc(d){no(d),d.u&&(f.clearTimeout(d.u),d.u=null),ao(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function ro(d){if(!Gs(d.h)&&!d.s){d.s=!0;var v=d.Ga;Q||O(),ue||(Q(),ue=!0),ne.add(v,d),d.B=0}}function bh(d,v){return Ks(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Yt(w(d.Ga,d,v),Nl(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new Nn(this,this.j,d);let ee=this.o;if(this.S&&(ee?(ee=R(ee),V(ee,this.S)):ee=this.S),this.m!==null||this.O||(H.H=ee,ee=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Sc(this,H,v),E=Hn(this.I),ft(E,"RID",d),ft(E,"CVER",22),this.D&&ft(E,"X-HTTP-Session-Id",this.D),ns(this,E),ee&&(this.O?v="headers="+encodeURIComponent(String(Sl(ee)))+"&"+v:this.m&&nn(E,this.m,ee)),Ws(this.h,H),this.Ua&&ft(E,"TYPE","init"),this.P?(ft(E,"$req",v),ft(E,"SID","null"),H.T=!0,Tr(H,E,null)):Tr(H,E,v),this.G=2}}else this.G==3&&(d?Rl(this,d):this.i.length==0||Gs(this.h)||Rl(this))};function Rl(d,v){var E;v?E=v.l:E=d.U++;const A=Hn(d.I);ft(A,"SID",d.K),ft(A,"RID",E),ft(A,"AID",d.T),ns(d,A),d.m&&d.o&&nn(A,d.m,d.o),E=new Nn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Sc(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ws(d.h,E),Tr(E,A,v)}function ns(d,v){d.H&&he(d.H,function(E,A){ft(v,A,E)}),d.l&&wl({},function(E,A){ft(v,A,E)})}function Sc(d,v,E){E=Math.min(d.i.length,E);var A=d.l?w(d.l.Na,d.l,d):null;e:{var H=d.i;let ee=-1;for(;;){const me=["count="+E];ee==-1?0<E?(ee=H[0].g,me.push("ofs="+ee)):ee=0:me.push("ofs="+ee);let qe=!0;for(let $t=0;$t<E;$t++){let Qe=H[$t].g;const rn=H[$t].map;if(Qe-=ee,0>Qe)ee=Math.max(0,H[$t].g-100),qe=!1;else try{Vr(rn,me,"req"+Qe+"_")}catch{A&&A(rn)}}if(qe){A=me.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,A}function Ac(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Q||O(),ue||(Q(),ue=!0),ne.add(v,d),d.v=0}}function Cl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Yt(w(d.Fa,d),Nl(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,Rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Yt(w(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),no(this),Rc(this))};function rs(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Rc(d){d.g=new Nn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Hn(d.qa);ft(v,"RID","rpc"),ft(v,"SID",d.K),ft(v,"AID",d.T),ft(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ft(v,"TO",d.ja),ft(v,"TYPE","xmlhttp"),ns(d,v),d.m&&d.o&&nn(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Wi(Hn(v)),E.m=null,E.P=!0,ca(E,d)}r.Za=function(){this.C!=null&&(this.C=null,no(this),Cl(this),Et(19))};function ao(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Cc(d,v){var E=null;if(d.g==v){ao(d),rs(d),d.g=null;var A=2}else if(_l(d.h,v))E=v.D,kn(d.h,v),A=1;else return;if(d.G!=0){if(v.o)if(A==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var H=d.B;A=Ga(),ze(A,new Wt(A,E)),ro(d)}else Ac(d);else if(H=v.s,H==3||H==0&&0<v.X||!(A==1&&bh(d,v)||A==2&&Cl(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),H){case 1:ya(d,5);break;case 4:ya(d,10);break;case 3:ya(d,6);break;default:ya(d,2)}}}function Nl(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function ya(d,v){if(d.j.info("Error code "+v),v==2){var E=w(d.fb,d),A=d.Xa;const H=!A;A=new Ht(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ki(A,"https"),Wi(A),H?Xi(A.toString(),E):xr(A.toString(),E)}else Et(2);d.G=0,d.l&&d.l.sa(v),Nc(d),Dc(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Nc(d){if(d.G=0,d.ka=[],d.l){const v=bl(d.h);(v.length!=0||d.i.length!=0)&&(N(d.ka,v),N(d.ka,d.i),d.h.i.length=0,P(d.i),d.i.length=0),d.l.ra()}}function kc(d,v,E){var A=E instanceof Ht?Hn(E):new Ht(E);if(A.g!="")v&&(A.g=v+"."+A.g),Za(A,A.s);else{var H=f.location;A=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var ee=new Ht(null);A&&Ki(ee,A),v&&(ee.g=v),H&&Za(ee,H),E&&(ee.l=E),A=ee}return E=d.D,v=d.ya,E&&v&&ft(A,E,v),ft(A,"VER",d.la),ns(d,A),A}function Mc(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new st(new Ja({eb:E})):new st(d.pa),v.Ha(d.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}r=Oc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function io(){}io.prototype.g=function(d,v){return new Mn(d,v)};function Mn(d,v){vt.call(this),this.g=new to(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!G(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Br(this)}S(Mn,vt),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Al(this.g)},Mn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Er(d),d=E);v.i.push(new bc(v.Ya++,d)),v.G==3&&ro(v)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,Mn.aa.N.call(this)};function Ic(d){la.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}S(Ic,la);function Pc(){ml.call(this),this.status=1}S(Pc,ml);function Br(d){this.g=d}S(Br,Oc),Br.prototype.ua=function(){ze(this.g,"a")},Br.prototype.ta=function(d){ze(this.g,new Ic(d))},Br.prototype.sa=function(d){ze(this.g,new Pc)},Br.prototype.ra=function(){ze(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,kE=function(){return new io},NE=function(){return Ga()},CE=kr,Qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$a.NO_ERROR=0,$a.TIMEOUT=8,$a.HTTP_ERROR=6,Jd=$a,ua.COMPLETE="complete",RE=ua,pl.EventType=oa,oa.OPEN="a",oa.CLOSE="b",oa.ERROR="c",oa.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Ru=pl,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,AE=st}).apply(typeof Ld<"u"?Ld:typeof self<"u"?self:typeof window<"u"?window:{});const cb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new yE("@firebase/firestore");function wu(){return ks.logLevel}function we(r,...e){if(ks.logLevel<=Xe.DEBUG){const t=e.map(Tg);ks.debug(`Firestore (${sl}): ${r}`,...t)}}function za(r,...e){if(ks.logLevel<=Xe.ERROR){const t=e.map(Tg);ks.error(`Firestore (${sl}): ${r}`,...t)}}function qo(r,...e){if(ks.logLevel<=Xe.WARN){const t=e.map(Tg);ks.warn(`Firestore (${sl}): ${r}`,...t)}}function Tg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r="Unexpected state"){const e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+r;throw za(e),new Error(e)}function Je(r,e){r||Ne()}function Oe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Bs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dn.UNAUTHENTICATED))}shutdown(){}}class NR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kR{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0);let n=this.i;const s=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let o=new Oa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Oa,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=o;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},f=p=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Oa)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Je(typeof n.accessToken=="string"),new ME(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new Dn(e)}}class MR{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OR{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new MR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Je(this.o===void 0);const n=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,we("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const s=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string"),this.R=t.token,new IR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=VR(40);for(let o=0;o<s.length;++o)n.length<20&&s[o]<t&&(n+=e.charAt(s[o]%e.length))}return n}}function nt(r,e){return r<e?-1:r>e?1:0}function Qo(r,e,t){return r.length===e.length&&r.every((n,s)=>t(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Rt(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Rt(0,0))}static max(){return new Me(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ne(),n===void 0?n=e.length-t:n>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Yu.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yu?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.get(s),c=t.get(s);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bt extends Yu{construct(e,t,n){return new bt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ye(oe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(s=>s.length>0))}return new bt(t)}static emptyPath(){return new bt([])}}const LR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Yu{construct(e,t,n){return new vn(e,t,n)}static isValidIdentifier(e){return LR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const t=[];let n="",s=0;const o=()=>{if(n.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let c=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new ye(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(n+=f,s++):(o(),s++)}if(o(),c)throw new ye(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(t)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(bt.fromString(e))}static fromName(e){return new De(bt.fromString(e).popFirst(5))}static empty(){return new De(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new bt(e.slice()))}}function jR(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(n===1e9?new Rt(t+1,0):new Rt(t,n));return new ki(s,De.empty(),e)}function UR(r){return new ki(r.readTime,r.key,-1)}class ki{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ki(Me.min(),De.empty(),-1)}static max(){return new ki(Me.max(),De.empty(),-1)}}function BR(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(r.documentKey,e.documentKey),t!==0?t:nt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(r){if(r.code!==oe.FAILED_PRECONDITION||r.message!==FR)throw r;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((n,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,n)=>{t(e)})}static reject(e){return new fe((t,n)=>{n(e)})}static waitFor(e){return new fe((t,n)=>{let s=0,o=0,c=!1;e.forEach(f=>{++s,f.next(()=>{++o,c&&o===s&&t()},p=>n(p))}),c=!0,o===s&&t()})}static or(e){let t=fe.resolve(!1);for(const n of e)t=t.next(s=>s?fe.resolve(s):n());return t}static forEach(e,t){const n=[];return e.forEach((s,o)=>{n.push(t.call(this,s,o))}),this.waitFor(n)}static mapArray(e,t){return new fe((n,s)=>{const o=e.length,c=new Array(o);let f=0;for(let p=0;p<o;p++){const m=p;t(e[m]).next(y=>{c[m]=y,++f,f===o&&n(c)},y=>s(y))}})}static doWhile(e,t){return new fe((n,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):n()};o()})}}function YR(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function nc(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}xg.oe=-1;function rc(r){return r==null}function mf(r){return r===0&&1/r==-1/0}function HR(r){return typeof r=="number"&&Number.isInteger(r)&&!mf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Fs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function IE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new Ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jd(this.root,e,this.comparator,!0)}}class jd{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,n,s,o){this.key=e,this.value=t,this.color=n??yn.RED,this.left=s??yn.EMPTY,this.right=o??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,o){return new yn(e??this.key,t??this.value,n??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const o=n(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,n),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return yn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,n,s,o){return this}insert(e,t,n){return new yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fb(this.data.getIterator())}getIteratorFrom(e){return new fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new bn(vn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new PE("Invalid base64 string: "+o):o}}(e);return new wn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const qR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(r){if(Je(!!r),typeof r=="string"){let e=0;const t=qR.exec(r);if(Je(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ut(r.seconds),nanos:Ut(r.nanos)}}function Ut(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ms(r){return typeof r=="string"?wn.fromBase64String(r):wn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Sg(r){const e=r.mapValue.fields.__previous_value__;return Dg(e)?Sg(e):e}function Hu(r){const e=Mi(r.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,t,n,s,o,c,f,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}class qu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud={mapValue:{}};function Os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dg(r)?4:KR(r)?9007199254740991:GR(r)?10:11:Ne()}function ra(r,e){if(r===e)return!0;const t=Os(r);if(t!==Os(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Hu(r).isEqual(Hu(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Mi(s.timestampValue),f=Mi(o.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,o){return Ms(s.bytesValue).isEqual(Ms(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,o){return Ut(s.geoPointValue.latitude)===Ut(o.geoPointValue.latitude)&&Ut(s.geoPointValue.longitude)===Ut(o.geoPointValue.longitude)}(r,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Ut(s.integerValue)===Ut(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Ut(s.doubleValue),f=Ut(o.doubleValue);return c===f?mf(c)===mf(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return Qo(r.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},f=o.mapValue.fields||{};if(db(c)!==db(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!ra(c[p],f[p])))return!1;return!0}(r,e);default:return Ne()}}function Qu(r,e){return(r.values||[]).find(t=>ra(t,e))!==void 0}function Go(r,e){if(r===e)return 0;const t=Os(r),n=Os(e);if(t!==n)return nt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(r.booleanValue,e.booleanValue);case 2:return function(o,c){const f=Ut(o.integerValue||o.doubleValue),p=Ut(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return hb(r.timestampValue,e.timestampValue);case 4:return hb(Hu(r),Hu(e));case 5:return nt(r.stringValue,e.stringValue);case 6:return function(o,c){const f=Ms(o),p=Ms(c);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(o,c){const f=o.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const y=nt(f[m],p[m]);if(y!==0)return y}return nt(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,c){const f=nt(Ut(o.latitude),Ut(c.latitude));return f!==0?f:nt(Ut(o.longitude),Ut(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return pb(r.arrayValue,e.arrayValue);case 10:return function(o,c){var f,p,m,y;const b=o.fields||{},w=c.fields||{},D=(f=b.value)===null||f===void 0?void 0:f.arrayValue,S=(p=w.value)===null||p===void 0?void 0:p.arrayValue,P=nt(((m=D?.values)===null||m===void 0?void 0:m.length)||0,((y=S?.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:pb(D,S)}(r.mapValue,e.mapValue);case 11:return function(o,c){if(o===Ud.mapValue&&c===Ud.mapValue)return 0;if(o===Ud.mapValue)return 1;if(c===Ud.mapValue)return-1;const f=o.fields||{},p=Object.keys(f),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let b=0;b<p.length&&b<y.length;++b){const w=nt(p[b],y[b]);if(w!==0)return w;const D=Go(f[p[b]],m[y[b]]);if(D!==0)return D}return nt(p.length,y.length)}(r.mapValue,e.mapValue);default:throw Ne()}}function hb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return nt(r,e);const t=Mi(r),n=Mi(e),s=nt(t.seconds,n.seconds);return s!==0?s:nt(t.nanos,n.nanos)}function pb(r,e){const t=r.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const o=Go(t[s],n[s]);if(o)return o}return nt(t.length,n.length)}function Ko(r){return Gm(r)}function Gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Mi(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ms(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return De.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",s=!0;for(const o of t.values||[])s?s=!1:n+=",",n+=Gm(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of n)o?o=!1:s+=",",s+=`${c}:${Gm(t.fields[c])}`;return s+"}"}(r.mapValue):Ne()}function mb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Km(r){return!!r&&"integerValue"in r}function Ag(r){return!!r&&"arrayValue"in r}function gb(r){return!!r&&"nullValue"in r}function yb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ef(r){return!!r&&"mapValue"in r}function GR(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Iu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Fs(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Iu(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Iu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function KR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Iu(t)}setAll(e){let t=vn.emptyPath(),n={},s=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,n,s),n={},s=[],t=f.popLast()}c?n[f.lastSegment()]=Iu(c):s.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,s)}delete(e){const t=this.field(e.popLast());ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];ef(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){Fs(t,(s,o)=>e[s]=o);for(const s of n)delete e[s]}clone(){return new Vn(Iu(this.value))}}function VE(r){const e=[];return Fs(r.fields,(t,n)=>{const s=new vn([t]);if(ef(n)){const o=VE(n.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,n,s,o,c,f){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=o,this.data=c,this.documentState=f}static newInvalidDocument(e){return new un(e,0,Me.min(),Me.min(),Me.min(),Vn.empty(),0)}static newFoundDocument(e,t,n,s){return new un(e,1,t,Me.min(),n,s,0)}static newNoDocument(e,t){return new un(e,2,t,Me.min(),Me.min(),Vn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Me.min(),Me.min(),Vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.position=e,this.inclusive=t}}function vb(r,e,t){let n=0;for(let s=0;s<r.position.length;s++){const o=e[s],c=r.position[s];if(o.field.isKeyField()?n=De.comparator(De.fromName(c.referenceValue),t.key):n=Go(c,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function _b(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ra(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t="asc"){this.field=e,this.dir=t}}function WR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{}class Kt extends LE{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new XR(e,t,n):t==="array-contains"?new eC(e,n):t==="in"?new tC(e,n):t==="not-in"?new nC(e,n):t==="array-contains-any"?new rC(e,n):new Kt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new ZR(e,n):new JR(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Go(t,this.value)):t!==null&&Os(this.value)===Os(t)&&this.matchesComparison(Go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends LE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Cr(e,t)}matches(e){return jE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jE(r){return r.op==="and"}function UE(r){return $R(r)&&jE(r)}function $R(r){for(const e of r.filters)if(e instanceof Cr)return!1;return!0}function Wm(r){if(r instanceof Kt)return r.field.canonicalString()+r.op.toString()+Ko(r.value);if(UE(r))return r.filters.map(e=>Wm(e)).join(",");{const e=r.filters.map(t=>Wm(t)).join(",");return`${r.op}(${e})`}}function BE(r,e){return r instanceof Kt?function(n,s){return s instanceof Kt&&n.op===s.op&&n.field.isEqual(s.field)&&ra(n.value,s.value)}(r,e):r instanceof Cr?function(n,s){return s instanceof Cr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((o,c,f)=>o&&BE(c,s.filters[f]),!0):!1}(r,e):void Ne()}function FE(r){return r instanceof Kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ko(t.value)}`}(r):r instanceof Cr?function(t){return t.op.toString()+" {"+t.getFilters().map(FE).join(" ,")+"}"}(r):"Filter"}class XR extends Kt{constructor(e,t,n){super(e,t,n),this.key=De.fromName(n.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class ZR extends Kt{constructor(e,t){super(e,"in",t),this.keys=zE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class JR extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=zE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zE(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>De.fromName(n.referenceValue))}class eC extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ag(t)&&Qu(t.arrayValue,this.value)}}class tC extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Qu(this.value.arrayValue,t)}}class nC extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Qu(this.value.arrayValue,t)}}class rC extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Qu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t=null,n=[],s=[],o=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=o,this.startAt=c,this.endAt=f,this.ue=null}}function bb(r,e=null,t=[],n=[],s=null,o=null,c=null){return new aC(r,e,t,n,s,o,c)}function Rg(r){const e=Oe(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Wm(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),rc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Ko(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Ko(n)).join(",")),e.ue=t}return e.ue}function Cg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!WR(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!BE(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!_b(r.startAt,e.startAt)&&_b(r.endAt,e.endAt)}function $m(r){return De.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,t=null,n=[],s=[],o=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=o,this.limitType=c,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function iC(r,e,t,n,s,o,c,f){return new ol(r,e,t,n,s,o,c,f)}function YE(r){return new ol(r)}function wb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function HE(r){return r.collectionGroup!==null}function Pu(r){const e=Oe(r);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new bn(vn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Gu(o,n))}),t.has(vn.keyField().canonicalString())||e.ce.push(new Gu(vn.keyField(),n))}return e.ce}function ea(r){const e=Oe(r);return e.le||(e.le=sC(e,Pu(r))),e.le}function sC(r,e){if(r.limitType==="F")return bb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Gu(s.field,o)});const t=r.endAt?new gf(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new gf(r.startAt.position,r.startAt.inclusive):null;return bb(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Xm(r,e){const t=r.filters.concat([e]);return new ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function yf(r,e,t){return new ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function zf(r,e){return Cg(ea(r),ea(e))&&r.limitType===e.limitType}function qE(r){return`${Rg(ea(r))}|lt:${r.limitType}`}function Lo(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(s=>FE(s)).join(", ")}]`),rc(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ko(s)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ko(s)).join(",")),`Target(${n})`}(ea(r))}; limitType=${r.limitType})`}function Yf(r,e){return e.isFoundDocument()&&function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):De.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,s){for(const o of Pu(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0}(r,e)&&function(n,s){return!(n.startAt&&!function(c,f,p){const m=vb(c,f,p);return c.inclusive?m<=0:m<0}(n.startAt,Pu(n),s)||n.endAt&&!function(c,f,p){const m=vb(c,f,p);return c.inclusive?m>=0:m>0}(n.endAt,Pu(n),s))}(r,e)}function oC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function QE(r){return(e,t)=>{let n=!1;for(const s of Pu(r)){const o=lC(s,e,t);if(o!==0)return o;n=n||s.field.isKeyField()}return 0}}function lC(r,e,t){const n=r.field.isKeyField()?De.comparator(e.key,t.key):function(o,c,f){const p=c.data.field(o),m=f.data.field(o);return p!==null&&m!==null?Go(p,m):Ne()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,o]of n)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,(t,n)=>{for(const[s,o]of n)e(s,o)})}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new Ct(De.comparator);function Ya(){return uC}const GE=new Ct(De.comparator);function Cu(...r){let e=GE;for(const t of r)e=e.insert(t.key,t);return e}function KE(r){let e=GE;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Es(){return Vu()}function WE(){return Vu()}function Vu(){return new ll(r=>r.toString(),(r,e)=>r.isEqual(e))}const cC=new Ct(De.comparator),dC=new bn(De.comparator);function Fe(...r){let e=dC;for(const t of r)e=e.add(t);return e}const fC=new bn(nt);function hC(){return fC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(e)?"-0":e}}function $E(r){return{integerValue:""+r}}function pC(r,e){return HR(e)?$E(e):Ng(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this._=void 0}}function mC(r,e,t){return r instanceof vf?function(s,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Dg(o)&&(o=Sg(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):r instanceof Ku?ZE(r,e):r instanceof Wu?JE(r,e):function(s,o){const c=XE(s,o),f=Eb(c)+Eb(s.Pe);return Km(c)&&Km(s.Pe)?$E(f):Ng(s.serializer,f)}(r,e)}function gC(r,e,t){return r instanceof Ku?ZE(r,e):r instanceof Wu?JE(r,e):t}function XE(r,e){return r instanceof _f?function(n){return Km(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class vf extends Hf{}class Ku extends Hf{constructor(e){super(),this.elements=e}}function ZE(r,e){const t=eT(e);for(const n of r.elements)t.some(s=>ra(s,n))||t.push(n);return{arrayValue:{values:t}}}class Wu extends Hf{constructor(e){super(),this.elements=e}}function JE(r,e){let t=eT(e);for(const n of r.elements)t=t.filter(s=>!ra(s,n));return{arrayValue:{values:t}}}class _f extends Hf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Eb(r){return Ut(r.integerValue||r.doubleValue)}function eT(r){return Ag(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function yC(r,e){return r.field.isEqual(e.field)&&function(n,s){return n instanceof Ku&&s instanceof Ku||n instanceof Wu&&s instanceof Wu?Qo(n.elements,s.elements,ra):n instanceof _f&&s instanceof _f?ra(n.Pe,s.Pe):n instanceof vf&&s instanceof vf}(r.transform,e.transform)}class vC{constructor(e,t){this.version=e,this.transformResults=t}}class Sn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qf{}function tT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Qf(r.key,Sn.none()):new ac(r.key,r.data,Sn.none());{const t=r.data,n=Vn.empty();let s=new bn(vn.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?n.delete(o):n.set(o,c),s=s.add(o)}return new Li(r.key,n,new Zn(s.toArray()),Sn.none())}}function _C(r,e,t){r instanceof ac?function(s,o,c){const f=s.value.clone(),p=xb(s.fieldTransforms,o,c.transformResults);f.setAll(p),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Li?function(s,o,c){if(!tf(s.precondition,o))return void o.convertToUnknownDocument(c.version);const f=xb(s.fieldTransforms,o,c.transformResults),p=o.data;p.setAll(nT(s)),p.setAll(f),o.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Lu(r,e,t,n){return r instanceof ac?function(o,c,f,p){if(!tf(o.precondition,c))return f;const m=o.value.clone(),y=Db(o.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(r,e,t,n):r instanceof Li?function(o,c,f,p){if(!tf(o.precondition,c))return f;const m=Db(o.fieldTransforms,p,c),y=c.data;return y.setAll(nT(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(r,e,t,n):function(o,c,f){return tf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(r,e,t)}function bC(r,e){let t=null;for(const n of r.fieldTransforms){const s=e.data.field(n.field),o=XE(n.transform,s||null);o!=null&&(t===null&&(t=Vn.empty()),t.set(n.field,o))}return t||null}function Tb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Qo(n,s,(o,c)=>yC(o,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ac extends qf{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Li extends qf{constructor(e,t,n,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function nT(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function xb(r,e,t){const n=new Map;Je(r.length===t.length);for(let s=0;s<t.length;s++){const o=r[s],c=o.transform,f=e.data.field(o.field);n.set(o.field,gC(c,f,t[s]))}return n}function Db(r,e,t){const n=new Map;for(const s of r){const o=s.transform,c=t.data.field(s.field);n.set(s.field,mC(o,c,e))}return n}class Qf extends qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rT extends qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&_C(o,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Lu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Lu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=WE();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let f=this.applyToLocalView(c,o.mutatedFields);f=t.has(s.key)?null:f;const p=tT(c,f);p!==null&&n.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(Me.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(t,n)=>Tb(t,n))&&Qo(this.baseMutations,e.baseMutations,(t,n)=>Tb(t,n))}}class kg{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){Je(e.mutations.length===n.length);let s=function(){return cC}();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,n[c].version);return new kg(e,t,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Ke;function aT(r){switch(r){default:return Ne();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function iT(r){if(r===void 0)return za("GRPC error has no .code"),oe.UNKNOWN;switch(r){case Gt.OK:return oe.OK;case Gt.CANCELLED:return oe.CANCELLED;case Gt.UNKNOWN:return oe.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return oe.INTERNAL;case Gt.UNAVAILABLE:return oe.UNAVAILABLE;case Gt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Gt.NOT_FOUND:return oe.NOT_FOUND;case Gt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Gt.ABORTED:return oe.ABORTED;case Gt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Gt.DATA_LOSS:return oe.DATA_LOSS;default:return Ne()}}(Ke=Gt||(Gt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new Ds([4294967295,4294967295],0);function Sb(r){const e=xC().encode(r),t=new SE;return t.update(e),new Uint8Array(t.digest())}function Ab(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ds([t,n],0),new Ds([s,o],0)]}class Mg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Nu(`Invalid padding: ${t}`);if(n<0)throw new Nu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ds.fromNumber(this.Ie)}Ee(e,t,n){let s=e.add(t.multiply(Ds.fromNumber(n)));return s.compare(DC)===1&&(s=new Ds([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Sb(e),[n,s]=Ab(t);for(let o=0;o<this.hashCount;o++){const c=this.Ee(n,s,o);if(!this.de(c))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Mg(o,s,t);return n.forEach(f=>c.insert(f)),c}insert(e){if(this.Ie===0)return;const t=Sb(e),[n,s]=Ab(t);for(let o=0;o<this.hashCount;o++){const c=this.Ee(n,s,o);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t,n,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Gf(Me.min(),s,new Ct(nt),Ya(),Fe())}}class ic{constructor(e,t,n,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ic(n,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t,n,s){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=s}}class sT{constructor(e,t){this.targetId=e,this.me=t}}class oT{constructor(e,t,n=wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class Rb{constructor(){this.fe=0,this.ge=Nb(),this.pe=wn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),t=Fe(),n=Fe();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:Ne()}}),new ic(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Nb()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class SC{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ya(),this.qe=Cb(),this.Qe=new Ct(nt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((n,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,n=e.me.count,s=this.Je(t);if(s){const o=s.target;if($m(o))if(n===0){const c=new De(o.path);this.Ue(t,c,un.newNoDocument(c,Me.min()))}else Je(n===1);else{const c=this.Ye(t);if(c!==n){const f=this.Ze(e),p=f?this.Xe(f,e,c):1;if(p!==0){this.je(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,m)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:o=0}=t;let c,f;try{c=Ms(n).toUint8Array()}catch(p){if(p instanceof PE)return qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Mg(c,s,o)}catch(p){return qo(p instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ie===0?null:f}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let s=0;return n.forEach(o=>{const c=this.Le.tt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.Ue(t,o,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((o,c)=>{const f=this.Je(c);if(f){if(o.current&&$m(f.target)){const p=new De(f.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,un.newNoDocument(p,e))}o.be&&(t.set(c,o.ve()),o.Ce())}});let n=Fe();this.qe.forEach((o,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.Je(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(n=n.add(o))}),this.ke.forEach((o,c)=>c.setReadTime(e));const s=new Gf(e,t,this.Qe,this.ke,n);return this.ke=Ya(),this.qe=Cb(),this.Qe=new Ct(nt),s}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Rb,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bn(nt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Rb),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Cb(){return new Ct(De.comparator)}function Nb(){return new Ct(De.comparator)}const AC={asc:"ASCENDING",desc:"DESCENDING"},RC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CC={and:"AND",or:"OR"};class NC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zm(r,e){return r.useProto3Json||rc(e)?e:{value:e}}function bf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kC(r,e){return bf(r,e.toTimestamp())}function er(r){return Je(!!r),Me.fromTimestamp(function(t){const n=Mi(t);return new Rt(n.seconds,n.nanos)}(r))}function Og(r,e){return Jm(r,e).canonicalString()}function Jm(r,e){const t=function(s){return new bt(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?t:t.child(e)}function uT(r){const e=bt.fromString(r);return Je(mT(e)),e}function wf(r,e){return Og(r.databaseId,e.path)}function ju(r,e){const t=uT(e);if(t.get(1)!==r.databaseId.projectId)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new De(dT(t))}function cT(r,e){return Og(r.databaseId,e)}function MC(r){const e=uT(r);return e.length===4?bt.emptyPath():dT(e)}function eg(r){return new bt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dT(r){return Je(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function kb(r,e,t){return{name:wf(r,e),fields:t.value.mapValue.fields}}function OC(r,e){return"found"in e?function(n,s){Je(!!s.found),s.found.name,s.found.updateTime;const o=ju(n,s.found.name),c=er(s.found.updateTime),f=s.found.createTime?er(s.found.createTime):Me.min(),p=new Vn({mapValue:{fields:s.found.fields}});return un.newFoundDocument(o,c,f,p)}(r,e):"missing"in e?function(n,s){Je(!!s.missing),Je(!!s.readTime);const o=ju(n,s.missing),c=er(s.readTime);return un.newNoDocument(o,c)}(r,e):Ne()}function IC(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(Je(y===void 0||typeof y=="string"),wn.fromBase64String(y||"")):(Je(y===void 0||y instanceof Buffer||y instanceof Uint8Array),wn.fromUint8Array(y||new Uint8Array))}(r,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const y=m.code===void 0?oe.UNKNOWN:iT(m.code);return new ye(y,m.message||"")}(c);t=new oT(n,s,o,f||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=ju(r,n.document.name),o=er(n.document.updateTime),c=n.document.createTime?er(n.document.createTime):Me.min(),f=new Vn({mapValue:{fields:n.document.fields}}),p=un.newFoundDocument(s,o,c,f),m=n.targetIds||[],y=n.removedTargetIds||[];t=new nf(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=ju(r,n.document),o=n.readTime?er(n.readTime):Me.min(),c=un.newNoDocument(s,o),f=n.removedTargetIds||[];t=new nf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=ju(r,n.document),o=n.removedTargetIds||[];t=new nf([],o,s,null)}else{if(!("filter"in e))return Ne();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:o}=n,c=new TC(s,o),f=n.targetId;t=new sT(f,c)}}return t}function fT(r,e){let t;if(e instanceof ac)t={update:kb(r,e.key,e.value)};else if(e instanceof Qf)t={delete:wf(r,e.key)};else if(e instanceof Li)t={update:kb(r,e.key,e.data),updateMask:YC(e.fieldMask)};else{if(!(e instanceof rT))return Ne();t={verify:wf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,c){const f=c.transform;if(f instanceof vf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ku)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof _f)return{fieldPath:c.field.canonicalString(),increment:f.Pe};throw Ne()}(0,n))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:kC(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ne()}(r,e.precondition)),t}function PC(r,e){return r&&r.length>0?(Je(e!==void 0),r.map(t=>function(s,o){let c=s.updateTime?er(s.updateTime):er(o);return c.isEqual(Me.min())&&(c=er(o)),new vC(c,s.transformResults||[])}(t,e))):[]}function VC(r,e){return{documents:[cT(r,e.path)]}}function LC(r,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=cT(r,s);const o=function(m){if(m.length!==0)return pT(Cr.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(m){if(m.length!==0)return m.map(y=>function(w){return{field:jo(w.field),direction:BC(w.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Zm(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{_t:t,parent:s}}function jC(r){let e=MC(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){Je(n===1);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(b){const w=hT(b);return w instanceof Cr&&UE(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(w=>function(S){return new Gu(Uo(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(t.orderBy));let f=null;t.limit&&(f=function(b){let w;return w=typeof b=="object"?b.value:b,rc(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(b){const w=!!b.before,D=b.values||[];return new gf(D,w)}(t.startAt));let m=null;return t.endAt&&(m=function(b){const w=!b.before,D=b.values||[];return new gf(D,w)}(t.endAt)),iC(e,s,c,o,f,"F",p,m)}function UC(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hT(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Uo(t.unaryFilter.field);return Kt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Uo(t.unaryFilter.field);return Kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Uo(t.unaryFilter.field);return Kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(t.unaryFilter.field);return Kt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(r):r.fieldFilter!==void 0?function(t){return Kt.create(Uo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Cr.create(t.compositeFilter.filters.map(n=>hT(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(r):Ne()}function BC(r){return AC[r]}function FC(r){return RC[r]}function zC(r){return CC[r]}function jo(r){return{fieldPath:r.canonicalString()}}function Uo(r){return vn.fromServerFormat(r.fieldPath)}function pT(r){return r instanceof Kt?function(t){if(t.op==="=="){if(yb(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NAN"}};if(gb(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yb(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NAN"}};if(gb(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(t.field),op:FC(t.op),value:t.value}}}(r):r instanceof Cr?function(t){const n=t.getFilters().map(s=>pT(s));return n.length===1?n[0]:{compositeFilter:{op:zC(t.op),filters:n}}}(r):Ne()}function YC(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t,n,s,o=Me.min(),c=Me.min(),f=wn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.ct=e}}function qC(r){const e=jC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.un=new GC}addToCollectionParentIndex(e,t){return this.un.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(ki.min())}updateCollectionGroup(e,t,n){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class GC{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new bn(bt.comparator),o=!s.has(n);return this.index[t]=s.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new bn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wo(0)}static kn(){return new Wo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.changes=new ll(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?fe.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(n!==null&&Lu(n.mutation,s,Zn.empty(),Rt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Fe()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Fe()){const s=Es();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,n).next(o=>{let c=Cu();return o.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const n=Es();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Fe()))}populateOverlays(e,t,n){const s=[];return n.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,n,s){let o=Ya();const c=Vu(),f=function(){return Vu()}();return t.forEach((p,m)=>{const y=n.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof Li)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Lu(y.mutation,m,y.mutation.getFieldMask(),Rt.now())):c.set(m.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((m,y)=>c.set(m,y)),t.forEach((m,y)=>{var b;return f.set(m,new WC(y,(b=c.get(m))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,t){const n=Vu();let s=new Ct((c,f)=>c-f),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let y=n.get(p)||Zn.empty();y=f.applyToLocalView(m,y),n.set(p,y);const b=(s.get(f.batchId)||Fe()).add(p);s=s.insert(f.batchId,b)})}).next(()=>{const c=[],f=s.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,y=p.value,b=WE();y.forEach(w=>{if(!o.has(w)){const D=tT(t.get(w),n.get(w));D!==null&&b.set(w,D),o=o.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return fe.waitFor(c)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,s){return function(c){return De.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):HE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-o.size):fe.resolve(Es());let f=-1,p=o;return c.next(m=>fe.forEach(m,(y,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),o.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{p=p.insert(y,w)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,p,m,Fe())).next(y=>({batchId:f,changes:KE(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(n=>{let s=Cu();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const o=t.collectionGroup;let c=Cu();return this.indexManager.getCollectionParents(e,o).next(f=>fe.forEach(f,p=>{const m=function(b,w){return new ol(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,n,s).next(y=>{y.forEach((b,w)=>{c=c.insert(b,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,s))).next(c=>{o.forEach((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))});let f=Cu();return c.forEach((p,m)=>{const y=o.get(p);y!==void 0&&Lu(y.mutation,m,Zn.empty(),Rt.now()),Yf(t,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return fe.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:er(s.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:qC(s.bundledQuery),readTime:er(s.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.overlays=new Ct(De.comparator),this.Ir=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Es();return fe.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&n.set(s,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((s,o)=>{this.ht(e,t,o)}),fe.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(n)),fe.resolve()}getOverlaysForCollection(e,t,n){const s=Es(),o=t.length+1,c=new De(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&p.largestBatchId>n&&s.set(p.getKey(),p)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let o=new Ct((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>n){let y=o.get(m.largestBatchId);y===null&&(y=Es(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=Es(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>f.set(m,y)),!(f.size()>=s)););return fe.resolve(f)}ht(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const c=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new EC(t,n));let o=this.Ir.get(t);o===void 0&&(o=Fe(),this.Ir.set(t,o)),this.Ir.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this.Tr=new bn(ln.Er),this.dr=new bn(ln.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new ln(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Vr(new ln(e,t))}mr(e,t){e.forEach(n=>this.removeReference(n,t))}gr(e){const t=new De(new bt([])),n=new ln(t,e),s=new ln(t,e+1),o=[];return this.dr.forEachInRange([n,s],c=>{this.Vr(c),o.push(c.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new De(new bt([])),n=new ln(t,e),s=new ln(t,e+1);let o=Fe();return this.dr.forEachInRange([n,s],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new ln(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class ln{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return De.comparator(e.key,t.key)||nt(e.wr,t.wr)}static Ar(e,t){return nt(e.wr,t.wr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new bn(ln.Er)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new wC(o,t,n,s);this.mutationQueue.push(c);for(const f of s)this.br=this.br.add(new ln(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.vr(n),o=s<0?0:s;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ln(t,0),s=new ln(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([n,s],c=>{const f=this.Dr(c.wr);o.push(f)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bn(nt);return t.forEach(s=>{const o=new ln(s,0),c=new ln(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,c],f=>{n=n.add(f.wr)})}),fe.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let o=n;De.isDocumentKey(o)||(o=o.child(""));const c=new ln(new De(o),0);let f=new bn(nt);return this.br.forEachWhile(p=>{const m=p.key.path;return!!n.isPrefixOf(m)&&(m.length===s&&(f=f.add(p.wr)),!0)},c),fe.resolve(this.Cr(f))}Cr(e){const t=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Je(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return fe.forEach(t.mutations,s=>{const o=new ln(s.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new ln(t,0),s=this.br.firstAfterOrEqual(n);return fe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.Mr=e,this.docs=function(){return new Ct(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),o=s?s.size:0,c=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return fe.resolve(n?n.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let n=Ya();return t.forEach(s=>{const o=this.docs.get(s);n=n.insert(s,o?o.document.mutableCopy():un.newInvalidDocument(s))}),fe.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let o=Ya();const c=t.path,f=new De(c.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||BR(UR(y),n)<=0||(s.has(y.key)||Yf(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,t,n,s){Ne()}Or(e,t){return fe.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new nN(this)}getSize(e){return fe.resolve(this.size)}}class nN extends KC{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),fe.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.persistence=e,this.Nr=new ll(t=>Rg(t),Cg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ig,this.targetCount=0,this.kr=Wo.Bn()}forEachTarget(e,t){return this.Nr.forEach((n,s)=>t(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),fe.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Wo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Kn(t),fe.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,n){let s=0;const o=[];return this.Nr.forEach((c,f)=>{f.sequenceNumber<=t&&n.get(f.targetId)===null&&(this.Nr.delete(c),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),fe.waitFor(o).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return fe.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),fe.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return fe.resolve(n)}containsKey(e,t){return fe.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t){this.qr={},this.overlays={},this.Qr=new xg(0),this.Kr=!1,this.Kr=!0,this.$r=new JC,this.referenceDelegate=e(this),this.Ur=new rN(this),this.indexManager=new QC,this.remoteDocumentCache=function(s){return new tN(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new HC(t),this.Gr=new XC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new eN(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){we("MemoryPersistence","Starting transaction:",e);const s=new iN(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(o=>this.referenceDelegate.jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Hr(e,t){return fe.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class iN extends zR{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Jr=new Ig,this.Yr=null}static Zr(e){return new Pg(e)}get Xr(){if(this.Yr)return this.Yr;throw Ne()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),fe.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.Xr.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Xr,n=>{const s=De.fromPath(n);return this.ei(e,s).next(o=>{o||t.removeEntry(s,Me.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return fe.or([()=>fe.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=s}static Wi(e,t){let n=Fe(),s=Fe();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Vg(e,t.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return gA()?8:YR(pA())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,s){const o={result:null};return this.Yi(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Zi(e,t,s,n).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new sN;return this.Xi(e,t,c).next(f=>{if(o.result=f,this.zi)return this.es(e,t,c,f.size)})}).next(()=>o.result)}es(e,t,n,s){return n.documentReadCount<this.ji?(wu()<=Xe.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),fe.resolve()):(wu()<=Xe.DEBUG&&we("QueryEngine","Query:",Lo(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(wu()<=Xe.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ea(t))):fe.resolve())}Yi(e,t){if(wb(t))return fe.resolve(null);let n=ea(t);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=yf(t,null,"F"),n=ea(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const c=Fe(...o);return this.Ji.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,n).next(p=>{const m=this.ts(t,f);return this.ns(t,m,c,p.readTime)?this.Yi(e,yf(t,null,"F")):this.rs(e,m,t,p)}))})))}Zi(e,t,n,s){return wb(t)||s.isEqual(Me.min())?fe.resolve(null):this.Ji.getDocuments(e,n).next(o=>{const c=this.ts(t,o);return this.ns(t,c,n,s)?fe.resolve(null):(wu()<=Xe.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Lo(t)),this.rs(e,c,t,jR(s,-1)).next(f=>f))})}ts(e,t){let n=new bn(QE(e));return t.forEach((s,o)=>{Yf(e,o)&&(n=n.add(o))}),n}ns(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(e,t,n){return wu()<=Xe.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.Ji.getDocumentsMatchingQuery(e,t,ki.min(),n)}rs(e,t,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t,n,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new Ct(nt),this._s=new ll(o=>Rg(o),Cg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $C(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function uN(r,e,t,n){return new lN(r,e,t,n)}async function gT(r,e){const t=Oe(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next(o=>(s=o,t.ls(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const c=[],f=[];let p=Fe();for(const m of s){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of o){f.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(n,p).next(m=>({hs:m,removedBatchIds:c,addedBatchIds:f}))})})}function cN(r,e){const t=Oe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(f,p,m,y){const b=m.batch,w=b.keys();let D=fe.resolve();return w.forEach(S=>{D=D.next(()=>y.getEntry(p,S)).next(P=>{const N=m.docVersions.get(S);Je(N!==null),P.version.compareTo(N)<0&&(b.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),y.addEntry(P)))})}),D.next(()=>f.mutationQueue.removeMutationBatch(p,b))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(f){let p=Fe();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(n,s))})}function yT(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function dN(r,e){const t=Oe(r),n=e.snapshotVersion;let s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;const f=[];e.targetChanges.forEach((y,b)=>{const w=s.get(b);if(!w)return;f.push(t.Ur.removeMatchingKeys(o,y.removedDocuments,b).next(()=>t.Ur.addMatchingKeys(o,y.addedDocuments,b)));let D=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(wn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):y.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(y.resumeToken,n)),s=s.insert(b,D),function(P,N,C){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(w,D,y)&&f.push(t.Ur.updateTargetData(o,D))});let p=Ya(),m=Fe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),f.push(fN(o,c,e.documentUpdates).next(y=>{p=y.Ps,m=y.Is})),!n.isEqual(Me.min())){const y=t.Ur.getLastRemoteSnapshotVersion(o).next(b=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,n));f.push(y)}return fe.waitFor(f).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,m)).next(()=>p)}).then(o=>(t.os=s,o))}function fN(r,e,t){let n=Fe(),s=Fe();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let c=Ya();return t.forEach((f,p)=>{const m=o.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(f)),p.isNoDocument()&&p.version.isEqual(Me.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):we("LocalStore","Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Ps:c,Is:s}})}function hN(r,e){const t=Oe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function pN(r,e){const t=Oe(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return t.Ur.getTargetData(n,e).next(o=>o?(s=o,fe.resolve(s)):t.Ur.allocateTargetId(n).next(c=>(s=new Ti(e,c,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=t.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n})}async function tg(r,e,t){const n=Oe(r),s=n.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,c=>n.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!nc(c))throw c;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function Mb(r,e,t){const n=Oe(r);let s=Me.min(),o=Fe();return n.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,y){const b=Oe(p),w=b._s.get(y);return w!==void 0?fe.resolve(b.os.get(w)):b.Ur.getTargetData(m,y)}(n,c,ea(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(c,f.targetId).next(p=>{o=p})}).next(()=>n.ss.getDocumentsMatchingQuery(c,e,t?s:Me.min(),t?o:Fe())).next(f=>(mN(n,oC(e),f),{documents:f,Ts:o})))}function mN(r,e,t){let n=r.us.get(e)||Me.min();t.forEach((s,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.us.set(e,n)}class Ob{constructor(){this.activeTargetIds=hC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gN{constructor(){this.so=new Ob,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ob,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd=null;function Tm(){return Bd===null?Bd=function(){return 268435456+Math.round(2147483648*Math.random())}():Bd++,"0x"+Bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class bN extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(t,n,s,o,c){const f=Tm(),p=this.xo(t,n.toUriEncodedString());we("RestConnection",`Sending RPC '${t}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,o,c),this.No(t,p,m,s).then(y=>(we("RestConnection",`Received RPC '${t}' ${f}: `,y),y),y=>{throw qo("RestConnection",`RPC '${t}' ${f} failed with error: `,y,"url: ",p,"request:",s),y})}Lo(t,n,s,o,c,f){return this.Mo(t,n,s,o,c)}Oo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}xo(t,n){const s=vN[t];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,s){const o=Tm();return new Promise((c,f)=>{const p=new AE;p.setWithCredentials(!0),p.listenOnce(RE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Jd.NO_ERROR:const y=p.getResponseJson();we(xn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),c(y);break;case Jd.TIMEOUT:we(xn,`RPC '${e}' ${o} timed out`),f(new ye(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Jd.HTTP_ERROR:const b=p.getStatus();if(we(xn,`RPC '${e}' ${o} failed with status:`,b,"response text:",p.getResponseText()),b>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=w?.error;if(D&&D.status&&D.message){const S=function(N){const C=N.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(C)>=0?C:oe.UNKNOWN}(D.status);f(new ye(S,D.message))}else f(new ye(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ye(oe.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{we(xn,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(s);we(xn,`RPC '${e}' ${o} sending request:`,s),p.send(t,"POST",m,n,15)})}Bo(e,t,n){const s=Tm(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=kE(),f=NE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const y=o.join("");we(xn,`Creating RPC '${e}' stream ${s}: ${y}`,p);const b=c.createWebChannel(y,p);let w=!1,D=!1;const S=new _N({Io:N=>{D?we(xn,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(w||(we(xn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),w=!0),we(xn,`RPC '${e}' stream ${s} sending:`,N),b.send(N))},To:()=>b.close()}),P=(N,C,G)=>{N.listen(C,X=>{try{G(X)}catch(te){setTimeout(()=>{throw te},0)}})};return P(b,Ru.EventType.OPEN,()=>{D||(we(xn,`RPC '${e}' stream ${s} transport opened.`),S.yo())}),P(b,Ru.EventType.CLOSE,()=>{D||(D=!0,we(xn,`RPC '${e}' stream ${s} transport closed`),S.So())}),P(b,Ru.EventType.ERROR,N=>{D||(D=!0,qo(xn,`RPC '${e}' stream ${s} transport errored:`,N),S.So(new ye(oe.UNAVAILABLE,"The operation could not be completed")))}),P(b,Ru.EventType.MESSAGE,N=>{var C;if(!D){const G=N.data[0];Je(!!G);const X=G,te=X.error||((C=X[0])===null||C===void 0?void 0:C.error);if(te){we(xn,`RPC '${e}' stream ${s} received error:`,te);const re=te.status;let he=function(k){const V=Gt[k];if(V!==void 0)return iT(V)}(re),I=te.message;he===void 0&&(he=oe.INTERNAL,I="Unknown error status: "+re+" with message "+te.message),D=!0,S.So(new ye(he,I)),b.close()}else we(xn,`RPC '${e}' stream ${s} received:`,G),S.bo(G)}}),P(f,CE.STAT_EVENT,N=>{N.stat===Qm.PROXY?we(xn,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Qm.NOPROXY&&we(xn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(r){return new NC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t,n=1e3,s=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-n);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,t,n,s,o,c,f,p){this.ui=e,this.Ho=n,this.Jo=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Lg(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(za(t.toString()),za("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===t&&this.P_(n,s)},n=>{e(()=>{const s=new ye(oe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wN extends vT{constructor(e,t,n,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,c),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=IC(this.serializer,e),n=function(o){if(!("targetChange"in o))return Me.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?er(c.readTime):Me.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=eg(this.serializer),t.addTarget=function(o,c){let f;const p=c.target;if(f=$m(p)?{documents:VC(o,p)}:{query:LC(o,p)._t},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=lT(o,c.resumeToken);const m=Zm(o,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Me.min())>0){f.readTime=bf(o,c.snapshotVersion.toTimestamp());const m=Zm(o,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const n=UC(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=eg(this.serializer),t.removeTarget=e,this.a_(t)}}class EN extends vT{constructor(e,t,n,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,c),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=PC(e.writeResults,e.commitTime),n=er(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=eg(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>fT(this.serializer,n))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN extends class{}{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Mo(e,Jm(t,n),s,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(oe.UNKNOWN,o.toString())})}Lo(e,t,n,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Lo(e,Jm(t,n),s,c,f,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(oe.UNKNOWN,c.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class xN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(za(t),this.D_=!1):we("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,t,n,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(c=>{n.enqueueAndForget(async()=>{zs(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(p){const m=Oe(p);m.L_.add(4),await sc(m),m.q_.set("Unknown"),m.L_.delete(4),await Wf(m)}(this))})}),this.q_=new xN(n,s)}}async function Wf(r){if(zs(r))for(const e of r.B_)await e(!0)}async function sc(r){for(const e of r.B_)await e(!1)}function _T(r,e){const t=Oe(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Fg(t)?Bg(t):ul(t).r_()&&Ug(t,e))}function jg(r,e){const t=Oe(r),n=ul(t);t.N_.delete(e),n.r_()&&bT(t,e),t.N_.size===0&&(n.r_()?n.o_():zs(t)&&t.q_.set("Unknown"))}function Ug(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ul(r).A_(e)}function bT(r,e){r.Q_.xe(e),ul(r).R_(e)}function Bg(r){r.Q_=new SC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),ul(r).start(),r.q_.v_()}function Fg(r){return zs(r)&&!ul(r).n_()&&r.N_.size>0}function zs(r){return Oe(r).L_.size===0}function wT(r){r.Q_=void 0}async function SN(r){r.q_.set("Online")}async function AN(r){r.N_.forEach((e,t)=>{Ug(r,e)})}async function RN(r,e){wT(r),Fg(r)?(r.q_.M_(e),Bg(r)):r.q_.set("Unknown")}async function CN(r,e,t){if(r.q_.set("Online"),e instanceof oT&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const f of o.targetIds)s.N_.has(f)&&(await s.remoteSyncer.rejectListen(f,c),s.N_.delete(f),s.Q_.removeTarget(f))}(r,e)}catch(n){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ef(r,n)}else if(e instanceof nf?r.Q_.Ke(e):e instanceof sT?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Me.min()))try{const n=await yT(r.localStore);t.compareTo(n)>=0&&await function(o,c){const f=o.Q_.rt(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=o.N_.get(m);y&&o.N_.set(m,y.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const y=o.N_.get(p);if(!y)return;o.N_.set(p,y.withResumeToken(wn.EMPTY_BYTE_STRING,y.snapshotVersion)),bT(o,p);const b=new Ti(y.target,p,m,y.sequenceNumber);Ug(o,b)}),o.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(n){we("RemoteStore","Failed to raise snapshot:",n),await Ef(r,n)}}async function Ef(r,e,t){if(!nc(e))throw e;r.L_.add(1),await sc(r),r.q_.set("Offline"),t||(t=()=>yT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await Wf(r)})}function ET(r,e){return e().catch(t=>Ef(r,t,e))}async function $f(r){const e=Oe(r),t=Oi(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;NN(e);)try{const s=await hN(e.localStore,n);if(s===null){e.O_.length===0&&t.o_();break}n=s.batchId,kN(e,s)}catch(s){await Ef(e,s)}TT(e)&&xT(e)}function NN(r){return zs(r)&&r.O_.length<10}function kN(r,e){r.O_.push(e);const t=Oi(r);t.r_()&&t.V_&&t.m_(e.mutations)}function TT(r){return zs(r)&&!Oi(r).n_()&&r.O_.length>0}function xT(r){Oi(r).start()}async function MN(r){Oi(r).p_()}async function ON(r){const e=Oi(r);for(const t of r.O_)e.m_(t.mutations)}async function IN(r,e,t){const n=r.O_.shift(),s=kg.from(n,e,t);await ET(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await $f(r)}async function PN(r,e){e&&Oi(r).V_&&await async function(n,s){if(function(c){return aT(c)&&c!==oe.ABORTED}(s.code)){const o=n.O_.shift();Oi(n).s_(),await ET(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,s)),await $f(n)}}(r,e),TT(r)&&xT(r)}async function Pb(r,e){const t=Oe(r);t.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const n=zs(t);t.L_.add(3),await sc(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Wf(t)}async function VN(r,e){const t=Oe(r);e?(t.L_.delete(2),await Wf(t)):e||(t.L_.add(2),await sc(t),t.q_.set("Unknown"))}function ul(r){return r.K_||(r.K_=function(t,n,s){const o=Oe(t);return o.w_(),new wN(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(r.datastore,r.asyncQueue,{Eo:SN.bind(null,r),Ro:AN.bind(null,r),mo:RN.bind(null,r),d_:CN.bind(null,r)}),r.B_.push(async e=>{e?(r.K_.s_(),Fg(r)?Bg(r):r.q_.set("Unknown")):(await r.K_.stop(),wT(r))})),r.K_}function Oi(r){return r.U_||(r.U_=function(t,n,s){const o=Oe(t);return o.w_(),new EN(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:MN.bind(null,r),mo:PN.bind(null,r),f_:ON.bind(null,r),g_:IN.bind(null,r)}),r.B_.push(async e=>{e?(r.U_.s_(),await $f(r)):(await r.U_.stop(),r.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t,n,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=o,this.deferred=new Oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,o){const c=Date.now()+n,f=new zg(e,t,c,s,o);return f.start(n),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(r,e){if(za("AsyncQueue",`${e}: ${r}`),nc(r))return new ye(oe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.comparator=e?(t,n)=>e(t,n)||De.comparator(t.key,n.key):(t,n)=>De.comparator(t.key,n.key),this.keyedMap=Cu(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new Fo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Fo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.W_=new Ct(De.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ne():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class $o{constructor(e,t,n,s,o,c,f,p,m){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,n,s,o){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new $o(e,t,Fo.emptySet(t),c,n,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class jN{constructor(){this.queries=Lb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const s=Oe(t),o=s.queries;s.queries=Lb(),o.forEach((c,f)=>{for(const p of f.j_)p.onError(n)})})(this,new ye(oe.ABORTED,"Firestore shutting down"))}}function Lb(){return new ll(r=>qE(r),zf)}async function UN(r,e){const t=Oe(r);let n=3;const s=e.query;let o=t.queries.get(s);o?!o.H_()&&e.J_()&&(n=2):(o=new LN,n=e.J_()?0:1);try{switch(n){case 0:o.z_=await t.onListen(s,!0);break;case 1:o.z_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const f=Yg(c,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&Hg(t)}async function BN(r,e){const t=Oe(r),n=e.query;let s=3;const o=t.queries.get(n);if(o){const c=o.j_.indexOf(e);c>=0&&(o.j_.splice(c,1),o.j_.length===0?s=e.J_()?0:1:!o.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function FN(r,e){const t=Oe(r);let n=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const f of c.j_)f.X_(s)&&(n=!0);c.z_=s}}n&&Hg(t)}function zN(r,e,t){const n=Oe(r),s=n.queries.get(e);if(s)for(const o of s.j_)o.onError(t);n.queries.delete(e)}function Hg(r){r.Y_.forEach(e=>{e.next()})}var ng,jb;(jb=ng||(ng={})).ea="default",jb.Cache="cache";class YN{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new $o(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.key=e}}class ST{constructor(e){this.key=e}}class HN{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fe(),this.mutatedKeys=Fe(),this.Aa=QE(e),this.Ra=new Fo(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Vb,s=t?t.Ra:this.Ra;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,f=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,b)=>{const w=s.get(y),D=Yf(this.query,b)?b:null,S=!!w&&this.mutatedKeys.has(w.key),P=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let N=!1;w&&D?w.data.isEqual(D.data)?S!==P&&(n.track({type:3,doc:D}),N=!0):this.ga(w,D)||(n.track({type:2,doc:D}),N=!0,(p&&this.Aa(D,p)>0||m&&this.Aa(D,m)<0)&&(f=!0)):!w&&D?(n.track({type:0,doc:D}),N=!0):w&&!D&&(n.track({type:1,doc:w}),N=!0,(p||m)&&(f=!0)),N&&(D?(c=c.add(D),o=P?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),n.track({type:1,doc:y})}return{Ra:c,fa:n,ns:f,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort((y,b)=>function(D,S){const P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return P(D)-P(S)}(y.type,b.type)||this.Aa(y.doc,b.doc)),this.pa(n),s=s!=null&&s;const f=t&&!s?this.ya():[],p=this.da.size===0&&this.current&&!s?1:0,m=p!==this.Ea;return this.Ea=p,c.length!==0||m?{snapshot:new $o(this.query,e.Ra,o,c,e.mutatedKeys,p===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Vb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Fe(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const t=[];return e.forEach(n=>{this.da.has(n)||t.push(new ST(n))}),this.da.forEach(n=>{e.has(n)||t.push(new DT(n))}),t}ba(e){this.Ta=e.Ts,this.da=Fe();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return $o.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class qN{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class QN{constructor(e){this.key=e,this.va=!1}}class GN{constructor(e,t,n,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new ll(f=>qE(f),zf),this.Ma=new Map,this.xa=new Set,this.Oa=new Ct(De.comparator),this.Na=new Map,this.La=new Ig,this.Ba={},this.ka=new Map,this.qa=Wo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function KN(r,e,t=!0){const n=MT(r);let s;const o=n.Fa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await AT(n,e,t,!0),s}async function WN(r,e){const t=MT(r);await AT(t,e,!0,!1)}async function AT(r,e,t,n){const s=await pN(r.localStore,ea(e)),o=s.targetId,c=r.sharedClientState.addLocalQueryTarget(o,t);let f;return n&&(f=await $N(r,e,o,c==="current",s.resumeToken)),r.isPrimaryClient&&t&&_T(r.remoteStore,s),f}async function $N(r,e,t,n,s){r.Ka=(b,w,D)=>async function(P,N,C,G){let X=N.view.ma(C);X.ns&&(X=await Mb(P.localStore,N.query,!1).then(({documents:I})=>N.view.ma(I,X)));const te=G&&G.targetChanges.get(N.targetId),re=G&&G.targetMismatches.get(N.targetId)!=null,he=N.view.applyChanges(X,P.isPrimaryClient,te,re);return Bb(P,N.targetId,he.wa),he.snapshot}(r,b,w,D);const o=await Mb(r.localStore,e,!0),c=new HN(e,o.Ts),f=c.ma(o.documents),p=ic.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",s),m=c.applyChanges(f,r.isPrimaryClient,p);Bb(r,t,m.wa);const y=new qN(e,t,c);return r.Fa.set(e,y),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),m.snapshot}async function XN(r,e,t){const n=Oe(r),s=n.Fa.get(e),o=n.Ma.get(s.targetId);if(o.length>1)return n.Ma.set(s.targetId,o.filter(c=>!zf(c,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await tg(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),t&&jg(n.remoteStore,s.targetId),rg(n,s.targetId)}).catch(tc)):(rg(n,s.targetId),await tg(n.localStore,s.targetId,!0))}async function ZN(r,e){const t=Oe(r),n=t.Fa.get(e),s=t.Ma.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),jg(t.remoteStore,n.targetId))}async function JN(r,e,t){const n=sk(r);try{const s=await function(c,f){const p=Oe(c),m=Rt.now(),y=f.reduce((D,S)=>D.add(S.key),Fe());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let S=Ya(),P=Fe();return p.cs.getEntries(D,y).next(N=>{S=N,S.forEach((C,G)=>{G.isValidDocument()||(P=P.add(C))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,S)).next(N=>{b=N;const C=[];for(const G of f){const X=bC(G,b.get(G.key).overlayedDocument);X!=null&&C.push(new Li(G.key,X,VE(X.value.mapValue),Sn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,m,C,f)}).next(N=>{w=N;const C=N.applyToLocalDocumentSet(b,P);return p.documentOverlayCache.saveOverlays(D,N.batchId,C)})}).then(()=>({batchId:w.batchId,changes:KE(b)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(c,f,p){let m=c.Ba[c.currentUser.toKey()];m||(m=new Ct(nt)),m=m.insert(f,p),c.Ba[c.currentUser.toKey()]=m}(n,s.batchId,t),await oc(n,s.changes),await $f(n.remoteStore)}catch(s){const o=Yg(s,"Failed to persist write");t.reject(o)}}async function RT(r,e){const t=Oe(r);try{const n=await dN(t.localStore,e);e.targetChanges.forEach((s,o)=>{const c=t.Na.get(o);c&&(Je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.va=!0:s.modifiedDocuments.size>0?Je(c.va):s.removedDocuments.size>0&&(Je(c.va),c.va=!1))}),await oc(t,n,e)}catch(n){await tc(n)}}function Ub(r,e,t){const n=Oe(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.Fa.forEach((o,c)=>{const f=c.view.Z_(e);f.snapshot&&s.push(f.snapshot)}),function(c,f){const p=Oe(c);p.onlineState=f;let m=!1;p.queries.forEach((y,b)=>{for(const w of b.j_)w.Z_(f)&&(m=!0)}),m&&Hg(p)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function ek(r,e,t){const n=Oe(r);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Na.get(e),o=s&&s.key;if(o){let c=new Ct(De.comparator);c=c.insert(o,un.newNoDocument(o,Me.min()));const f=Fe().add(o),p=new Gf(Me.min(),new Map,new Ct(nt),c,f);await RT(n,p),n.Oa=n.Oa.remove(o),n.Na.delete(e),qg(n)}else await tg(n.localStore,e,!1).then(()=>rg(n,e,t)).catch(tc)}async function tk(r,e){const t=Oe(r),n=e.batch.batchId;try{const s=await cN(t.localStore,e);NT(t,n,null),CT(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await oc(t,s)}catch(s){await tc(s)}}async function nk(r,e,t){const n=Oe(r);try{const s=await function(c,f){const p=Oe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,f).next(b=>(Je(b!==null),y=b.keys(),p.mutationQueue.removeMutationBatch(m,b))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(n.localStore,e);NT(n,e,t),CT(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await oc(n,s)}catch(s){await tc(s)}}function CT(r,e){(r.ka.get(e)||[]).forEach(t=>{t.resolve()}),r.ka.delete(e)}function NT(r,e,t){const n=Oe(r);let s=n.Ba[n.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function rg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(n=>{r.La.containsKey(n)||kT(r,n)})}function kT(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(jg(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),qg(r))}function Bb(r,e,t){for(const n of t)n instanceof DT?(r.La.addReference(n.key,e),rk(r,n)):n instanceof ST?(we("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||kT(r,n.key)):Ne()}function rk(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(we("SyncEngine","New document in limbo: "+t),r.xa.add(n),qg(r))}function qg(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new De(bt.fromString(e)),n=r.qa.next();r.Na.set(n,new QN(t)),r.Oa=r.Oa.insert(t,n),_T(r.remoteStore,new Ti(ea(YE(t.path)),n,"TargetPurposeLimboResolution",xg.oe))}}async function oc(r,e,t){const n=Oe(r),s=[],o=[],c=[];n.Fa.isEmpty()||(n.Fa.forEach((f,p)=>{c.push(n.Ka(p,e,t).then(m=>{var y;if((m||t)&&n.isPrimaryClient){const b=m?!m.fromCache:(y=t?.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;n.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(m){s.push(m);const b=Vg.Wi(p.targetId,m);o.push(b)}}))}),await Promise.all(c),n.Ca.d_(s),await async function(p,m){const y=Oe(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>fe.forEach(m,w=>fe.forEach(w.$i,D=>y.persistence.referenceDelegate.addReference(b,w.targetId,D)).next(()=>fe.forEach(w.Ui,D=>y.persistence.referenceDelegate.removeReference(b,w.targetId,D)))))}catch(b){if(!nc(b))throw b;we("LocalStore","Failed to update sequence numbers: "+b)}for(const b of m){const w=b.targetId;if(!b.fromCache){const D=y.os.get(w),S=D.snapshotVersion,P=D.withLastLimboFreeSnapshotVersion(S);y.os=y.os.insert(w,P)}}}(n.localStore,o))}async function ak(r,e){const t=Oe(r);if(!t.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const n=await gT(t.localStore,e);t.currentUser=e,function(o,c){o.ka.forEach(f=>{f.forEach(p=>{p.reject(new ye(oe.CANCELLED,c))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await oc(t,n.hs)}}function ik(r,e){const t=Oe(r),n=t.Na.get(e);if(n&&n.va)return Fe().add(n.key);{let s=Fe();const o=t.Ma.get(e);if(!o)return s;for(const c of o){const f=t.Fa.get(c);s=s.unionWith(f.view.Va)}return s}}function MT(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ik.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ek.bind(null,e),e.Ca.d_=FN.bind(null,e.eventManager),e.Ca.$a=zN.bind(null,e.eventManager),e}function sk(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nk.bind(null,e),e}class Tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return uN(this.persistence,new oN,e.initialUser,this.serializer)}Ga(e){return new aN(Pg.Zr,this.serializer)}Wa(e){return new gN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tf.provider={build:()=>new Tf};class ag{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Ub(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=ak.bind(null,this.syncEngine),await VN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jN}()}createDatastore(e){const t=Kf(e.databaseInfo.databaseId),n=function(o){return new bN(o)}(e.databaseInfo);return function(o,c,f,p){return new TN(o,c,f,p)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,s,o,c,f){return new DN(n,s,o,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Ub(this.syncEngine,t,0),function(){return Ib.D()?new Ib:new yN}())}createSyncEngine(e,t){return function(s,o,c,f,p,m,y){const b=new GN(s,o,c,f,p,m);return y&&(b.Qa=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=Oe(s);we("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await sc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ag.provider={build:()=>new ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):za("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ye(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(s,o){const c=Oe(s),f={documents:o.map(b=>wf(c.serializer,b))},p=await c.Lo("BatchGetDocuments",c.serializer.databaseId,bt.emptyPath(),f,o.length),m=new Map;p.forEach(b=>{const w=OC(c.serializer,b);m.set(w.key.toString(),w)});const y=[];return o.forEach(b=>{const w=m.get(b.toString());Je(!!w),y.push(w)}),y}(this.datastore,e);return t.forEach(n=>this.recordVersion(n)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,n)=>{const s=De.fromPath(n);this.mutations.push(new rT(s,this.precondition(s)))}),await async function(n,s){const o=Oe(n),c={writes:s.map(f=>fT(o.serializer,f))};await o.Mo("Commit",o.serializer.databaseId,bt.emptyPath(),c)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ne();t=Me.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ye(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Me.min())?Sn.exists(!1):Sn.updateTime(t):Sn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Me.min()))throw new ye(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sn.updateTime(t)}return Sn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t,n,s,o){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=s,this.deferred=o,this._u=n.maxAttempts,this.t_=new Lg(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new lk(this.datastore),t=this.cu(e);t&&t.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(s=>{this.lu(s)}))}).catch(n=>{this.lu(n)})})}cu(e){try{const t=this.updateFunction(e);return!rc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!aT(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t,n,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=Dn.UNAUTHENTICATED,this.clientId=OE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async c=>{we("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(n,c=>(we("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Yg(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Dm(r,e){r.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async s=>{n.isEqual(s)||(await gT(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Fb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await dk(r);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>Pb(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,s)=>Pb(e.remoteStore,s)),r._onlineComponents=e}async function dk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;qo("Error using user provided cache. Falling back to memory cache: "+t),await Dm(r,new Tf)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await Dm(r,new Tf);return r._offlineComponents}async function Qg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await Fb(r,r._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await Fb(r,new ag))),r._onlineComponents}function fk(r){return Qg(r).then(e=>e.syncEngine)}function hk(r){return Qg(r).then(e=>e.datastore)}async function pk(r){const e=await Qg(r),t=e.eventManager;return t.onListen=KN.bind(null,e.syncEngine),t.onUnlisten=XN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ZN.bind(null,e.syncEngine),t}function mk(r,e,t={}){const n=new Oa;return r.asyncQueue.enqueueAndForget(async()=>function(o,c,f,p,m){const y=new ok({next:w=>{y.Za(),c.enqueueAndForget(()=>BN(o,b)),w.fromCache&&p.source==="server"?m.reject(new ye(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),b=new YN(f,y,{includeMetadataChanges:!0,_a:!0});return UN(o,b)}(await pk(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(r,e,t){if(!t)throw new ye(oe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function gk(r,e,t,n){if(e===!0&&n===!0)throw new ye(oe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Yb(r){if(!De.isDocumentKey(r))throw new ye(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Hb(r){if(De.isDocumentKey(r))throw new ye(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Xf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ne()}function Ii(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xf(r);throw new ye(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function yk(r,e){if(e<=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OT((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zf{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new CR;switch(n.type){case"firstParty":return new OR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ye(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=zb.get(t);n&&(we("ComponentProvider","Removing Datastore"),zb.delete(t),n.terminate())}(this),Promise.resolve()}}function vk(r,e,t,n={}){var s;const o=(r=Ii(r,Zf))._getSettings(),c=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),n.mockUserToken){let f,p;if(typeof n.mockUserToken=="string")f=n.mockUserToken,p=Dn.MOCK_USER;else{f=mE(n.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new ye(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Dn(m)}r._authCredentials=new NR(new ME(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class Yn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class Ri extends ji{constructor(e,t,n){super(e,t,YE(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new De(e))}withConverter(e){return new Ri(this.firestore,e,this._path)}}function vr(r,e,...t){if(r=Rn(r),IT("collection","path",e),r instanceof Zf){const n=bt.fromString(e,...t);return Hb(n),new Ri(r,null,n)}{if(!(r instanceof Yn||r instanceof Ri))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(bt.fromString(e,...t));return Hb(n),new Ri(r.firestore,null,n)}}function ws(r,e,...t){if(r=Rn(r),arguments.length===1&&(e=OE.newId()),IT("doc","path",e),r instanceof Zf){const n=bt.fromString(e,...t);return Yb(n),new Yn(r,null,new De(n))}{if(!(r instanceof Yn||r instanceof Ri))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(bt.fromString(e,...t));return Yb(n),new Yn(r.firestore,r instanceof Ri?r.converter:null,new De(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Lg(this,"async_queue_retry"),this.Vu=()=>{const n=xm();n&&we("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=xm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=xm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Oa;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!nc(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(n);throw za("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const s=zg.createAndSchedule(this,e,t,n,o=>this.yu(o));return this.Tu.push(s),s}fu(){this.Eu&&Ne()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class cl extends Zf{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new Qb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qb(e),this._firestoreClient=void 0,await e}}}function PT(r,e){const t=typeof r=="object"?r:TE(),n=typeof r=="string"?r:"(default)",s=bE(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const o=hE("firestore");o&&vk(s,...o)}return s}function Gg(r){if(r._terminated)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_k(r),r._firestoreClient}function _k(r){var e,t,n;const s=r._freezeSettings(),o=function(f,p,m,y){return new QR(f,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,OT(y.experimentalLongPollingOptions),y.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,s);r._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),r._firestoreClient=new ck(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(f){const p=f?._online.build();return{_offline:f?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Is(wn.fromBase64String(e))}catch(t){throw new ye(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Is(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=/^__.*__$/;class wk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Li(e,this.data,this.fieldMask,t,this.fieldTransforms):new ac(e,this.data,t,this.fieldTransforms)}}class VT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Li(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class Xg{constructor(e,t,n,s,o,c){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return xf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(LT(this.Cu)&&bk.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ek{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Kf(e)}Qu(e,t,n,s=!1){return new Xg({Cu:e,methodName:t,qu:n,path:vn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jf(r){const e=r._freezeSettings(),t=Kf(r._databaseId);return new Ek(r._databaseId,!!e.ignoreUndefinedProperties,t)}function jT(r,e,t,n,s,o={}){const c=r.Qu(o.merge||o.mergeFields?2:0,e,t,s);Zg("Data must be an object, but it was:",c,n);const f=FT(n,c);let p,m;if(o.merge)p=new Zn(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const w=ig(e,b,t);if(!c.contains(w))throw new ye(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);YT(y,w)||y.push(w)}p=new Zn(y),m=c.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,m=c.fieldTransforms;return new wk(new Vn(f),p,m)}class eh extends Kg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}function UT(r,e,t,n){const s=r.Qu(1,e,t);Zg("Data must be an object, but it was:",s,n);const o=[],c=Vn.empty();Fs(n,(p,m)=>{const y=Jg(e,p,t);m=Rn(m);const b=s.Nu(y);if(m instanceof eh)o.push(y);else{const w=uc(m,b);w!=null&&(o.push(y),c.set(y,w))}});const f=new Zn(o);return new VT(c,f,s.fieldTransforms)}function BT(r,e,t,n,s,o){const c=r.Qu(1,e,t),f=[ig(e,n,t)],p=[s];if(o.length%2!=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)f.push(ig(e,o[w])),p.push(o[w+1]);const m=[],y=Vn.empty();for(let w=f.length-1;w>=0;--w)if(!YT(m,f[w])){const D=f[w];let S=p[w];S=Rn(S);const P=c.Nu(D);if(S instanceof eh)m.push(D);else{const N=uc(S,P);N!=null&&(m.push(D),y.set(D,N))}}const b=new Zn(m);return new VT(y,b,c.fieldTransforms)}function Tk(r,e,t,n=!1){return uc(t,r.Qu(n?4:3,e))}function uc(r,e){if(zT(r=Rn(r)))return Zg("Unsupported field value:",e,r),FT(r,e);if(r instanceof Kg)return function(n,s){if(!LT(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const o=[];let c=0;for(const f of n){let p=uc(f,s.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),c++}return{arrayValue:{values:o}}}(r,e)}return function(n,s){if((n=Rn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return pC(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Rt.fromDate(n);return{timestampValue:bf(s.serializer,o)}}if(n instanceof Rt){const o=new Rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:bf(s.serializer,o)}}if(n instanceof Wg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Is)return{bytesValue:lT(s.serializer,n._byteString)};if(n instanceof Yn){const o=s.databaseId,c=n.firestore._databaseId;if(!c.isEqual(o))throw s.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Og(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof $g)return function(c,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.Bu("VectorValues must only contain numeric values.");return Ng(f.serializer,p)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${Xf(n)}`)}(r,e)}function FT(r,e){const t={};return IE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fs(r,(n,s)=>{const o=uc(s,e.Mu(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function zT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Wg||r instanceof Is||r instanceof Yn||r instanceof Kg||r instanceof $g)}function Zg(r,e,t){if(!zT(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const n=Xf(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function ig(r,e,t){if((e=Rn(e))instanceof lc)return e._internalPath;if(typeof e=="string")return Jg(r,e);throw xf("Field path arguments must be of type string or ",r,!1,void 0,t)}const xk=new RegExp("[~\\*/\\[\\]]");function Jg(r,e,t){if(e.search(xk)>=0)throw xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new lc(...e.split("."))._internalPath}catch{throw xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function xf(r,e,t,n,s){const o=n&&!n.isEmpty(),c=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${n}`),c&&(p+=` in document ${s}`),p+=")"),new ye(oe.INVALID_ARGUMENT,f+r+p)}function YT(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t,n,s,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Dk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(th("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Dk extends Df{data(){return super.data()}}function th(r,e){return typeof e=="string"?Jg(r,e):e instanceof lc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ey{}class ty extends ey{}function Ss(r,e,...t){let n=[];e instanceof ey&&n.push(e),n=n.concat(t),function(o){const c=o.filter(p=>p instanceof ny).length,f=o.filter(p=>p instanceof nh).length;if(c>1||c>0&&f>0)throw new ye(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)r=s._apply(r);return r}class nh extends ty{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new nh(e,t,n)}_apply(e){const t=this._parse(e);return HT(e._query,t),new ji(e.firestore,e.converter,Xm(e._query,t))}_parse(e){const t=Jf(e.firestore);return function(o,c,f,p,m,y,b){let w;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){$b(b,y);const D=[];for(const S of b)D.push(Wb(p,o,S));w={arrayValue:{values:D}}}else w=Wb(p,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||$b(b,y),w=Tk(f,c,b,y==="in"||y==="not-in");return Kt.create(m,y,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function rf(r,e,t){const n=e,s=th("where",r);return nh._create(s,n,t)}class ny extends ey{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ny(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let c=s;const f=o.getFlattenedFilters();for(const p of f)HT(c,p),c=Xm(c,p)}(e._query,t),new ji(e.firestore,e.converter,Xm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ry extends ty{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ry(e,t)}_apply(e){const t=function(s,o,c){if(s.startAt!==null)throw new ye(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ye(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gu(o,c)}(e._query,this._field,this._direction);return new ji(e.firestore,e.converter,function(s,o){const c=s.explicitOrderBy.concat([o]);return new ol(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Gb(r,e="asc"){const t=e,n=th("orderBy",r);return ry._create(n,t)}class ay extends ty{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new ay(e,t,n)}_apply(e){return new ji(e.firestore,e.converter,yf(e._query,this._limit,this._limitType))}}function Kb(r){return yk("limit",r),ay._create("limit",r,"F")}function Wb(r,e,t){if(typeof(t=Rn(t))=="string"){if(t==="")throw new ye(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HE(e)&&t.indexOf("/")!==-1)throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(bt.fromString(t));if(!De.isDocumentKey(n))throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return mb(r,new De(n))}if(t instanceof Yn)return mb(r,t._key);throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xf(t)}.`)}function $b(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HT(r,e){const t=function(s,o){for(const c of s)for(const f of c.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qT{convertValue(e,t="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Fs(e,(s,o)=>{n[s]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,s;const o=(s=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(c=>Ut(c.doubleValue));return new $g(o)}convertGeoPoint(e){return new Wg(Ut(e.latitude),Ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Sg(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Hu(e));default:return null}}convertTimestamp(e){const t=Mi(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=bt.fromString(e);Je(mT(n));const s=new qu(n.get(1),n.get(3)),o=new De(n.popFirst(5));return s.isEqual(t)||za(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class Ak extends qT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Is(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GT extends Df{constructor(e,t,n,s,o,c){super(e,t,n,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(th("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class af extends GT{data(e={}){return super.data(e)}}class Rk{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ku(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new af(this._firestore,this._userDataWriter,n.key,n,new ku(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>{const p=new af(s._firestore,s._userDataWriter,f.doc.key,f.doc,new ku(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const p=new af(s._firestore,s._userDataWriter,f.doc.key,f.doc,new ku(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:Ck(f.type),doc:p,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ck(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}class KT extends qT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Is(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function Ia(r){r=Ii(r,ji);const e=Ii(r.firestore,cl),t=Gg(e),n=new KT(e);return Sk(r._query),mk(t,r._query).then(s=>new Rk(e,n,r,s))}function Xb(r,e,t,...n){r=Ii(r,Yn);const s=Ii(r.firestore,cl),o=Jf(s);let c;return c=typeof(e=Rn(e))=="string"||e instanceof lc?BT(o,"updateDoc",r._key,e,t,n):UT(o,"updateDoc",r._key,e),iy(s,[c.toMutation(r._key,Sn.exists(!0))])}function Sm(r){return iy(Ii(r.firestore,cl),[new Qf(r._key,Sn.none())])}function sg(r,e){const t=Ii(r.firestore,cl),n=ws(r),s=QT(r.converter,e);return iy(t,[jT(Jf(r.firestore),"addDoc",n._key,s,r.converter!==null,{}).toMutation(n._key,Sn.exists(!1))]).then(()=>n)}function iy(r,e){return function(n,s){const o=new Oa;return n.asyncQueue.enqueueAndForget(async()=>JN(await fk(n),s,o)),o.promise}(Gg(r),e)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk={maxAttempts:5};function Eu(r,e){if((r=Rn(r)).firestore!==e)throw new ye(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk extends class{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Jf(t)}get(t){const n=Eu(t,this._firestore),s=new Ak(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||o.length!==1)return Ne();const c=o[0];if(c.isFoundDocument())return new Df(this._firestore,s,c.key,c,n.converter);if(c.isNoDocument())return new Df(this._firestore,s,n._key,null,n.converter);throw Ne()})}set(t,n,s){const o=Eu(t,this._firestore),c=QT(o.converter,n,s),f=jT(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const c=Eu(t,this._firestore);let f;return f=typeof(n=Rn(n))=="string"||n instanceof lc?BT(this._dataReader,"Transaction.update",c._key,n,s,o):UT(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,f),this}delete(t){const n=Eu(t,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Eu(e,this._firestore),n=new KT(this._firestore);return super.get(e).then(s=>new GT(this._firestore,n,t._key,s._document,new ku(!1,!1),t.converter))}}function Mk(r,e,t){r=Ii(r,cl);const n=Object.assign(Object.assign({},Nk),t);return function(o){if(o.maxAttempts<1)throw new ye(oe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(o,c,f){const p=new Oa;return o.asyncQueue.enqueueAndForget(async()=>{const m=await hk(o);new uk(o.asyncQueue,m,f,c,p).au()}),p.promise}(Gg(r),s=>e(new kk(r,s)),n)}(function(e,t=!0){(function(s){sl=s})(wE),Fu(new Ho("firestore",(n,{instanceIdentifier:s,options:o})=>{const c=n.getProvider("app").getImmediate(),f=new cl(new kR(n.getProvider("auth-internal")),new PR(n.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(m.options.projectId,y)}(c,s),c);return o=Object.assign({useFetchStreams:t},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),Ai(cb,"4.7.3",e),Ai(cb,"4.7.3","esm2017")})();function Ok(){const[r,e]=L.useState("beforeAfter"),[t,n]=L.useState(null),[s,o]=L.useState("single"),[c,f]=L.useState([]),[p,m]=L.useState(!0),y=(C,G="single")=>{n(C),o(G)},b=()=>{n(null),o("single")},w=C=>{C.key==="Escape"&&b()},D=C=>{e(C)};L.useEffect(()=>{S()},[]);const S=async()=>{try{const C=PT(),G=await Ia(vr(C,"gallery")),X=[];G.forEach(te=>{X.push({id:te.id,...te.data()})}),f(X)}catch(C){console.error("Error loading gallery items:",C)}finally{m(!1)}},P=c.reduce((C,G)=>(C[G.category]||(C[G.category]=[]),C[G.category].push(G),C),{}),N=[{id:"beforeAfter",name:"Before & After"},{id:"interiors",name:"Interiors"},{id:"exteriors",name:"Exteriors"},{id:"videos",name:"Videos"}];return p?_.jsx("section",{className:"py-5 bg-dark text-light w-100",children:_.jsx("div",{className:"container-fluid px-4",children:_.jsx("div",{className:"text-center",children:_.jsx("div",{className:"spinner-border text-primary",role:"status",children:_.jsx("span",{className:"visually-hidden",children:"Loading gallery..."})})})})}):_.jsxs("section",{className:"py-5 bg-dark text-light w-100",children:[_.jsxs("div",{className:"container-fluid px-4",children:[_.jsx("h2",{className:"display-6 fw-bold text-primary text-center mb-5",children:"Gallery"}),_.jsx("div",{className:"row justify-content-center mb-4",children:_.jsx("div",{className:"col-12 col-lg-8",children:_.jsx("div",{className:"d-flex justify-content-center flex-wrap gap-2",children:N.map(C=>_.jsx("button",{type:"button",className:`btn ${r===C.id?"btn-primary":"btn-outline-primary"}`,onClick:()=>D(C.id),style:{minWidth:"120px",margin:"2px",position:"relative",zIndex:10},children:C.name},C.id))})})}),_.jsx("div",{className:"row g-4",children:P[r]?.map(C=>_.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:C.type==="video"?_.jsxs("div",{className:"card border-0 shadow-lg bg-secondary-subtle overflow-hidden h-100",children:[_.jsxs("div",{className:"position-relative",children:[_.jsx("div",{className:"ratio ratio-16x9",children:_.jsx("img",{src:C.poster?"/JakesCarCare/"+C.poster.replace(/^\//,""):C.src.startsWith("http")?C.src:"/JakesCarCare/"+C.src.replace(/^\//,""),className:"w-100 h-100",alt:C.label,style:{objectFit:"cover",cursor:"pointer"},onClick:()=>y(C,"video")})}),_.jsx("div",{className:"position-absolute top-50 start-50 translate-middle text-center",children:_.jsx("div",{className:"bg-dark bg-opacity-75 text-white rounded-circle d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px",cursor:"pointer"},onClick:()=>y(C,"video"),children:_.jsx("span",{className:"fs-4",children:""})})}),C.duration&&_.jsx("div",{className:"position-absolute bottom-0 end-0 m-2",children:_.jsx("span",{className:"badge bg-dark bg-opacity-75",children:C.duration})})]}),_.jsxs("div",{className:"card-body",children:[_.jsx("h5",{className:"card-title text-primary",children:C.label}),_.jsx("p",{className:"card-text text-muted",children:C.description})]})]}):_.jsxs("div",{className:"card border-0 shadow-lg bg-secondary-subtle overflow-hidden h-100",children:[_.jsxs("div",{className:"position-relative",children:[_.jsx("div",{className:"ratio ratio-4x3",children:_.jsx("img",{src:C.thumb?"/JakesCarCare/"+C.thumb.replace(/^\//,""):C.src.startsWith("http")?C.src:"/JakesCarCare/"+C.src.replace(/^\//,""),loading:"lazy",className:"w-100 h-100",alt:C.label,style:{objectFit:"cover",cursor:"pointer"},onClick:()=>y(C,"single")})}),_.jsx("div",{className:"position-absolute top-50 start-50 translate-middle text-center",children:_.jsx("div",{className:"bg-dark bg-opacity-75 text-white py-1 px-3 rounded",children:_.jsx("small",{children:"Click to expand"})})})]}),_.jsxs("div",{className:"card-body",children:[_.jsx("h5",{className:"card-title text-primary",children:C.label}),_.jsx("p",{className:"card-text text-muted",children:C.description})]})]})},C.id))}),(!P[r]||P[r].length===0)&&_.jsxs("div",{className:"text-center py-5",children:[_.jsx("p",{className:"text-muted",children:"No items in this category yet."}),_.jsx("p",{className:"text-muted small",children:"Add some images or videos through the admin panel!"})]})]}),t&&_.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-90 d-flex align-items-center justify-content-center",style:{zIndex:1e3},onClick:b,onKeyDown:w,tabIndex:0,children:_.jsxs("div",{className:"position-relative",onClick:C=>C.stopPropagation(),children:[_.jsx("button",{className:"btn-close btn-close-white position-absolute top-0 end-0 m-3",onClick:b,style:{zIndex:1001}}),_.jsxs("div",{className:"text-center",children:[s==="video"?_.jsxs("div",{children:[_.jsxs("video",{controls:!0,autoPlay:!0,style:{maxHeight:"80vh",maxWidth:"90vw"},poster:t.poster,children:[_.jsx("source",{src:t.src,type:"video/mp4"}),"Your browser does not support the video tag."]}),_.jsxs("div",{className:"mt-3 text-white",children:[_.jsx("h4",{className:"text-primary",children:t.label}),_.jsx("p",{className:"text-muted",children:t.description}),t.duration&&_.jsx("span",{className:"badge bg-primary",children:t.duration})]})]}):_.jsx("img",{src:t.src,loading:"lazy",className:"img-fluid",alt:t.label,style:{maxHeight:"80vh",objectFit:"contain"}}),s!=="video"&&_.jsxs("div",{className:"mt-3 text-white",children:[_.jsx("h4",{className:"text-primary",children:t.label}),_.jsx("p",{className:"text-muted",children:t.description})]})]})]})})]})}var Ik="firebase",Pk="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(Ik,Pk,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebasestorage.googleapis.com",$T="storageBucket",Vk=2*60*1e3,Lk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends Bs{constructor(e,t,n=0){super(Am(e),`Firebase Storage: ${t} (${Am(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Am(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mt||(Mt={}));function Am(r){return"storage/"+r}function sy(){const r="An unknown error occurred, please check the error payload for server response.";return new It(Mt.UNKNOWN,r)}function jk(r){return new It(Mt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function Uk(r){return new It(Mt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Bk(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(Mt.UNAUTHENTICATED,r)}function Fk(){return new It(Mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zk(r){return new It(Mt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Yk(){return new It(Mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Hk(){return new It(Mt.CANCELED,"User canceled the upload/download.")}function qk(r){return new It(Mt.INVALID_URL,"Invalid URL '"+r+"'.")}function Qk(r){return new It(Mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Gk(){return new It(Mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$T+"' property when initializing the app?")}function Kk(){return new It(Mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wk(){return new It(Mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $k(r){return new It(Mt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function og(r){return new It(Mt.INVALID_ARGUMENT,r)}function XT(){return new It(Mt.APP_DELETED,"The Firebase app was deleted.")}function Xk(r){return new It(Mt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uu(r,e){return new It(Mt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Tu(r){throw new It(Mt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Jn.makeFromUrl(e,t)}catch{return new Jn(e,"")}if(n.path==="")return n;throw Qk(e)}static makeFromUrl(e,t){let n=null;const s="([A-Za-z0-9.\\-_]+)";function o(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+s+c,"i"),p={bucket:1,path:3};function m(te){te.path_=decodeURIComponent(te.path)}const y="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",D=new RegExp(`^https?://${b}/${y}/b/${s}/o${w}`,"i"),S={bucket:1,path:3},P=t===WT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",C=new RegExp(`^https?://${P}/${s}/${N}`,"i"),X=[{regex:f,indices:p,postModify:o},{regex:D,indices:S,postModify:m},{regex:C,indices:{bucket:1,path:2},postModify:m}];for(let te=0;te<X.length;te++){const re=X[te],he=re.regex.exec(e);if(he){const I=he[re.indices.bucket];let R=he[re.indices.path];R||(R=""),n=new Jn(I,R),re.postModify(n);break}}if(n==null)throw qk(e);return n}}class Zk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(r,e,t){let n=1,s=null,o=null,c=!1,f=0;function p(){return f===2}let m=!1;function y(...N){m||(m=!0,e.apply(null,N))}function b(N){s=setTimeout(()=>{s=null,r(D,p())},N)}function w(){o&&clearTimeout(o)}function D(N,...C){if(m){w();return}if(N){w(),y.call(null,N,...C);return}if(p()||c){w(),y.call(null,N,...C);return}n<64&&(n*=2);let X;f===1?(f=2,X=0):X=(n+Math.random())*1e3,b(X)}let S=!1;function P(N){S||(S=!0,w(),!m&&(s!==null?(N||(f=2),clearTimeout(s),b(0)):N||(f=1)))}return b(0),o=setTimeout(()=>{c=!0,P(!0)},t),P}function eM(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(r){return r!==void 0}function nM(r){return typeof r=="object"&&!Array.isArray(r)}function oy(r){return typeof r=="string"||r instanceof String}function Zb(r){return ly()&&r instanceof Blob}function ly(){return typeof Blob<"u"}function Jb(r,e,t,n){if(n<e)throw og(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw og(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function ZT(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const s=e(n)+"="+e(r[n]);t=t+s+"&"}return t=t.slice(0,-1),t}var As;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(As||(As={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(r,e){const t=r>=500&&r<600,s=[408,429].indexOf(r)!==-1,o=e.indexOf(r)!==-1;return t||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t,n,s,o,c,f,p,m,y,b,w=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=b,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,S)=>{this.resolve_=D,this.reject_=S,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new Fd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const f=o.getErrorCode()===As.NO_ERROR,p=o.getStatus();if(!f||rM(p,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===As.ABORT;n(!1,new Fd(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;n(!0,new Fd(m,o))})},t=(n,s)=>{const o=this.resolve_,c=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());tM(p)?o(p):o()}catch(p){c(p)}else if(f!==null){const p=sy();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(s.canceled){const p=this.appDelete_?XT():Hk();c(p)}else{const p=Yk();c(p)}};this.canceled_?t(!1,new Fd(!1,null,!0)):this.backoffId_=Jk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fd{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function iM(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function sM(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oM(r,e){e&&(r["X-Firebase-GMPID"]=e)}function lM(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function uM(r,e,t,n,s,o,c=!0){const f=ZT(r.urlParams),p=r.url+f,m=Object.assign({},r.headers);return oM(m,e),iM(m,t),sM(m,o),lM(m,n),new aM(p,r.method,m,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,s,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dM(...r){const e=cM();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(ly())return new Blob(r);throw new It(Mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fM(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(r){if(typeof atob>"u")throw $k("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rm{constructor(e,t){this.data=e,this.contentType=t||null}}function pM(r,e){switch(r){case Zr.RAW:return new Rm(JT(e));case Zr.BASE64:case Zr.BASE64URL:return new Rm(ex(r,e));case Zr.DATA_URL:return new Rm(gM(e),yM(e))}throw sy()}function JT(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=n,c=r.charCodeAt(++t);n=65536|(o&1023)<<10|c&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function mM(r){let e;try{e=decodeURIComponent(r)}catch{throw Uu(Zr.DATA_URL,"Malformed data URL.")}return JT(e)}function ex(r,e){switch(r){case Zr.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Uu(r,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Zr.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Uu(r,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=hM(e)}catch(s){throw s.message.includes("polyfill")?s:Uu(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}class tx{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Uu(Zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=vM(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function gM(r){const e=new tx(r);return e.base64?ex(Zr.BASE64,e.rest):mM(e.rest)}function yM(r){return new tx(r).contentType}function vM(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,t){let n=0,s="";Zb(e)?(this.data_=e,n=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Zb(this.data_)){const n=this.data_,s=fM(n,e,t);return s===null?null:new Ei(s)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Ei(n,!0)}}static getBlob(...e){if(ly()){const t=e.map(n=>n instanceof Ei?n.data_:n);return new Ei(dM.apply(null,t))}else{const t=e.map(c=>oy(c)?pM(Zr.RAW,c).data:c.data_);let n=0;t.forEach(c=>{n+=c.byteLength});const s=new Uint8Array(n);let o=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)s[o++]=c[f]}),new Ei(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(r){let e;try{e=JSON.parse(r)}catch{return null}return nM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function bM(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function rx(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(r,e){return e}class In{constructor(e,t,n,s){this.server=e,this.local=t||e,this.writable=!!n,this.xform=s||wM}}let zd=null;function EM(r){return!oy(r)||r.length<2?r:rx(r)}function ax(){if(zd)return zd;const r=[];r.push(new In("bucket")),r.push(new In("generation")),r.push(new In("metageneration")),r.push(new In("name","fullPath",!0));function e(o,c){return EM(c)}const t=new In("name");t.xform=e,r.push(t);function n(o,c){return c!==void 0?Number(c):c}const s=new In("size");return s.xform=n,r.push(s),r.push(new In("timeCreated")),r.push(new In("updated")),r.push(new In("md5Hash",null,!0)),r.push(new In("cacheControl",null,!0)),r.push(new In("contentDisposition",null,!0)),r.push(new In("contentEncoding",null,!0)),r.push(new In("contentLanguage",null,!0)),r.push(new In("contentType",null,!0)),r.push(new In("metadata","customMetadata",!0)),zd=r,zd}function TM(r,e){function t(){const n=r.bucket,s=r.fullPath,o=new Jn(n,s);return e._makeStorageReference(o)}Object.defineProperty(r,"ref",{get:t})}function xM(r,e,t){const n={};n.type="file";const s=t.length;for(let o=0;o<s;o++){const c=t[o];n[c.local]=c.xform(n,e[c.server])}return TM(n,r),n}function ix(r,e,t){const n=nx(e);return n===null?null:xM(r,n,t)}function DM(r,e,t,n){const s=nx(e);if(s===null||!oy(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(m=>{const y=r.bucket,b=r.fullPath,w="/b/"+c(y)+"/o/"+c(b),D=rh(w,t,n),S=ZT({alt:"media",token:m});return D+S})[0]}function SM(r,e){const t={},n=e.length;for(let s=0;s<n;s++){const o=e[s];o.writable&&(t[o.server]=r[o.local])}return JSON.stringify(t)}class uy{constructor(e,t,n,s){this.url=e,this.method=t,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(r){if(!r)throw sy()}function AM(r,e){function t(n,s){const o=ix(r,s,e);return sx(o!==null),o}return t}function RM(r,e){function t(n,s){const o=ix(r,s,e);return sx(o!==null),DM(o,s,r.host,r._protocol)}return t}function ox(r){function e(t,n){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=Fk():s=Bk():t.getStatus()===402?s=Uk(r.bucket):t.getStatus()===403?s=zk(r.path):s=n,s.status=t.getStatus(),s.serverResponse=n.serverResponse,s}return e}function lx(r){const e=ox(r);function t(n,s){let o=e(n,s);return n.getStatus()===404&&(o=jk(r.path)),o.serverResponse=s.serverResponse,o}return t}function CM(r,e,t){const n=e.fullServerUrl(),s=rh(n,r.host,r._protocol),o="GET",c=r.maxOperationRetryTime,f=new uy(s,o,RM(r,t),c);return f.errorHandler=lx(e),f}function NM(r,e){const t=e.fullServerUrl(),n=rh(t,r.host,r._protocol),s="DELETE",o=r.maxOperationRetryTime;function c(p,m){}const f=new uy(n,s,c,o);return f.successCodes=[200,204],f.errorHandler=lx(e),f}function kM(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function MM(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=kM(null,e)),n}function OM(r,e,t,n,s){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let X="";for(let te=0;te<2;te++)X=X+Math.random().toString().slice(2);return X}const p=f();c["Content-Type"]="multipart/related; boundary="+p;const m=MM(e,n,s),y=SM(m,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,w=`\r
--`+p+"--",D=Ei.getBlob(b,n,w);if(D===null)throw Kk();const S={name:m.fullPath},P=rh(o,r.host,r._protocol),N="POST",C=r.maxUploadRetryTime,G=new uy(P,N,AM(r,t),C);return G.urlParams=S,G.headers=c,G.body=D.uploadData(),G.errorHandler=ox(e),G}class IM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=As.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=As.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=As.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,s){if(this.sent_)throw Tu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class PM extends IM{initXhr(){this.xhr_.responseType="text"}}function cy(){return new PM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t){this._service=e,t instanceof Jn?this._location=t:this._location=Jn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ps(e,t)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rx(this._location.path)}get storage(){return this._service}get parent(){const e=_M(this._location.path);if(e===null)return null;const t=new Jn(this._location.bucket,e);return new Ps(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Xk(e)}}function VM(r,e,t){r._throwIfRoot("uploadBytes");const n=OM(r.storage,r._location,ax(),new Ei(e,!0),t);return r.storage.makeRequestWithTokens(n,cy).then(s=>({metadata:s,ref:r}))}function LM(r){r._throwIfRoot("getDownloadURL");const e=CM(r.storage,r._location,ax());return r.storage.makeRequestWithTokens(e,cy).then(t=>{if(t===null)throw Wk();return t})}function jM(r){r._throwIfRoot("deleteObject");const e=NM(r.storage,r._location);return r.storage.makeRequestWithTokens(e,cy)}function UM(r,e){const t=bM(r._location.path,e),n=new Jn(r._location.bucket,t);return new Ps(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(r){return/^[A-Za-z]+:\/\//.test(r)}function FM(r,e){return new Ps(r,e)}function ux(r,e){if(r instanceof dy){const t=r;if(t._bucket==null)throw Gk();const n=new Ps(t,t._bucket);return e!=null?ux(n,e):n}else return e!==void 0?UM(r,e):r}function zM(r,e){if(e&&BM(e)){if(r instanceof dy)return FM(r,e);throw og("To use ref(service, url), the first argument must be a Storage instance.")}else return ux(r,e)}function ew(r,e){const t=e?.[$T];return t==null?null:Jn.makeFromBucketSpec(t,r)}function YM(r,e,t,n={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:s}=n;s&&(r._overrideAuthToken=typeof s=="string"?s:mE(s,r.app.options.projectId))}class dy{constructor(e,t,n,s,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=WT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Vk,this._maxUploadRetryTime=Lk,this._requests=new Set,s!=null?this._bucket=Jn.makeFromBucketSpec(s,this._host):this._bucket=ew(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=ew(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ps(this,e)}_makeRequest(e,t,n,s,o=!0){if(this._deleted)return new Zk(XT());{const c=uM(e,this._appId,n,s,t,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,s).getPromise()}}const tw="@firebase/storage",nw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="storage";function HM(r,e,t){return r=Rn(r),VM(r,e,t)}function qM(r){return r=Rn(r),LM(r)}function QM(r){return r=Rn(r),jM(r)}function rw(r,e){return r=Rn(r),zM(r,e)}function GM(r=TE(),e){r=Rn(r);const n=bE(r,cx).getImmediate({identifier:e}),s=hE("storage");return s&&KM(n,...s),n}function KM(r,e,t,n={}){YM(r,e,t,n)}function WM(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),s=r.getProvider("app-check-internal");return new dy(t,n,s,e,wE)}function $M(){Fu(new Ho(cx,WM,"PUBLIC").setMultipleInstances(!0)),Ai(tw,nw,""),Ai(tw,nw,"esm2017")}$M();const XM={apiKey:"AIzaSyCY-TRVaKE_sHAymKNHshKy60strhJVqA0",authDomain:"valeting-1d9a7.firebaseapp.com",projectId:"valeting-1d9a7",storageBucket:"valeting-1d9a7.firebasestorage.app",messagingSenderId:"325979702496",appId:"1:325979702496:web:6035796b71fa948ebc7c85",measurementId:"G-7REC1ZQRNB"},dx=EE(XM),gn=PT(dx),aw=GM(dx);function fx({onLeaveReview:r}){const[e,t]=L.useState([]),[n,s]=L.useState(!0);L.useEffect(()=>{o()},[]);const o=async()=>{try{s(!0);const p=vr(gn,"reviews");try{const m=Ss(p,rf("approved","==",!0),Kb(10)),y=await Ia(m),b=[];y.forEach(w=>{b.push({id:w.id,...w.data()})}),console.log("Fetched approved reviews:",b),b.sort((w,D)=>{const S=w.date?.toDate?w.date.toDate():new Date(w.date);return(D.date?.toDate?D.date.toDate():new Date(D.date))-S}),t(b)}catch(m){console.log("Filtered query failed, trying to fetch all reviews:",m);const y=Ss(p,Kb(20)),b=await Ia(y),w=[];b.forEach(S=>{w.push({id:S.id,...S.data()})}),console.log("All reviews:",w);const D=w.filter(S=>S.approved===!0);console.log("Approved reviews after filtering:",D),D.sort((S,P)=>{const N=S.date?.toDate?S.date.toDate():new Date(S.date);return(P.date?.toDate?P.date.toDate():new Date(P.date))-N}),t(D)}}catch(p){console.error("Error fetching reviews:",p)}finally{s(!1)}},c=p=>_.jsx("div",{className:"d-flex justify-content-center mb-3",children:[1,2,3,4,5].map(m=>_.jsx("span",{className:`fs-5 ${p>=m?"text-warning":"text-muted"}`,children:""},m))}),f=p=>p?(p.toDate?p.toDate():new Date(p)).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"}):"";return n?_.jsx("section",{className:"py-5 bg-dark w-100",children:_.jsxs("div",{className:"container-fluid px-4",children:[_.jsx("h2",{className:"display-6 fw-bold text-primary text-center mb-4",children:"What Our Customers Say"}),_.jsx("div",{className:"text-center",children:_.jsx("div",{className:"spinner-border text-primary",role:"status",children:_.jsx("span",{className:"visually-hidden",children:"Loading..."})})})]})}):e.length===0?_.jsx("section",{className:"py-5 bg-dark w-100",children:_.jsxs("div",{className:"container-fluid px-4",children:[_.jsx("h2",{className:"display-6 fw-bold text-primary text-center mb-4",children:"What Our Customers Say"}),_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:"text-light mb-4",children:"Be the first to leave a review!"}),_.jsx("button",{className:"btn btn-primary",onClick:r,children:"Leave a Review"})]})]})}):_.jsx("section",{className:"py-5 bg-dark w-100",children:_.jsxs("div",{className:"container-fluid px-4",children:[_.jsx("h2",{className:"display-6 fw-bold text-primary text-center mb-4",children:"What Our Customers Say"}),_.jsxs("div",{id:"testimonialCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[_.jsx("div",{className:"carousel-inner",children:e.map((p,m)=>_.jsx("div",{className:`carousel-item ${m===0?"active":""}`,children:_.jsx("div",{className:"row justify-content-center",children:_.jsx("div",{className:"col-12 col-md-8 col-lg-6",children:_.jsxs("div",{className:"d-flex flex-column align-items-center text-center",children:[_.jsx("div",{className:"mb-3",style:{minHeight:"72px"},children:_.jsx("div",{className:"bg-primary rounded-circle d-flex align-items-center justify-content-center text-white fw-bold",style:{width:"64px",height:"64px",fontSize:"1.5rem"},children:p.customerName.charAt(0).toUpperCase()})}),c(p.rating),_.jsx("blockquote",{className:"blockquote w-100",children:_.jsxs("p",{className:"mb-3 text-light fs-5",style:{wordBreak:"break-word"},children:['"',p.review,'"']})}),_.jsxs("footer",{className:"blockquote-footer text-light w-100",style:{marginTop:"-0.5rem"},children:[_.jsx("strong",{children:p.customerName}),p.service&&_.jsxs("span",{className:"text-muted ms-2",children:[" ",p.service]}),p.date&&_.jsxs("span",{className:"text-muted ms-2",children:[" ",f(p.date)]})]})]})})})},p.id))}),e.length>1&&_.jsxs(_.Fragment,{children:[_.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#testimonialCarousel","data-bs-slide":"prev",children:[_.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),_.jsx("span",{className:"visually-hidden",children:"Previous"})]}),_.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#testimonialCarousel","data-bs-slide":"next",children:[_.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),_.jsx("span",{className:"visually-hidden",children:"Next"})]})]})]}),_.jsxs("div",{className:"text-center mt-5",children:[_.jsx("p",{className:"text-light mb-3",children:"Had a great experience? Share it with others!"}),_.jsx("button",{className:"btn btn-outline-primary",onClick:r,children:"Leave a Review"})]})]})})}function ZM(){return _.jsx("section",{className:"py-5 bg-dark w-100",children:_.jsxs("div",{className:"container-fluid px-4",children:[_.jsx("h2",{className:"display-6 fw-bold text-primary text-center mb-4",children:"Frequently Asked Questions"}),_.jsxs("div",{className:"accordion",id:"faqAccordion",children:[_.jsxs("div",{className:"accordion-item bg-secondary",children:[_.jsx("h2",{className:"accordion-header",id:"faq1",children:_.jsx("button",{className:"accordion-button bg-secondary text-light",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse1","aria-expanded":"true","aria-controls":"collapse1",children:"How long does a full valet take?"})}),_.jsx("div",{id:"collapse1",className:"accordion-collapse collapse show","aria-labelledby":"faq1","data-bs-parent":"#faqAccordion",children:_.jsx("div",{className:"accordion-body text-light",children:"A full valet typically takes 3-4 hours depending on the vehicle size and condition."})})]}),_.jsxs("div",{className:"accordion-item bg-secondary",children:[_.jsx("h2",{className:"accordion-header",id:"faq2",children:_.jsx("button",{className:"accordion-button collapsed bg-secondary text-light",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse2","aria-expanded":"false","aria-controls":"collapse2",children:"Do you offer mobile valeting?"})}),_.jsx("div",{id:"collapse2",className:"accordion-collapse collapse","aria-labelledby":"faq2","data-bs-parent":"#faqAccordion",children:_.jsx("div",{className:"accordion-body text-light",children:"Yes! We come to your home or workplace for your convenience."})})]}),_.jsxs("div",{className:"accordion-item bg-secondary",children:[_.jsx("h2",{className:"accordion-header",id:"faq3",children:_.jsx("button",{className:"accordion-button collapsed bg-secondary text-light",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse3","aria-expanded":"false","aria-controls":"collapse3",children:"What payment methods do you accept?"})}),_.jsx("div",{id:"collapse3",className:"accordion-collapse collapse","aria-labelledby":"faq3","data-bs-parent":"#faqAccordion",children:_.jsx("div",{className:"accordion-body text-light",children:"We accept cash, card, and contactless payments."})})]})]})]})})}const JM=[{title:"Full Valet",desc:"Complete transformation inside and out.",fullDesc:"Complete transformation, inside and out. Price depends on vehicle size and condition. This comprehensive service includes everything needed to restore your vehicle to showroom condition.",features:["Exterior shampoo and wax & interior deep clean","Wheel cleaning & tire shine","Window cleaning","Full vacuum & dust removal","Dashboard & console cleaning","Leather/fabric treatment","Air freshener service"],price:"90100",duration:"3-4 hours",image:"/gallery/FullValet.png"},{title:"Exterior Only",desc:"Full exterior wash and protection.",fullDesc:"Full exterior wash and protection. No interior cleaning. Perfect for vehicles that need exterior attention while the interior is still in good condition.",features:["Exterior shampoo and wax","Wheel cleaning & tire shine","Window cleaning","Air freshener service"],price:"40",duration:"1-2 hours",image:"/gallery/Exterior.png"},{title:"Interior Only",desc:"Deep interior cleaning and restoration.",fullDesc:"Deep interior cleaning and restoration. Restores your car's cabin to showroom condition. Ideal for vehicles with clean exteriors but dirty interiors.",features:["Full vacuum & dust removal","Dashboard & console cleaning","Leather/fabric treatment","Air freshener service"],price:"60",duration:"2-3 hours",image:"/gallery/Interior.png"},{title:"Iron Fallout & Tar Remover",desc:"Removes embedded particles for smoother finish.",fullDesc:"Removes embedded iron particles and tar for a smoother, cleaner finish. Available as an add-on during booking for Exterior Only or Full Valet services. Safe for all paint types. Note: Requires an exterior wash first.",features:["Iron fallout removal","Tar spot removal","Safe for all paint types","Requires exterior wash first","Available as add-on during booking"],price:"+20",duration:"Add-on (30 min)",image:"/gallery/Tar.png",isAddon:!0}];function e2({onBookNow:r}){const[e,t]=L.useState({}),n=L.useRef([]),s=o=>{t(c=>({...c,[o]:!c[o]}))};return L.useEffect(()=>{function o(c){n.current.forEach((f,p)=>{f&&e[p]&&!f.contains(c.target)&&t(m=>({...m,[p]:!1}))})}if(Object.values(e).some(Boolean))return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[e]),_.jsxs("section",{id:"services",className:"py-5 bg-dark w-100",children:[_.jsxs("div",{className:"container-fluid px-4",children:[_.jsxs("div",{className:"text-center mb-5",children:[_.jsx("h2",{className:"display-5 fw-bold text-primary mb-3",children:"Our Services & Pricing"}),_.jsx("p",{className:"lead text-light mb-0",children:"Choose from our range of professional valeting services, each designed to keep your vehicle in pristine condition. All prices are fixed and transparent."})]}),_.jsx("div",{className:"row g-4",children:JM.map((o,c)=>_.jsx("div",{className:"col-12 col-md-6",children:_.jsx("div",{className:"position-relative",children:_.jsxs("div",{className:"card h-100 shadow border-0 bg-secondary",children:[_.jsxs("div",{className:"card-body d-flex flex-column align-items-center justify-content-center p-4 text-center",children:[_.jsx("h3",{className:"h4 fw-bold text-primary mb-4",children:o.title}),_.jsx("div",{className:"mb-4",children:_.jsx("svg",{width:"80",height:"80",fill:"currentColor",className:"text-primary",viewBox:"0 0 16 16",children:_.jsx("path",{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})})}),_.jsx("p",{className:"text-light mb-3 text-center",children:o.desc}),_.jsxs("div",{className:"mt-auto",children:[_.jsx("div",{className:"h4 fw-bold text-primary mb-2",children:o.price}),_.jsx("div",{className:"small text-light mb-3",children:o.duration}),_.jsxs("div",{className:"d-flex flex-column gap-2",children:[_.jsx("button",{className:"btn btn-outline-secondary btn-sm",onMouseDown:f=>{f.preventDefault(),f.stopPropagation()},onClick:()=>s(c),children:e[c]?"Hide Details":"See Details"}),o.isAddon?_.jsx("button",{type:"button",className:"btn btn-outline-secondary fw-semibold",disabled:!0,style:{opacity:.7,cursor:"not-allowed"},children:"Add-on Only"}):_.jsx("button",{type:"button",className:"btn btn-outline-primary fw-semibold",onClick:r,children:"Book Now"})]})]})]}),_.jsx("div",{ref:f=>n.current[c]=f,className:`w-100 bg-secondary border border-primary rounded-bottom shadow-lg details-popout${e[c]?" details-popout-open":""}`,style:{marginTop:"1rem",zIndex:10},children:e[c]&&_.jsxs("div",{className:"p-4",children:[_.jsx("p",{className:"text-light text-center mb-4",children:o.fullDesc}),_.jsx("ul",{className:"list-unstyled text-center",children:o.features.map((f,p)=>_.jsxs("li",{className:"d-flex align-items-center justify-content-center mb-2 text-light",children:[_.jsx("span",{className:"badge bg-danger me-2",style:{width:8,height:8,borderRadius:"50%"}}),_.jsx("span",{children:f})]},p))})]})})]})})},o.title))})]}),_.jsx("style",{jsx:!0,children:`
        .details-popout {
          max-height: 0;
          opacity: 0;
          overflow: hidden;
          transform: translateY(-20px);
          transition: max-height 0.4s cubic-bezier(0.4,0,0.2,1), opacity 0.3s, transform 0.4s cubic-bezier(0.4,0,0.2,1);
        }
        .details-popout-open {
          max-height: 500px;
          opacity: 1;
          transform: translateY(0);
        }
      `})]})}function t2(){return _.jsx("footer",{className:"bg-dark text-white py-4 mt-5 w-100 border-top border-danger",style:{letterSpacing:"0.01em"},children:_.jsxs("div",{className:"container-fluid px-4 d-flex flex-column flex-md-row align-items-center justify-content-between gap-3",children:[_.jsxs("div",{className:"d-flex align-items-center mb-3 mb-md-0",children:[_.jsx("img",{src:"/JakesCarCare/gallery/Logo.png",alt:"Jakes Car Care Logo",style:{height:44,width:44,objectFit:"contain",marginRight:12,filter:"brightness(0) invert(1)"}}),_.jsx("span",{className:"fw-bold fs-6",style:{fontFamily:"'GoodTimes', 'Poppins', 'Segoe UI', sans-serif",background:"linear-gradient(45deg, #fff, #dc3545)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"none"},children:"Jakes Car Care"})]}),_.jsxs("div",{className:"text-center small flex-grow-1 mb-3 mb-md-0",children:[" ",new Date().getFullYear()," Jakes Car Care. All rights reserved."]}),_.jsxs("div",{className:"d-flex gap-3 justify-content-center",children:[_.jsx("a",{href:"#",className:"text-white-50 footer-social","aria-label":"Facebook",children:_.jsx("i",{className:"bi bi-facebook fs-5"})}),_.jsx("a",{href:"#",className:"text-white-50 footer-social","aria-label":"Instagram",children:_.jsx("i",{className:"bi bi-instagram fs-5"})})]})]})})}function n2(){const[r,e]=L.useState([]),[t,n]=L.useState([]),[s,o]=L.useState(!0),[c,f]=L.useState("bookings"),[p,m]=L.useState(!1),[y,b]=L.useState({name:"",phone:"",email:"",eircode:"",service:"",date:"",time:"",message:"",ironFalloutAddon:!1}),[w,D]=L.useState(!1),[S,P]=L.useState(null),[N,C]=L.useState([]),[G,X]=L.useState(!1),[te,re]=L.useState(!1),[he,I]=L.useState(!0),[R,k]=L.useState({category:"interiors",label:"",description:"",type:"single"}),V=["Full Valet","Exterior Only","Interior Only"],U=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00"];L.useEffect(()=>{B(),M(),Ae()},[]);const B=async()=>{try{console.log("Fetching bookings...");const Z=vr(gn,"bookings"),pe=Ss(Z,Gb("created","desc")),He=await Ia(pe),Pe=[];He.forEach(rt=>{Pe.push({id:rt.id,...rt.data()})}),console.log("Fetched bookings:",Pe),e(Pe)}catch(Z){console.error("Error fetching bookings:",Z)}finally{o(!1)}},M=async()=>{try{const Z=vr(gn,"reviews"),pe=Ss(Z,Gb("date","desc")),He=await Ia(pe),Pe=[];He.forEach(rt=>{Pe.push({id:rt.id,...rt.data()})}),n(Pe)}catch(Z){console.error("Error fetching reviews:",Z)}finally{o(!1)}},Ae=async()=>{try{const pe=(await Ia(vr(gn,"gallery"))).docs.map(He=>({id:He.id,...He.data()}));C(pe)}catch(Z){console.error("Error fetching gallery items:",Z)}},ve=async Z=>{Z.preventDefault();try{await sg(vr(gn,"bookings"),{...y,created:Rt.now(),adminCreated:!0}),b({name:"",phone:"",email:"",eircode:"",service:"",date:"",time:"",message:"",ironFalloutAddon:!1}),m(!1),B()}catch(pe){console.error("Error creating booking:",pe)}},Y=async Z=>{try{await Xb(ws(gn,"reviews",Z),{approved:!0}),M()}catch(pe){console.error("Error approving review:",pe)}},Q=async Z=>{if(window.confirm("Are you sure you want to reject this review? This action cannot be undone."))try{await Sm(ws(gn,"reviews",Z)),M()}catch(pe){console.error("Error rejecting review:",pe)}},ue=Z=>new Date(Z).toLocaleDateString("en-GB"),ne=Z=>Z?(Z.toDate?Z.toDate():new Date(Z)).toLocaleDateString("en-GB"):"N/A",O=(Z,pe)=>{let Pe={"Full Valet":"90100","Exterior Only":"40","Interior Only":"60"}[Z]||"";return pe&&(Pe+=" + 20"),Pe},W=(Z,pe)=>{let Pe={"Full Valet":95,"Exterior Only":40,"Interior Only":60}[Z]||0;return pe&&(Pe+=20),Pe},de=Z=>_.jsx("div",{className:"d-flex",children:[1,2,3,4,5].map(pe=>_.jsx("span",{className:`fs-6 ${Z>=pe?"text-warning":"text-muted"}`,children:""},pe))}),ce=()=>{if(console.log("getWeeklyBookings called with bookings:",r),!r.length)return console.log("No bookings found, returning empty weeks array"),[];const Z=r.map(et=>{let We;if(typeof et.date=="string")We=et.date;else if(et.date&&et.date.toISOString)We=et.date.toISOString().split("T")[0];else return console.warn("Invalid date format for booking:",et),null;return{...et,date:We}}).filter(et=>et!==null);console.log("Normalized bookings:",Z);const pe=[...Z].sort((et,We)=>new Date(et.date)-new Date(We.date));console.log("Sorted bookings:",pe);const He=[];let Pe=Array(7).fill(null).map(()=>[]),rt=null;return pe.forEach(et=>{const We=new Date(et.date);if(isNaN(We.getTime())){console.warn("Invalid date found:",et.date);return}const en=(We.getDay()+6)%7;(!rt||We<rt||We>=new Date(rt.getTime()+7*864e5))&&(rt=new Date(We),rt.setDate(We.getDate()-en),Pe=Array(7).fill(null).map(()=>[]),He.push({weekStart:new Date(rt),days:Pe})),Pe[en].push(et)}),console.log("Generated weeks:",He),He},_e=()=>r.reduce((Z,pe)=>Z+W(pe.service,pe.ironFalloutAddon),0),Se=()=>r.filter(Z=>Z.completed).reduce((Z,pe)=>Z+W(pe.service,pe.ironFalloutAddon),0),Te=async Z=>{P(Z.id);try{await Xb(ws(gn,"bookings",Z.id),{completed:!Z.completed}),e(pe=>pe.map(He=>He.id===Z.id?{...He,completed:!He.completed}:He))}catch{alert("Error updating booking status.")}P(null)},gt=Z=>{Z.preventDefault(),re(!0)},Ye=Z=>{Z.preventDefault(),re(!1)},Cn=async Z=>{Z.preventDefault(),re(!1);const pe=Array.from(Z.dataTransfer.files);await jn(pe)},nr=async Z=>{const pe=Array.from(Z.target.files);await jn(pe)},jn=async Z=>{X(!0);try{console.log("Starting upload process..."),console.log("Files to upload:",Z);for(const pe of Z){console.log("Uploading file:",pe.name,"Size:",pe.size,"Type:",pe.type);const He=(pe.size/(1024*1024)).toFixed(2);pe.size>5*1024*1024&&console.warn(`Large file detected (${He}MB). Consider compressing for faster upload.`);const rt=`${Date.now()}_${pe.name}`,et=rw(aw,`gallery/${rt}`);console.log("Storage reference created:",et.fullPath),console.log("Starting file upload...");const We=await HM(et,pe);console.log("File uploaded successfully:",We),console.log("Waiting for file processing..."),await new Promise(Pt=>setTimeout(Pt,1e3)),console.log("Getting download URL...");let en,wr=0;const zt=2;for(;wr<zt;)try{en=await qM(et),console.log("Download URL obtained:",en);break}catch(Pt){if(wr++,console.log(`Download URL attempt ${wr} failed:`,Pt),wr>=zt)throw new Error(`Failed to get download URL after ${zt} attempts: ${Pt.message}`);await new Promise(tn=>setTimeout(tn,1500*wr))}const Un=pe.type.startsWith("video/");if(!pe.type.startsWith("image/")&&!Un){alert(`${pe.name} is not a supported file type. Please use images or videos.`);continue}const vt={category:R.category,label:R.label||pe.name.split(".")[0],description:R.description||"",type:Un?"video":"single",src:en,fileName:rt,uploadedAt:new Date().toISOString(),duration:Un?"0:00":null};console.log("Gallery item created:",vt),console.log("Adding to Firestore...");const ze=await sg(vr(gn,"gallery"),vt);console.log("Added to Firestore with ID:",ze.id)}console.log("Refreshing gallery items..."),await Ae(),k({category:"interiors",label:"",description:"",type:"single"}),alert("Files uploaded successfully!")}catch(pe){console.error("Error uploading files:",pe),console.error("Error details:",{code:pe.code,message:pe.message,stack:pe.stack}),pe.code==="storage/unauthorized"?alert("Upload failed: Unauthorized. Please check Firebase security rules."):pe.code==="storage/quota-exceeded"?alert("Upload failed: Storage quota exceeded."):pe.code==="storage/unauthenticated"?alert("Upload failed: Not authenticated. Please log in."):alert(`Error uploading files: ${pe.message}`)}finally{X(!1)}},br=async(Z,pe)=>{if(window.confirm("Are you sure you want to delete this item?"))try{await Sm(ws(gn,"gallery",Z));const He=rw(aw,`gallery/${pe}`);await QM(He),await Ae(),alert("Item deleted successfully!")}catch(He){console.error("Error deleting item:",He),alert("Error deleting item. Please try again.")}},yt=async Z=>{if(window.confirm("Are you sure you want to delete this booking?"))try{await Sm(ws(gn,"bookings",Z)),await B(),alert("Booking deleted successfully!")}catch(pe){console.error("Error deleting booking:",pe),alert("Error deleting booking. Please try again.")}};return s?_.jsx("section",{className:"py-5 bg-dark text-light w-100",children:_.jsx("div",{className:"container-fluid px-4",children:_.jsx("div",{className:"text-center",children:_.jsx("div",{className:"spinner-border text-primary",role:"status",children:_.jsx("span",{className:"visually-hidden",children:"Loading..."})})})})}):_.jsx("section",{className:"py-5 bg-dark text-light w-100 admin-page",children:_.jsxs("div",{className:"container-fluid px-4",children:[_.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[_.jsx("h2",{className:"display-6 fw-bold text-primary",children:"Admin Panel"}),_.jsxs("div",{className:"d-flex gap-2",children:[_.jsx(Ff,{to:"/",className:"btn btn-outline-primary",children:"Back to Home"}),c==="bookings"&&_.jsx("button",{className:"btn btn-primary",onClick:()=>m(!p),children:p?"Cancel":"Create New Booking"})]})]}),_.jsxs("div",{className:"nav nav-tabs mb-4",role:"tablist",children:[_.jsxs("button",{className:`nav-link ${c==="bookings"?"active bg-primary text-white":"text-light"}`,onClick:()=>f("bookings"),children:["Bookings (",r.length,")"]}),_.jsxs("button",{className:`nav-link ${c==="reviews"?"active bg-primary text-white":"text-light"}`,onClick:()=>f("reviews"),children:["Reviews (",t.length,")",t.filter(Z=>!Z.approved).length>0&&_.jsxs("span",{className:"badge bg-warning text-dark ms-2",children:[t.filter(Z=>!Z.approved).length," Pending"]})]}),_.jsx("button",{className:`nav-link ${c==="gallery"?"active bg-primary text-white":"text-light"}`,onClick:()=>f("gallery"),children:"Gallery Management"})]}),_.jsx("div",{className:"mb-4",children:_.jsxs("button",{className:"btn btn-outline-info",onClick:()=>D(Z=>!Z),children:[w?"Hide":"Show"," Booking Calendar & Weekly Summary"]})}),w&&_.jsx("div",{className:"card bg-dark mb-4",children:_.jsxs("div",{className:"card-body",children:[_.jsxs("div",{className:"d-flex justify-content-end align-items-center mb-2 gap-4",children:[_.jsxs("span",{className:"fw-bold text-success fs-5",children:["Estimated Total Earnings: ",_e()]}),_.jsxs("span",{className:"fw-bold text-info fs-5",children:["Actual Total Earned: ",Se()]})]}),_.jsx("h5",{className:"card-title text-info mb-3",children:"Booking Calendar & Weekly Summary"}),r.length===0?_.jsx("div",{className:"text-center py-4",children:_.jsx("p",{className:"text-muted mb-0",children:"No bookings found. The calendar will appear here once you have bookings."})}):_.jsx("div",{className:"table-responsive",children:_.jsxs("table",{className:"table table-bordered table-dark align-middle",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Week (Mon-Sun)"}),_.jsx("th",{children:"Mon"}),_.jsx("th",{children:"Tue"}),_.jsx("th",{children:"Wed"}),_.jsx("th",{children:"Thu"}),_.jsx("th",{children:"Fri"}),_.jsx("th",{children:"Sat"}),_.jsx("th",{children:"Sun"}),_.jsx("th",{children:"Total ()"})]})}),_.jsx("tbody",{children:ce().map(({weekStart:Z,days:pe},He)=>{const Pe=pe.flat().reduce((rt,et)=>rt+W(et.service,et.ironFalloutAddon),0);return _.jsxs("tr",{children:[_.jsx("td",{className:"fw-bold",children:Z.toLocaleDateString("en-GB")}),pe.map((rt,et)=>_.jsx("td",{children:rt.length===0?_.jsx("span",{className:"text-muted small",children:"-"}):rt.map((We,en)=>_.jsxs("div",{className:"mb-2",children:[_.jsxs("div",{className:"d-flex align-items-center gap-2",children:[_.jsx("input",{type:"checkbox",checked:!!We.completed,disabled:S===We.id,onChange:()=>Te(We),title:"Mark as completed"}),_.jsx("strong",{children:We.name}),_.jsx("span",{className:"badge bg-secondary ms-1",children:We.service})]}),_.jsxs("div",{className:"small",children:[We.time," | ",W(We.service,We.ironFalloutAddon)]})]},en))},et)),_.jsxs("td",{className:"fw-bold text-success",children:["",Pe]})]},He)})})]})})]})}),c==="bookings"&&_.jsxs(_.Fragment,{children:[p&&_.jsx("div",{className:"card bg-secondary mb-4",children:_.jsxs("div",{className:"card-body",children:[_.jsx("h5",{className:"card-title text-primary mb-3",children:"Create New Booking"}),_.jsxs("form",{onSubmit:ve,className:"row g-3",children:[_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",children:"Name *"}),_.jsx("input",{type:"text",className:"form-control",value:y.name,onChange:Z=>b({...y,name:Z.target.value}),required:!0})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",children:"Phone *"}),_.jsx("input",{type:"tel",className:"form-control",value:y.phone,onChange:Z=>b({...y,phone:Z.target.value}),required:!0})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",children:"Email"}),_.jsx("input",{type:"email",className:"form-control",value:y.email,onChange:Z=>b({...y,email:Z.target.value})})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",children:"Eircode"}),_.jsx("input",{type:"text",className:"form-control",value:y.eircode,onChange:Z=>b({...y,eircode:Z.target.value})})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",children:"Service *"}),_.jsxs("select",{className:"form-select",value:y.service,onChange:Z=>b({...y,service:Z.target.value}),required:!0,children:[_.jsx("option",{value:"",children:"Select a service"}),V.map(Z=>_.jsx("option",{value:Z,children:Z},Z))]})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",children:"Date *"}),_.jsx("input",{type:"date",className:"form-control",value:y.date,onChange:Z=>b({...y,date:Z.target.value}),required:!0})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",children:"Time *"}),_.jsxs("select",{className:"form-select",value:y.time,onChange:Z=>b({...y,time:Z.target.value}),required:!0,children:[_.jsx("option",{value:"",children:"Select a time"}),U.map(Z=>_.jsx("option",{value:Z,children:Z},Z))]})]}),(y.service==="Exterior Only"||y.service==="Full Valet")&&_.jsx("div",{className:"col-12",children:_.jsxs("div",{className:"form-check",children:[_.jsx("input",{className:"form-check-input",type:"checkbox",id:"ironFalloutAddon",checked:y.ironFalloutAddon,onChange:Z=>b({...y,ironFalloutAddon:Z.target.checked})}),_.jsx("label",{className:"form-check-label text-light",htmlFor:"ironFalloutAddon",children:"Iron Fallout & Tar Remover (+20)"})]})}),_.jsxs("div",{className:"col-12",children:[_.jsx("label",{className:"form-label fw-semibold text-light",children:"Message"}),_.jsx("textarea",{className:"form-control",rows:"3",value:y.message,onChange:Z=>b({...y,message:Z.target.value})})]}),_.jsx("div",{className:"col-12",children:_.jsx("button",{type:"submit",className:"btn btn-primary",children:"Create Booking"})})]})]})}),_.jsx("div",{className:"card bg-secondary",children:_.jsxs("div",{className:"card-body",children:[_.jsxs("h5",{className:"card-title text-primary mb-3",children:["All Bookings (",r.length,")"]}),r.length===0?_.jsx("p",{className:"text-light",children:"No bookings found."}):_.jsx("div",{className:"table-responsive",children:_.jsxs("table",{className:"table table-dark table-hover",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Date"}),_.jsx("th",{children:"Time"}),_.jsx("th",{children:"Name"}),_.jsx("th",{children:"Phone"}),_.jsx("th",{children:"Eircode"}),_.jsx("th",{children:"Service"}),_.jsx("th",{children:"Price"}),_.jsx("th",{children:"Created"}),_.jsx("th",{children:"Actions"})]})}),_.jsx("tbody",{children:r.map(Z=>_.jsxs("tr",{children:[_.jsx("td",{children:ue(Z.date)}),_.jsx("td",{children:Z.time}),_.jsx("td",{children:Z.name}),_.jsx("td",{children:Z.phone}),_.jsx("td",{children:Z.eircode||"N/A"}),_.jsxs("td",{children:[Z.service,Z.ironFalloutAddon&&_.jsx("span",{className:"badge bg-warning text-dark ms-1",children:"+ Iron Fallout"})]}),_.jsx("td",{children:O(Z.service,Z.ironFalloutAddon)}),_.jsxs("td",{children:[Z.created?.toDate?Z.created.toDate().toLocaleDateString("en-GB"):"N/A",Z.adminCreated&&_.jsx("span",{className:"badge bg-info ms-1",children:"Admin"})]}),_.jsx("td",{children:_.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>yt(Z.id),children:"Delete"})})]},Z.id))})]})})]})})]}),c==="reviews"&&_.jsx("div",{className:"card bg-secondary",children:_.jsxs("div",{className:"card-body",children:[_.jsxs("h5",{className:"card-title text-primary mb-3",children:["All Reviews (",t.length,")"]}),t.length===0?_.jsx("p",{className:"text-light",children:"No reviews found."}):_.jsx("div",{className:"table-responsive",children:_.jsxs("table",{className:"table table-dark table-hover",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Customer"}),_.jsx("th",{children:"Rating"}),_.jsx("th",{children:"Review"}),_.jsx("th",{children:"Service"}),_.jsx("th",{children:"Date"}),_.jsx("th",{children:"Status"}),_.jsx("th",{children:"Actions"})]})}),_.jsx("tbody",{children:t.map(Z=>_.jsxs("tr",{children:[_.jsx("td",{children:_.jsxs("div",{children:[_.jsx("strong",{children:Z.customerName}),Z.customerEmail&&_.jsx("div",{className:"small text-muted",children:Z.customerEmail})]})}),_.jsx("td",{children:de(Z.rating)}),_.jsx("td",{children:_.jsx("div",{style:{maxWidth:"300px"},children:_.jsxs("p",{className:"mb-0 small",children:['"',Z.review,'"']})})}),_.jsx("td",{children:Z.service?_.jsx("span",{className:"badge bg-info",children:Z.service}):_.jsx("span",{className:"text-muted",children:"Not specified"})}),_.jsx("td",{children:ne(Z.date)}),_.jsx("td",{children:Z.approved?_.jsx("span",{className:"badge bg-success",children:"Approved"}):_.jsx("span",{className:"badge bg-warning text-dark",children:"Pending"})}),_.jsx("td",{children:Z.approved?_.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>Q(Z.id),title:"Delete Review",children:"Delete"}):_.jsxs("div",{className:"d-flex gap-1",children:[_.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>Y(Z.id),title:"Approve Review",children:""}),_.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>Q(Z.id),title:"Reject Review",children:""})]})})]},Z.id))})]})})]})}),c==="gallery"&&_.jsxs("div",{className:"tab-pane fade show active",children:[_.jsx("h2",{className:"h3 mb-4",children:"Gallery Management"}),_.jsx("div",{className:"card bg-secondary mb-4",children:_.jsxs("div",{className:"card-body",children:[_.jsx("h4",{className:"card-title text-primary",children:"Upload New Media"}),_.jsxs("div",{className:"row mb-3",children:[_.jsxs("div",{className:"col-md-3",children:[_.jsx("label",{className:"form-label",children:"Category"}),_.jsxs("select",{className:"form-select",value:R.category,onChange:Z=>k({...R,category:Z.target.value}),children:[_.jsx("option",{value:"beforeAfter",children:"Before & After"}),_.jsx("option",{value:"interiors",children:"Interiors"}),_.jsx("option",{value:"exteriors",children:"Exteriors"}),_.jsx("option",{value:"videos",children:"Videos"})]})]}),_.jsxs("div",{className:"col-md-3",children:[_.jsx("label",{className:"form-label",children:"Title"}),_.jsx("input",{type:"text",className:"form-control",placeholder:"Image/Video title",value:R.label,onChange:Z=>k({...R,label:Z.target.value})})]}),_.jsxs("div",{className:"col-md-6",children:[_.jsx("label",{className:"form-label",children:"Description"}),_.jsx("input",{type:"text",className:"form-control",placeholder:"Description",value:R.description,onChange:Z=>k({...R,description:Z.target.value})})]})]}),_.jsxs("div",{className:`border-2 border-dashed rounded p-5 text-center ${te?"border-primary bg-primary bg-opacity-10":"border-secondary"}`,onDragOver:gt,onDragLeave:Ye,onDrop:Cn,children:[_.jsx("div",{className:"mb-3",children:_.jsx("i",{className:"bi bi-cloud-upload fs-1 text-primary"})}),_.jsx("h5",{children:"Drag & Drop Files Here"}),_.jsx("p",{className:"text-muted",children:"or"}),_.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:nr,className:"form-control",style:{display:"none"},id:"fileInput"}),_.jsx("label",{htmlFor:"fileInput",className:"btn btn-primary",children:"Choose Files"}),_.jsx("p",{className:"text-muted mt-2",children:"Supported: Images (JPG, PNG, GIF) and Videos (MP4, WebM)"}),G&&_.jsxs("div",{className:"mt-3",children:[_.jsx("div",{className:"spinner-border spinner-border-sm text-primary me-2"}),"Uploading..."]})]})]})}),_.jsx("div",{className:"row",children:["beforeAfter","interiors","exteriors","videos"].map(Z=>_.jsxs("div",{className:"col-12 mb-4",children:[_.jsx("h4",{className:"text-primary text-capitalize mb-3",children:Z.replace(/([A-Z])/g," $1")}),_.jsx("div",{className:"row g-3",children:N.filter(pe=>pe.category===Z).map(pe=>_.jsx("div",{className:"col-md-4 col-lg-3",children:_.jsxs("div",{className:"card bg-secondary h-100",children:[_.jsxs("div",{className:"position-relative",children:[pe.type==="video"?_.jsxs("div",{className:"ratio ratio-16x9",children:[_.jsx("video",{src:pe.src,className:"card-img-top",style:{objectFit:"cover"}}),_.jsx("div",{className:"position-absolute top-50 start-50 translate-middle",children:_.jsx("i",{className:"bi bi-play-circle text-white fs-1"})})]}):_.jsx("div",{className:"ratio ratio-4x3",children:_.jsx("img",{src:pe.src,className:"card-img-top",alt:pe.label,style:{objectFit:"cover",width:"100%",height:"100%"}})}),_.jsxs("button",{className:"btn btn-danger btn-sm position-absolute top-0 end-0 m-2",onClick:()=>br(pe.id,pe.fileName),children:[_.jsx("i",{className:"bi bi-trash"})," Delete"]})]}),_.jsxs("div",{className:"card-body",children:[_.jsx("h6",{className:"card-title",children:pe.label}),_.jsx("p",{className:"card-text small text-muted",children:pe.description}),_.jsx("small",{className:"text-muted",children:new Date(pe.uploadedAt).toLocaleDateString()})]})]})},pe.id))})]},Z))})]})]})})}function r2(){const[r,e]=L.useState({customerName:"",rating:5,review:"",service:"",customerEmail:""}),[t,n]=L.useState(!1),[s,o]=L.useState(""),[c,f]=L.useState(""),p=["Full Valet","Exterior Only","Interior Only","Iron Fallout & Tar Remover"],m=async w=>{w.preventDefault(),n(!0),f(""),o("");try{await sg(vr(gn,"reviews"),{...r,date:Rt.now(),approved:!1}),o("Thank you for your review! It will be published after approval."),e({customerName:"",rating:5,review:"",service:"",customerEmail:""})}catch(D){f("Something went wrong. Please try again."),console.error("Error submitting review:",D)}finally{n(!1)}},y=w=>{const{name:D,value:S}=w.target;e(P=>({...P,[D]:S}))},b=w=>{e(D=>({...D,rating:w}))};return _.jsx("section",{className:"py-5 bg-dark w-100",children:_.jsx("div",{className:"container-fluid px-4",children:_.jsx("div",{className:"row justify-content-center",children:_.jsx("div",{className:"col-12 col-lg-10",children:_.jsx("div",{className:"card border-0 shadow-lg bg-secondary",children:_.jsxs("div",{className:"card-body p-4",children:[_.jsx("h3",{className:"text-primary fw-bold text-center mb-4",children:"Leave a Review"}),_.jsx("p",{className:"text-light text-center mb-4",children:"We'd love to hear about your experience with Jake's Mobile Detail!"}),_.jsx("form",{onSubmit:m,children:_.jsxs("div",{className:"row g-3",children:[_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",children:"Your Name *"}),_.jsx("input",{type:"text",className:"form-control",name:"customerName",value:r.customerName,onChange:y,required:!0,placeholder:"John Smith"})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",children:"Email (Optional)"}),_.jsx("input",{type:"email",className:"form-control",name:"customerEmail",value:r.customerEmail,onChange:y,placeholder:"john@example.com"})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",children:"Service Used"}),_.jsxs("select",{className:"form-select",name:"service",value:r.service,onChange:y,children:[_.jsx("option",{value:"",children:"Select a service (optional)"}),p.map(w=>_.jsx("option",{value:w,children:w},w))]})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",children:"Rating *"}),_.jsx("div",{className:"d-flex gap-2 mb-3",style:{minHeight:"48px"},children:[1,2,3,4,5].map(w=>_.jsx("button",{type:"button",className:`btn btn-outline-warning ${r.rating>=w?"btn-warning":""}`,onClick:()=>b(w),style:{width:"40px",height:"40px"},children:""},w))}),_.jsxs("small",{className:"text-light",children:["Click to rate: ",r.rating," out of 5"]})]}),_.jsxs("div",{className:"col-12",children:[_.jsx("label",{className:"form-label fw-semibold text-light",children:"Your Review *"}),_.jsx("textarea",{className:"form-control",name:"review",value:r.review,onChange:y,rows:"4",required:!0,placeholder:"Tell us about your experience...",maxLength:"500"}),_.jsxs("small",{className:"text-light",children:[r.review.length,"/500 characters"]})]}),_.jsx("div",{className:"col-12",children:_.jsxs("button",{type:"submit",className:"btn btn-primary w-100 fw-semibold py-3",disabled:t,children:[t?_.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}):null,"Submit Review"]})}),s&&_.jsx("div",{className:"col-12",children:_.jsx("div",{className:"alert alert-success mt-2 mb-0",role:"alert",children:s})}),c&&_.jsx("div",{className:"col-12",children:_.jsx("div",{className:"alert alert-danger mt-2 mb-0",role:"alert",children:c})})]})})]})})})})})})}function hx(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=hx(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function _n(){for(var r,e,t=0,n="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=hx(r))&&(n&&(n+=" "),n+=e);return n}const px=6048e5,a2=864e5,ah=6e4,ih=36e5,i2=1e3,iw=Symbol.for("constructDateFrom");function dt(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&iw in r?r[iw](e):r instanceof Date?new r.constructor(e):new Date(e)}function Ee(r,e){return dt(e||r,r)}function Rr(r,e,t){const n=Ee(r,t?.in);return isNaN(e)?dt(t?.in||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function Nr(r,e,t){const n=Ee(r,t?.in);if(isNaN(e))return dt(r,NaN);if(!e)return n;const s=n.getDate(),o=dt(r,n.getTime());o.setMonth(n.getMonth()+e+1,0);const c=o.getDate();return s>=c?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function mx(r,e,t){return dt(r,+Ee(r)+e)}function s2(r,e,t){return mx(r,e*ih)}let o2={};function Ys(){return o2}function Ha(r,e){const t=Ys(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=Ee(r,e?.in),o=s.getDay(),c=(o<n?7:0)+o-n;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function Xo(r,e){return Ha(r,{...e,weekStartsOn:1})}function gx(r,e){const t=Ee(r,e?.in),n=t.getFullYear(),s=dt(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=Xo(s),c=dt(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const f=Xo(c);return t.getTime()>=o.getTime()?n+1:t.getTime()>=f.getTime()?n:n-1}function Sf(r){const e=Ee(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Qa(r,...e){const t=dt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Vs(r,e){const t=Ee(r,e?.in);return t.setHours(0,0,0,0),t}function Zo(r,e,t){const[n,s]=Qa(t?.in,r,e),o=Vs(n),c=Vs(s),f=+o-Sf(o),p=+c-Sf(c);return Math.round((f-p)/a2)}function l2(r,e){const t=gx(r,e),n=dt(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Xo(n)}function lg(r,e,t){const n=Ee(r,t?.in);return n.setTime(n.getTime()+e*ah),n}function fy(r,e,t){return Nr(r,e*3,t)}function u2(r,e,t){return mx(r,e*1e3)}function Af(r,e,t){return Rr(r,e*7,t)}function Pa(r,e,t){return Nr(r,e*12,t)}function sw(r,e){let t,n=e?.in;return r.forEach(s=>{!n&&typeof s=="object"&&(n=dt.bind(null,s));const o=Ee(s,n);(!t||t<o||isNaN(+o))&&(t=o)}),dt(n,t||NaN)}function ow(r,e){let t,n=e?.in;return r.forEach(s=>{!n&&typeof s=="object"&&(n=dt.bind(null,s));const o=Ee(s,n);(!t||t>o||isNaN(+o))&&(t=o)}),dt(n,t||NaN)}function c2(r,e,t){const[n,s]=Qa(t?.in,r,e);return+Vs(n)==+Vs(s)}function Va(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Rf(r){return!(!Va(r)&&typeof r!="number"||isNaN(+Ee(r)))}function Cf(r,e,t){const[n,s]=Qa(t?.in,r,e),o=n.getFullYear()-s.getFullYear(),c=n.getMonth()-s.getMonth();return o*12+c}function Rs(r,e){const t=Ee(r,e?.in);return Math.trunc(t.getMonth()/3)+1}function Nf(r,e,t){const[n,s]=Qa(t?.in,r,e),o=n.getFullYear()-s.getFullYear(),c=Rs(n)-Rs(s);return o*4+c}function kf(r,e,t){const[n,s]=Qa(t?.in,r,e);return n.getFullYear()-s.getFullYear()}function d2(r,e,t){const[n,s]=Qa(t?.in,r,e),o=lw(n,s),c=Math.abs(Zo(n,s));n.setDate(n.getDate()-o*c);const f=+(lw(n,s)===-o),p=o*(c-f);return p===0?0:p}function lw(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function yx(r,e){const t=Ee(r,e?.in);return t.setHours(23,59,59,999),t}function vx(r,e){const t=Ee(r,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ug(r,e){const t=Ee(r,e?.in),n=t.getMonth(),s=n-n%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function _x(r,e){const t=Ee(r,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function bx(r,e){const t=Ee(r,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function sh(r,e){const t=Ee(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function f2(r,e){const t=Ys(),n=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=Ee(r,e?.in),o=s.getDay(),c=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}const h2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},p2=(r,e,t)=>{let n;const s=h2[r];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Cm(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const m2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},g2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},y2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v2={date:Cm({formats:m2,defaultWidth:"full"}),time:Cm({formats:g2,defaultWidth:"full"}),dateTime:Cm({formats:y2,defaultWidth:"full"})},_2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},b2=(r,e,t,n)=>_2[r];function xu(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let s;if(n==="formatting"&&r.formattingValues){const c=r.defaultFormattingWidth||r.defaultWidth,f=t?.width?String(t.width):c;s=r.formattingValues[f]||r.formattingValues[c]}else{const c=r.defaultWidth,f=t?.width?String(t.width):r.defaultWidth;s=r.values[f]||r.values[c]}const o=r.argumentCallback?r.argumentCallback(e):e;return s[o]}}const w2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},E2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},T2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},x2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},D2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},S2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},A2=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},R2={ordinalNumber:A2,era:xu({values:w2,defaultWidth:"wide"}),quarter:xu({values:E2,defaultWidth:"wide",argumentCallback:r=>r-1}),month:xu({values:T2,defaultWidth:"wide"}),day:xu({values:x2,defaultWidth:"wide"}),dayPeriod:xu({values:D2,defaultWidth:"wide",formattingValues:S2,defaultFormattingWidth:"wide"})};function Du(r){return(e,t={})=>{const n=t.width,s=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],f=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(f)?N2(f,b=>b.test(c)):C2(f,b=>b.test(c));let m;m=r.valueCallback?r.valueCallback(p):p,m=t.valueCallback?t.valueCallback(m):m;const y=e.slice(c.length);return{value:m,rest:y}}}function C2(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function N2(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function k2(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const s=n[0],o=e.match(r.parsePattern);if(!o)return null;let c=r.valueCallback?r.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const f=e.slice(s.length);return{value:c,rest:f}}}const M2=/^(\d+)(th|st|nd|rd)?/i,O2=/\d+/i,I2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},P2={any:[/^b/i,/^(a|c)/i]},V2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},L2={any:[/1/i,/2/i,/3/i,/4/i]},j2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},B2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},F2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},z2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},H2={ordinalNumber:k2({matchPattern:M2,parsePattern:O2,valueCallback:r=>parseInt(r,10)}),era:Du({matchPatterns:I2,defaultMatchWidth:"wide",parsePatterns:P2,defaultParseWidth:"any"}),quarter:Du({matchPatterns:V2,defaultMatchWidth:"wide",parsePatterns:L2,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Du({matchPatterns:j2,defaultMatchWidth:"wide",parsePatterns:U2,defaultParseWidth:"any"}),day:Du({matchPatterns:B2,defaultMatchWidth:"wide",parsePatterns:F2,defaultParseWidth:"any"}),dayPeriod:Du({matchPatterns:z2,defaultMatchWidth:"any",parsePatterns:Y2,defaultParseWidth:"any"})},wx={code:"en-US",formatDistance:p2,formatLong:v2,formatRelative:b2,localize:R2,match:H2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function q2(r,e){const t=Ee(r,e?.in);return Zo(t,sh(t))+1}function hy(r,e){const t=Ee(r,e?.in),n=+Xo(t)-+l2(t);return Math.round(n/px)+1}function py(r,e){const t=Ee(r,e?.in),n=t.getFullYear(),s=Ys(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=dt(e?.in||r,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const f=Ha(c,e),p=dt(e?.in||r,0);p.setFullYear(n,0,o),p.setHours(0,0,0,0);const m=Ha(p,e);return+t>=+f?n+1:+t>=+m?n:n-1}function Q2(r,e){const t=Ys(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,s=py(r,e),o=dt(e?.in||r,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Ha(o,e)}function Ex(r,e){const t=Ee(r,e?.in),n=+Ha(t,e)-+Q2(t,e);return Math.round(n/px)+1}function ct(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const wi={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return ct(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):ct(t+1,2)},d(r,e){return ct(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return ct(r.getHours()%12||12,e.length)},H(r,e){return ct(r.getHours(),e.length)},m(r,e){return ct(r.getMinutes(),e.length)},s(r,e){return ct(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),s=Math.trunc(n*Math.pow(10,t-3));return ct(s,e.length)}},Po={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uw={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),s=n>0?n:1-n;return t.ordinalNumber(s,{unit:"year"})}return wi.y(r,e)},Y:function(r,e,t,n){const s=py(r,n),o=s>0?s:1-s;if(e==="YY"){const c=o%100;return ct(c,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):ct(o,e.length)},R:function(r,e){const t=gx(r);return ct(t,e.length)},u:function(r,e){const t=r.getFullYear();return ct(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ct(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ct(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return wi.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return ct(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const s=Ex(r,n);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):ct(s,e.length)},I:function(r,e,t){const n=hy(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):ct(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):wi.d(r,e)},D:function(r,e,t){const n=q2(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):ct(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const s=r.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ct(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const s=r.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ct(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return ct(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const s=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let s;switch(n===12?s=Po.noon:n===0?s=Po.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let s;switch(n>=17?s=Po.evening:n>=12?s=Po.afternoon:n>=4?s=Po.morning:s=Po.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return wi.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):wi.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):ct(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):ct(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):wi.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):wi.s(r,e)},S:function(r,e){return wi.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return dw(n);case"XXXX":case"XX":return bs(n);case"XXXXX":case"XXX":default:return bs(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return dw(n);case"xxxx":case"xx":return bs(n);case"xxxxx":case"xxx":default:return bs(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+cw(n,":");case"OOOO":default:return"GMT"+bs(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+cw(n,":");case"zzzz":default:return"GMT"+bs(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return ct(n,e.length)},T:function(r,e,t){return ct(+r,e.length)}};function cw(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=Math.trunc(n/60),o=n%60;return o===0?t+String(s):t+String(s)+e+ct(o,2)}function dw(r,e){return r%60===0?(r>0?"-":"+")+ct(Math.abs(r)/60,2):bs(r,e)}function bs(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=ct(Math.trunc(n/60),2),o=ct(n%60,2);return t+s+e+o}const fw=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Tx=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},G2=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],s=t[2];if(!s)return fw(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",fw(n,e)).replace("{{time}}",Tx(s,e))},cg={p:Tx,P:G2},K2=/^D+$/,W2=/^Y+$/,$2=["D","DD","YY","YYYY"];function X2(r){return K2.test(r)}function Z2(r){return W2.test(r)}function J2(r,e,t){const n=eO(r,e,t);if(console.warn(n),$2.includes(r))throw new RangeError(n)}function eO(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rO=/^'([^]*?)'?$/,aO=/''/g,iO=/[a-zA-Z]/;function hw(r,e,t){const n=Ys(),s=t?.locale??n.locale??wx,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,f=Ee(r,t?.in);if(!Rf(f))throw new RangeError("Invalid time value");let p=e.match(nO).map(y=>{const b=y[0];if(b==="p"||b==="P"){const w=cg[b];return w(y,s.formatLong)}return y}).join("").match(tO).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:sO(y)};if(uw[b])return{isToken:!0,value:y};if(b.match(iO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(p=s.localize.preprocessor(f,p));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return p.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!t?.useAdditionalWeekYearTokens&&Z2(b)||!t?.useAdditionalDayOfYearTokens&&X2(b))&&J2(b,e,String(r));const w=uw[b[0]];return w(f,b,s.localize,m)}).join("")}function sO(r){const e=r.match(rO);return e?e[1].replace(aO,"'"):r}function pw(r,e){return Ee(r,e?.in).getDate()}function oO(r,e){return Ee(r,e?.in).getDay()}function lO(r,e){const t=Ee(r,e?.in),n=t.getFullYear(),s=t.getMonth(),o=dt(t,0);return o.setFullYear(n,s+1,0),o.setHours(0,0,0,0),o.getDate()}function uO(){return Object.assign({},Ys())}function La(r,e){return Ee(r,e?.in).getHours()}function cO(r,e){const t=Ee(r,e?.in).getDay();return t===0?7:t}function ja(r,e){return Ee(r,e?.in).getMinutes()}function An(r,e){return Ee(r,e?.in).getMonth()}function Ci(r){return Ee(r).getSeconds()}function dg(r){return+Ee(r)}function Le(r,e){return Ee(r,e?.in).getFullYear()}function Pi(r,e){return+Ee(r)>+Ee(e)}function Ls(r,e){return+Ee(r)<+Ee(e)}function dO(r,e){return+Ee(r)==+Ee(e)}function fO(r,e){const t=hO(e)?new e(0):dt(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function hO(r){return typeof r=="function"&&r.prototype?.constructor===r}const pO=10;class xx{subPriority=0;validate(e,t){return!0}}class mO extends xx{constructor(e,t,n,s,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=s,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class gO extends xx{priority=pO;subPriority=-1;constructor(e,t){super(),this.context=e||(n=>dt(t,n))}set(e,t){return t.timestampIsSet?e:dt(e,fO(e,this.context))}}class it{run(e,t,n,s){const o=this.parse(e,t,n,s);return o?{setter:new mO(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class yO extends it{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const Bt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},$r={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ft(r,e){return r&&{value:e(r.value),rest:r.rest}}function St(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Xr(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,c=t[5]?parseInt(t[5],10):0;return{value:n*(s*ih+o*ah+c*i2),rest:e.slice(t[0].length)}}function Dx(r){return St(Bt.anyDigitsSigned,r)}function Ot(r,e){switch(r){case 1:return St(Bt.singleDigit,e);case 2:return St(Bt.twoDigits,e);case 3:return St(Bt.threeDigits,e);case 4:return St(Bt.fourDigits,e);default:return St(new RegExp("^\\d{1,"+r+"}"),e)}}function Mf(r,e){switch(r){case 1:return St(Bt.singleDigitSigned,e);case 2:return St(Bt.twoDigitsSigned,e);case 3:return St(Bt.threeDigitsSigned,e);case 4:return St(Bt.fourDigitsSigned,e);default:return St(new RegExp("^-?\\d{1,"+r+"}"),e)}}function my(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Sx(r,e){const t=e>0,n=t?e:1-e;let s;if(n<=50)s=r||100;else{const o=n+50,c=Math.trunc(o/100)*100,f=r>=o%100;s=r+c-(f?100:0)}return t?s:1-s}function Ax(r){return r%400===0||r%4===0&&r%100!==0}class vO extends it{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const s=o=>({year:o,isTwoDigitYear:t==="yy"});switch(t){case"y":return Ft(Ot(4,e),s);case"yo":return Ft(n.ordinalNumber(e,{unit:"year"}),s);default:return Ft(Ot(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const s=e.getFullYear();if(n.isTwoDigitYear){const c=Sx(n.year,s);return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}const o=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class _O extends it{priority=130;parse(e,t,n){const s=o=>({year:o,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Ft(Ot(4,e),s);case"Yo":return Ft(n.ordinalNumber(e,{unit:"year"}),s);default:return Ft(Ot(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,s){const o=py(e,s);if(n.isTwoDigitYear){const f=Sx(n.year,o);return e.setFullYear(f,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),Ha(e,s)}const c=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(c,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),Ha(e,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class bO extends it{priority=130;parse(e,t){return Mf(t==="R"?4:t.length,e)}set(e,t,n){const s=dt(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Xo(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class wO extends it{priority=130;parse(e,t){return Mf(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class EO extends it{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return Ot(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class TO extends it{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return Ot(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class xO extends it{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const s=o=>o-1;switch(t){case"M":return Ft(St(Bt.month,e),s);case"MM":return Ft(Ot(2,e),s);case"Mo":return Ft(n.ordinalNumber(e,{unit:"month"}),s);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class DO extends it{priority=110;parse(e,t,n){const s=o=>o-1;switch(t){case"L":return Ft(St(Bt.month,e),s);case"LL":return Ft(Ot(2,e),s);case"Lo":return Ft(n.ordinalNumber(e,{unit:"month"}),s);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function SO(r,e,t){const n=Ee(r,t?.in),s=Ex(n,t)-e;return n.setDate(n.getDate()-s*7),Ee(n,t?.in)}class AO extends it{priority=100;parse(e,t,n){switch(t){case"w":return St(Bt.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Ot(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,s){return Ha(SO(e,n,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function RO(r,e,t){const n=Ee(r,t?.in),s=hy(n,t)-e;return n.setDate(n.getDate()-s*7),n}class CO extends it{priority=100;parse(e,t,n){switch(t){case"I":return St(Bt.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Ot(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Xo(RO(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const NO=[31,28,31,30,31,30,31,31,30,31,30,31],kO=[31,29,31,30,31,30,31,31,30,31,30,31];class MO extends it{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return St(Bt.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Ot(t.length,e)}}validate(e,t){const n=e.getFullYear(),s=Ax(n),o=e.getMonth();return s?t>=1&&t<=kO[o]:t>=1&&t<=NO[o]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class OO extends it{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return St(Bt.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Ot(t.length,e)}}validate(e,t){const n=e.getFullYear();return Ax(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function gy(r,e,t){const n=Ys(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ee(r,t?.in),c=o.getDay(),p=(e%7+7)%7,m=7-s,y=e<0||e>6?e-(c+m)%7:(p+m)%7-(c+m)%7;return Rr(o,y,t)}class IO extends it{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=gy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class PO extends it{priority=90;parse(e,t,n,s){const o=c=>{const f=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+f};switch(t){case"e":case"ee":return Ft(Ot(t.length,e),o);case"eo":return Ft(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=gy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class VO extends it{priority=90;parse(e,t,n,s){const o=c=>{const f=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+f};switch(t){case"c":case"cc":return Ft(Ot(t.length,e),o);case"co":return Ft(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,s){return e=gy(e,n,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function LO(r,e,t){const n=Ee(r,t?.in),s=cO(n,t),o=e-s;return Rr(n,o,t)}class jO extends it{priority=90;parse(e,t,n){const s=o=>o===0?7:o;switch(t){case"i":case"ii":return Ot(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Ft(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return Ft(n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Ft(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Ft(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=LO(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class UO extends it{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(my(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class BO extends it{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(my(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class FO extends it{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(my(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class zO extends it{priority=70;parse(e,t,n){switch(t){case"h":return St(Bt.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Ot(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const s=e.getHours()>=12;return s&&n<12?e.setHours(n+12,0,0,0):!s&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class YO extends it{priority=70;parse(e,t,n){switch(t){case"H":return St(Bt.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Ot(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class HO extends it{priority=70;parse(e,t,n){switch(t){case"K":return St(Bt.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Ot(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class qO extends it{priority=70;parse(e,t,n){switch(t){case"k":return St(Bt.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Ot(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const s=n<=24?n%24:n;return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class QO extends it{priority=60;parse(e,t,n){switch(t){case"m":return St(Bt.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Ot(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class GO extends it{priority=50;parse(e,t,n){switch(t){case"s":return St(Bt.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Ot(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class KO extends it{priority=30;parse(e,t){const n=s=>Math.trunc(s*Math.pow(10,-t.length+3));return Ft(Ot(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class WO extends it{priority=10;parse(e,t){switch(t){case"X":return Xr($r.basicOptionalMinutes,e);case"XX":return Xr($r.basic,e);case"XXXX":return Xr($r.basicOptionalSeconds,e);case"XXXXX":return Xr($r.extendedOptionalSeconds,e);case"XXX":default:return Xr($r.extended,e)}}set(e,t,n){return t.timestampIsSet?e:dt(e,e.getTime()-Sf(e)-n)}incompatibleTokens=["t","T","x"]}class $O extends it{priority=10;parse(e,t){switch(t){case"x":return Xr($r.basicOptionalMinutes,e);case"xx":return Xr($r.basic,e);case"xxxx":return Xr($r.basicOptionalSeconds,e);case"xxxxx":return Xr($r.extendedOptionalSeconds,e);case"xxx":default:return Xr($r.extended,e)}}set(e,t,n){return t.timestampIsSet?e:dt(e,e.getTime()-Sf(e)-n)}incompatibleTokens=["t","T","X"]}class XO extends it{priority=40;parse(e){return Dx(e)}set(e,t,n){return[dt(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class ZO extends it{priority=20;parse(e){return Dx(e)}set(e,t,n){return[dt(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const JO={G:new yO,y:new vO,Y:new _O,R:new bO,u:new wO,Q:new EO,q:new TO,M:new xO,L:new DO,w:new AO,I:new CO,d:new MO,D:new OO,E:new IO,e:new PO,c:new VO,i:new jO,a:new UO,b:new BO,B:new FO,h:new zO,H:new YO,K:new HO,k:new qO,m:new QO,s:new GO,S:new KO,X:new WO,x:new $O,t:new XO,T:new ZO},eI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nI=/^'([^]*?)'?$/,rI=/''/g,aI=/\S/,iI=/[a-zA-Z]/;function sI(r,e,t,n){const s=()=>dt(n?.in||t,NaN),o=uO(),c=n?.locale??o.locale??wx,f=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,p=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!e)return r?s():Ee(t,n?.in);const m={firstWeekContainsDate:f,weekStartsOn:p,locale:c},y=[new gO(n?.in,t)],b=e.match(tI).map(N=>{const C=N[0];if(C in cg){const G=cg[C];return G(N,c.formatLong)}return N}).join("").match(eI),w=[];for(let N of b){const C=N[0],G=JO[C];if(G){const{incompatibleTokens:X}=G;if(Array.isArray(X)){const re=w.find(he=>X.includes(he.token)||he.token===C);if(re)throw new RangeError(`The format string mustn't contain \`${re.fullToken}\` and \`${N}\` at the same time`)}else if(G.incompatibleTokens==="*"&&w.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);w.push({token:C,fullToken:N});const te=G.run(r,N,c.match,m);if(!te)return s();y.push(te.setter),r=te.rest}else{if(C.match(iI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(N==="''"?N="'":C==="'"&&(N=oI(N)),r.indexOf(N)===0)r=r.slice(N.length);else return s()}}if(r.length>0&&aI.test(r))return s();const D=y.map(N=>N.priority).sort((N,C)=>C-N).filter((N,C,G)=>G.indexOf(N)===C).map(N=>y.filter(C=>C.priority===N).sort((C,G)=>G.subPriority-C.subPriority)).map(N=>N[0]);let S=Ee(t,n?.in);if(isNaN(+S))return s();const P={};for(const N of D){if(!N.validate(S,m))return s();const C=N.set(S,P,m);Array.isArray(C)?(S=C[0],Object.assign(P,C[1])):S=C}return S}function oI(r){return r.match(nI)[1].replace(rI,"'")}function lI(r,e,t){const[n,s]=Qa(t?.in,r,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function uI(r,e,t){const[n,s]=Qa(t?.in,r,e);return+ug(n)==+ug(s)}function cI(r,e,t){const[n,s]=Qa(t?.in,r,e);return n.getFullYear()===s.getFullYear()}function $u(r,e,t){const n=+Ee(r,t?.in),[s,o]=[+Ee(e.start,t?.in),+Ee(e.end,t?.in)].sort((c,f)=>c-f);return n>=s&&n<=o}function dI(r,e,t){return Rr(r,-1,t)}function fI(r,e){const t=()=>dt(e?.in,NaN),s=gI(r);let o;if(s.date){const m=yI(s.date,2);o=vI(m.restDateString,m.year)}if(!o||isNaN(+o))return t();const c=+o;let f=0,p;if(s.time&&(f=_I(s.time),isNaN(f)))return t();if(s.timezone){if(p=bI(s.timezone),isNaN(p))return t()}else{const m=new Date(c+f),y=Ee(0,e?.in);return y.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),y.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),y}return Ee(c+f+p,e?.in)}const Yd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},hI=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pI=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,mI=/^([+-])(\d{2})(?::?(\d{2}))?$/;function gI(r){const e={},t=r.split(Yd.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Yd.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Yd.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const s=Yd.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function yI(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function vI(r,e){if(e===null)return new Date(NaN);const t=r.match(hI);if(!t)return new Date(NaN);const n=!!t[4],s=Su(t[1]),o=Su(t[2])-1,c=Su(t[3]),f=Su(t[4]),p=Su(t[5])-1;if(n)return DI(e,f,p)?wI(e,f,p):new Date(NaN);{const m=new Date(0);return!TI(e,o,c)||!xI(e,s)?new Date(NaN):(m.setUTCFullYear(e,o,Math.max(s,c)),m)}}function Su(r){return r?parseInt(r):1}function _I(r){const e=r.match(pI);if(!e)return NaN;const t=Nm(e[1]),n=Nm(e[2]),s=Nm(e[3]);return SI(t,n,s)?t*ih+n*ah+s*1e3:NaN}function Nm(r){return r&&parseFloat(r.replace(",","."))||0}function bI(r){if(r==="Z")return 0;const e=r.match(mI);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return AI(n,s)?t*(n*ih+s*ah):NaN}function wI(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const s=n.getUTCDay()||7,o=(e-1)*7+t+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const EI=[31,null,31,30,31,30,31,31,30,31,30,31];function Rx(r){return r%400===0||r%4===0&&r%100!==0}function TI(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(EI[e]||(Rx(r)?29:28))}function xI(r,e){return e>=1&&e<=(Rx(r)?366:365)}function DI(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function SI(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function AI(r,e){return e>=0&&e<=59}function gr(r,e,t){const n=Ee(r,t?.in),s=n.getFullYear(),o=n.getDate(),c=dt(r,0);c.setFullYear(s,e,15),c.setHours(0,0,0,0);const f=lO(c);return n.setMonth(e,Math.min(o,f)),n}function sf(r,e,t){const n=Ee(r,t?.in);return n.setHours(e),n}function of(r,e,t){const n=Ee(r,t?.in);return n.setMinutes(e),n}function Bo(r,e,t){const n=Ee(r,t?.in),s=Math.trunc(n.getMonth()/3)+1,o=e-s;return gr(n,n.getMonth()+o*3)}function lf(r,e,t){const n=Ee(r,t?.in);return n.setSeconds(e),n}function Kr(r,e,t){const n=Ee(r,t?.in);return isNaN(+n)?dt(r,NaN):(n.setFullYear(e),n)}function Cs(r,e,t){return Nr(r,-e,t)}function Cx(r,e,t){return fy(r,-1,t)}function mw(r,e,t){return Af(r,-1,t)}function Jo(r,e,t){return Pa(r,-e,t)}function oh(){return typeof window<"u"}function dl(r){return Nx(r)?(r.nodeName||"").toLowerCase():"#document"}function tr(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function sa(r){var e;return(e=(Nx(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function Nx(r){return oh()?r instanceof Node||r instanceof tr(r).Node:!1}function Ln(r){return oh()?r instanceof Element||r instanceof tr(r).Element:!1}function aa(r){return oh()?r instanceof HTMLElement||r instanceof tr(r).HTMLElement:!1}function gw(r){return!oh()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof tr(r).ShadowRoot}const RI=new Set(["inline","contents"]);function cc(r){const{overflow:e,overflowX:t,overflowY:n,display:s}=_r(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!RI.has(s)}const CI=new Set(["table","td","th"]);function NI(r){return CI.has(dl(r))}const kI=[":popover-open",":modal"];function lh(r){return kI.some(e=>{try{return r.matches(e)}catch{return!1}})}const MI=["transform","translate","scale","rotate","perspective"],OI=["transform","translate","scale","rotate","perspective","filter"],II=["paint","layout","strict","content"];function yy(r){const e=vy(),t=Ln(r)?_r(r):r;return MI.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||OI.some(n=>(t.willChange||"").includes(n))||II.some(n=>(t.contain||"").includes(n))}function PI(r){let e=Vi(r);for(;aa(e)&&!el(e);){if(yy(e))return e;if(lh(e))return null;e=Vi(e)}return null}function vy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const VI=new Set(["html","body","#document"]);function el(r){return VI.has(dl(r))}function _r(r){return tr(r).getComputedStyle(r)}function uh(r){return Ln(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Vi(r){if(dl(r)==="html")return r;const e=r.assignedSlot||r.parentNode||gw(r)&&r.host||sa(r);return gw(e)?e.host:e}function kx(r){const e=Vi(r);return el(e)?r.ownerDocument?r.ownerDocument.body:r.body:aa(e)&&cc(e)?e:kx(e)}function Xu(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=kx(r),o=s===((n=r.ownerDocument)==null?void 0:n.body),c=tr(s);if(o){const f=fg(c);return e.concat(c,c.visualViewport||[],cc(s)?s:[],f&&t?Xu(f):[])}return e.concat(s,Xu(s,[],t))}function fg(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const tl=Math.min,Ns=Math.max,Of=Math.round,Hd=Math.floor,ta=r=>({x:r,y:r}),LI={left:"right",right:"left",bottom:"top",top:"bottom"},jI={start:"end",end:"start"};function UI(r,e,t){return Ns(r,tl(e,t))}function ch(r,e){return typeof r=="function"?r(e):r}function nl(r){return r.split("-")[0]}function dc(r){return r.split("-")[1]}function BI(r){return r==="x"?"y":"x"}function _y(r){return r==="y"?"height":"width"}const FI=new Set(["top","bottom"]);function Ts(r){return FI.has(nl(r))?"y":"x"}function by(r){return BI(Ts(r))}function zI(r,e,t){t===void 0&&(t=!1);const n=dc(r),s=by(r),o=_y(s);let c=s==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=If(c)),[c,If(c)]}function YI(r){const e=If(r);return[hg(r),e,hg(e)]}function hg(r){return r.replace(/start|end/g,e=>jI[e])}const yw=["left","right"],vw=["right","left"],HI=["top","bottom"],qI=["bottom","top"];function QI(r,e,t){switch(r){case"top":case"bottom":return t?e?vw:yw:e?yw:vw;case"left":case"right":return e?HI:qI;default:return[]}}function GI(r,e,t,n){const s=dc(r);let o=QI(nl(r),t==="start",n);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(hg)))),o}function If(r){return r.replace(/left|right|bottom|top/g,e=>LI[e])}function KI(r){return{top:0,right:0,bottom:0,left:0,...r}}function Mx(r){return typeof r!="number"?KI(r):{top:r,right:r,bottom:r,left:r}}function Pf(r){const{x:e,y:t,width:n,height:s}=r;return{width:n,height:s,top:t,left:e,right:e+n,bottom:t+s,x:e,y:t}}var WI=typeof document<"u",$I=function(){},Vf=WI?L.useLayoutEffect:$I;const XI={...Qw},ZI=XI.useInsertionEffect,JI=ZI||(r=>r());function eP(r){const e=L.useRef(()=>{});return JI(()=>{e.current=r}),L.useCallback(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function _w(r,e,t){let{reference:n,floating:s}=r;const o=Ts(e),c=by(e),f=_y(c),p=nl(e),m=o==="y",y=n.x+n.width/2-s.width/2,b=n.y+n.height/2-s.height/2,w=n[f]/2-s[f]/2;let D;switch(p){case"top":D={x:y,y:n.y-s.height};break;case"bottom":D={x:y,y:n.y+n.height};break;case"right":D={x:n.x+n.width,y:b};break;case"left":D={x:n.x-s.width,y:b};break;default:D={x:n.x,y:n.y}}switch(dc(e)){case"start":D[c]-=w*(t&&m?-1:1);break;case"end":D[c]+=w*(t&&m?-1:1);break}return D}const tP=async(r,e,t)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:c}=t,f=o.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:r,floating:e,strategy:s}),{x:y,y:b}=_w(m,n,p),w=n,D={},S=0;for(let P=0;P<f.length;P++){const{name:N,fn:C}=f[P],{x:G,y:X,data:te,reset:re}=await C({x:y,y:b,initialPlacement:n,placement:w,strategy:s,middlewareData:D,rects:m,platform:c,elements:{reference:r,floating:e}});y=G??y,b=X??b,D={...D,[N]:{...D[N],...te}},re&&S<=50&&(S++,typeof re=="object"&&(re.placement&&(w=re.placement),re.rects&&(m=re.rects===!0?await c.getElementRects({reference:r,floating:e,strategy:s}):re.rects),{x:y,y:b}=_w(m,w,p)),P=-1)}return{x:y,y:b,placement:w,strategy:s,middlewareData:D}};async function nP(r,e){var t;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:c,elements:f,strategy:p}=r,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:b="floating",altBoundary:w=!1,padding:D=0}=ch(e,r),S=Mx(D),N=f[w?b==="floating"?"reference":"floating":b],C=Pf(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(N)))==null||t?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(f.floating)),boundary:m,rootBoundary:y,strategy:p})),G=b==="floating"?{x:n,y:s,width:c.floating.width,height:c.floating.height}:c.reference,X=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f.floating)),te=await(o.isElement==null?void 0:o.isElement(X))?await(o.getScale==null?void 0:o.getScale(X))||{x:1,y:1}:{x:1,y:1},re=Pf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:G,offsetParent:X,strategy:p}):G);return{top:(C.top-re.top+S.top)/te.y,bottom:(re.bottom-C.bottom+S.bottom)/te.y,left:(C.left-re.left+S.left)/te.x,right:(re.right-C.right+S.right)/te.x}}const rP=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:s,rects:o,platform:c,elements:f,middlewareData:p}=e,{element:m,padding:y=0}=ch(r,e)||{};if(m==null)return{};const b=Mx(y),w={x:t,y:n},D=by(s),S=_y(D),P=await c.getDimensions(m),N=D==="y",C=N?"top":"left",G=N?"bottom":"right",X=N?"clientHeight":"clientWidth",te=o.reference[S]+o.reference[D]-w[D]-o.floating[S],re=w[D]-o.reference[D],he=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let I=he?he[X]:0;(!I||!await(c.isElement==null?void 0:c.isElement(he)))&&(I=f.floating[X]||o.floating[S]);const R=te/2-re/2,k=I/2-P[S]/2-1,V=tl(b[C],k),U=tl(b[G],k),B=V,M=I-P[S]-U,Ae=I/2-P[S]/2+R,ve=UI(B,Ae,M),Y=!p.arrow&&dc(s)!=null&&Ae!==ve&&o.reference[S]/2-(Ae<B?V:U)-P[S]/2<0,Q=Y?Ae<B?Ae-B:Ae-M:0;return{[D]:w[D]+Q,data:{[D]:ve,centerOffset:Ae-ve-Q,...Y&&{alignmentOffset:Q}},reset:Y}}}),aP=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:s,middlewareData:o,rects:c,initialPlacement:f,platform:p,elements:m}=e,{mainAxis:y=!0,crossAxis:b=!0,fallbackPlacements:w,fallbackStrategy:D="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:P=!0,...N}=ch(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const C=nl(s),G=Ts(f),X=nl(f)===f,te=await(p.isRTL==null?void 0:p.isRTL(m.floating)),re=w||(X||!P?[If(f)]:YI(f)),he=S!=="none";!w&&he&&re.push(...GI(f,P,S,te));const I=[f,...re],R=await nP(e,N),k=[];let V=((n=o.flip)==null?void 0:n.overflows)||[];if(y&&k.push(R[C]),b){const Ae=zI(s,c,te);k.push(R[Ae[0]],R[Ae[1]])}if(V=[...V,{placement:s,overflows:k}],!k.every(Ae=>Ae<=0)){var U,B;const Ae=(((U=o.flip)==null?void 0:U.index)||0)+1,ve=I[Ae];if(ve&&(!(b==="alignment"?G!==Ts(ve):!1)||V.every(ue=>ue.overflows[0]>0&&Ts(ue.placement)===G)))return{data:{index:Ae,overflows:V},reset:{placement:ve}};let Y=(B=V.filter(Q=>Q.overflows[0]<=0).sort((Q,ue)=>Q.overflows[1]-ue.overflows[1])[0])==null?void 0:B.placement;if(!Y)switch(D){case"bestFit":{var M;const Q=(M=V.filter(ue=>{if(he){const ne=Ts(ue.placement);return ne===G||ne==="y"}return!0}).map(ue=>[ue.placement,ue.overflows.filter(ne=>ne>0).reduce((ne,O)=>ne+O,0)]).sort((ue,ne)=>ue[1]-ne[1])[0])==null?void 0:M[0];Q&&(Y=Q);break}case"initialPlacement":Y=f;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}},iP=new Set(["left","top"]);async function sP(r,e){const{placement:t,platform:n,elements:s}=r,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),c=nl(t),f=dc(t),p=Ts(t)==="y",m=iP.has(c)?-1:1,y=o&&p?-1:1,b=ch(e,r);let{mainAxis:w,crossAxis:D,alignmentAxis:S}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof S=="number"&&(D=f==="end"?S*-1:S),p?{x:D*y,y:w*m}:{x:w*m,y:D*y}}const oP=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:s,y:o,placement:c,middlewareData:f}=e,p=await sP(e,r);return c===((t=f.offset)==null?void 0:t.placement)&&(n=f.arrow)!=null&&n.alignmentOffset?{}:{x:s+p.x,y:o+p.y,data:{...p,placement:c}}}}};function Ox(r){const e=_r(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=aa(r),o=s?r.offsetWidth:t,c=s?r.offsetHeight:n,f=Of(t)!==o||Of(n)!==c;return f&&(t=o,n=c),{width:t,height:n,$:f}}function wy(r){return Ln(r)?r:r.contextElement}function zo(r){const e=wy(r);if(!aa(e))return ta(1);const t=e.getBoundingClientRect(),{width:n,height:s,$:o}=Ox(e);let c=(o?Of(t.width):t.width)/n,f=(o?Of(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const lP=ta(0);function Ix(r){const e=tr(r);return!vy()||!e.visualViewport?lP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uP(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==tr(r)?!1:e}function js(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=r.getBoundingClientRect(),o=wy(r);let c=ta(1);e&&(n?Ln(n)&&(c=zo(n)):c=zo(r));const f=uP(o,t,n)?Ix(o):ta(0);let p=(s.left+f.x)/c.x,m=(s.top+f.y)/c.y,y=s.width/c.x,b=s.height/c.y;if(o){const w=tr(o),D=n&&Ln(n)?tr(n):n;let S=w,P=fg(S);for(;P&&n&&D!==S;){const N=zo(P),C=P.getBoundingClientRect(),G=_r(P),X=C.left+(P.clientLeft+parseFloat(G.paddingLeft))*N.x,te=C.top+(P.clientTop+parseFloat(G.paddingTop))*N.y;p*=N.x,m*=N.y,y*=N.x,b*=N.y,p+=X,m+=te,S=tr(P),P=fg(S)}}return Pf({width:y,height:b,x:p,y:m})}function Ey(r,e){const t=uh(r).scrollLeft;return e?e.left+t:js(sa(r)).left+t}function Px(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),s=n.left+e.scrollLeft-(t?0:Ey(r,n)),o=n.top+e.scrollTop;return{x:s,y:o}}function cP(r){let{elements:e,rect:t,offsetParent:n,strategy:s}=r;const o=s==="fixed",c=sa(n),f=e?lh(e.floating):!1;if(n===c||f&&o)return t;let p={scrollLeft:0,scrollTop:0},m=ta(1);const y=ta(0),b=aa(n);if((b||!b&&!o)&&((dl(n)!=="body"||cc(c))&&(p=uh(n)),aa(n))){const D=js(n);m=zo(n),y.x=D.x+n.clientLeft,y.y=D.y+n.clientTop}const w=c&&!b&&!o?Px(c,p,!0):ta(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-p.scrollLeft*m.x+y.x+w.x,y:t.y*m.y-p.scrollTop*m.y+y.y+w.y}}function dP(r){return Array.from(r.getClientRects())}function fP(r){const e=sa(r),t=uh(r),n=r.ownerDocument.body,s=Ns(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Ns(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-t.scrollLeft+Ey(r);const f=-t.scrollTop;return _r(n).direction==="rtl"&&(c+=Ns(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:c,y:f}}function hP(r,e){const t=tr(r),n=sa(r),s=t.visualViewport;let o=n.clientWidth,c=n.clientHeight,f=0,p=0;if(s){o=s.width,c=s.height;const m=vy();(!m||m&&e==="fixed")&&(f=s.offsetLeft,p=s.offsetTop)}return{width:o,height:c,x:f,y:p}}const pP=new Set(["absolute","fixed"]);function mP(r,e){const t=js(r,!0,e==="fixed"),n=t.top+r.clientTop,s=t.left+r.clientLeft,o=aa(r)?zo(r):ta(1),c=r.clientWidth*o.x,f=r.clientHeight*o.y,p=s*o.x,m=n*o.y;return{width:c,height:f,x:p,y:m}}function bw(r,e,t){let n;if(e==="viewport")n=hP(r,t);else if(e==="document")n=fP(sa(r));else if(Ln(e))n=mP(e,t);else{const s=Ix(r);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Pf(n)}function Vx(r,e){const t=Vi(r);return t===e||!Ln(t)||el(t)?!1:_r(t).position==="fixed"||Vx(t,e)}function gP(r,e){const t=e.get(r);if(t)return t;let n=Xu(r,[],!1).filter(f=>Ln(f)&&dl(f)!=="body"),s=null;const o=_r(r).position==="fixed";let c=o?Vi(r):r;for(;Ln(c)&&!el(c);){const f=_r(c),p=yy(c);!p&&f.position==="fixed"&&(s=null),(o?!p&&!s:!p&&f.position==="static"&&!!s&&pP.has(s.position)||cc(c)&&!p&&Vx(r,c))?n=n.filter(y=>y!==c):s=f,c=Vi(c)}return e.set(r,n),n}function yP(r){let{element:e,boundary:t,rootBoundary:n,strategy:s}=r;const c=[...t==="clippingAncestors"?lh(e)?[]:gP(e,this._c):[].concat(t),n],f=c[0],p=c.reduce((m,y)=>{const b=bw(e,y,s);return m.top=Ns(b.top,m.top),m.right=tl(b.right,m.right),m.bottom=tl(b.bottom,m.bottom),m.left=Ns(b.left,m.left),m},bw(e,f,s));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function vP(r){const{width:e,height:t}=Ox(r);return{width:e,height:t}}function _P(r,e,t){const n=aa(e),s=sa(e),o=t==="fixed",c=js(r,!0,o,e);let f={scrollLeft:0,scrollTop:0};const p=ta(0);function m(){p.x=Ey(s)}if(n||!n&&!o)if((dl(e)!=="body"||cc(s))&&(f=uh(e)),n){const D=js(e,!0,o,e);p.x=D.x+e.clientLeft,p.y=D.y+e.clientTop}else s&&m();o&&!n&&s&&m();const y=s&&!n&&!o?Px(s,f):ta(0),b=c.left+f.scrollLeft-p.x-y.x,w=c.top+f.scrollTop-p.y-y.y;return{x:b,y:w,width:c.width,height:c.height}}function km(r){return _r(r).position==="static"}function ww(r,e){if(!aa(r)||_r(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return sa(r)===t&&(t=t.ownerDocument.body),t}function Lx(r,e){const t=tr(r);if(lh(r))return t;if(!aa(r)){let s=Vi(r);for(;s&&!el(s);){if(Ln(s)&&!km(s))return s;s=Vi(s)}return t}let n=ww(r,e);for(;n&&NI(n)&&km(n);)n=ww(n,e);return n&&el(n)&&km(n)&&!yy(n)?t:n||PI(r)||t}const bP=async function(r){const e=this.getOffsetParent||Lx,t=this.getDimensions,n=await t(r.floating);return{reference:_P(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function wP(r){return _r(r).direction==="rtl"}const EP={convertOffsetParentRelativeRectToViewportRelativeRect:cP,getDocumentElement:sa,getClippingRect:yP,getOffsetParent:Lx,getElementRects:bP,getClientRects:dP,getDimensions:vP,getScale:zo,isElement:Ln,isRTL:wP};function jx(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function TP(r,e){let t=null,n;const s=sa(r);function o(){var f;clearTimeout(n),(f=t)==null||f.disconnect(),t=null}function c(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),o();const m=r.getBoundingClientRect(),{left:y,top:b,width:w,height:D}=m;if(f||e(),!w||!D)return;const S=Hd(b),P=Hd(s.clientWidth-(y+w)),N=Hd(s.clientHeight-(b+D)),C=Hd(y),X={rootMargin:-S+"px "+-P+"px "+-N+"px "+-C+"px",threshold:Ns(0,tl(1,p))||1};let te=!0;function re(he){const I=he[0].intersectionRatio;if(I!==p){if(!te)return c();I?c(!1,I):n=setTimeout(()=>{c(!1,1e-7)},1e3)}I===1&&!jx(m,r.getBoundingClientRect())&&c(),te=!1}try{t=new IntersectionObserver(re,{...X,root:s.ownerDocument})}catch{t=new IntersectionObserver(re,X)}t.observe(r)}return c(!0),o}function xP(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,m=wy(r),y=s||o?[...m?Xu(m):[],...Xu(e)]:[];y.forEach(C=>{s&&C.addEventListener("scroll",t,{passive:!0}),o&&C.addEventListener("resize",t)});const b=m&&f?TP(m,t):null;let w=-1,D=null;c&&(D=new ResizeObserver(C=>{let[G]=C;G&&G.target===m&&D&&(D.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var X;(X=D)==null||X.observe(e)})),t()}),m&&!p&&D.observe(m),D.observe(e));let S,P=p?js(r):null;p&&N();function N(){const C=js(r);P&&!jx(P,C)&&t(),P=C,S=requestAnimationFrame(N)}return t(),()=>{var C;y.forEach(G=>{s&&G.removeEventListener("scroll",t),o&&G.removeEventListener("resize",t)}),b?.(),(C=D)==null||C.disconnect(),D=null,p&&cancelAnimationFrame(S)}}const DP=oP,SP=aP,Ew=rP,AP=(r,e,t)=>{const n=new Map,s={platform:EP,...t},o={...s.platform,_c:n};return tP(r,e,{...s,platform:o})};var RP=typeof document<"u",CP=function(){},uf=RP?L.useLayoutEffect:CP;function Lf(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,s;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Lf(r[n],e[n]))return!1;return!0}if(s=Object.keys(r),t=s.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=t;n--!==0;){const o=s[n];if(!(o==="_owner"&&r.$$typeof)&&!Lf(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function Ux(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function Tw(r,e){const t=Ux(r);return Math.round(e*t)/t}function Mm(r){const e=L.useRef(r);return uf(()=>{e.current=r}),e}function NP(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:c}={},transform:f=!0,whileElementsMounted:p,open:m}=r,[y,b]=L.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,D]=L.useState(n);Lf(w,n)||D(n);const[S,P]=L.useState(null),[N,C]=L.useState(null),G=L.useCallback(ue=>{ue!==he.current&&(he.current=ue,P(ue))},[]),X=L.useCallback(ue=>{ue!==I.current&&(I.current=ue,C(ue))},[]),te=o||S,re=c||N,he=L.useRef(null),I=L.useRef(null),R=L.useRef(y),k=p!=null,V=Mm(p),U=Mm(s),B=Mm(m),M=L.useCallback(()=>{if(!he.current||!I.current)return;const ue={placement:e,strategy:t,middleware:w};U.current&&(ue.platform=U.current),AP(he.current,I.current,ue).then(ne=>{const O={...ne,isPositioned:B.current!==!1};Ae.current&&!Lf(R.current,O)&&(R.current=O,cE.flushSync(()=>{b(O)}))})},[w,e,t,U,B]);uf(()=>{m===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,b(ue=>({...ue,isPositioned:!1})))},[m]);const Ae=L.useRef(!1);uf(()=>(Ae.current=!0,()=>{Ae.current=!1}),[]),uf(()=>{if(te&&(he.current=te),re&&(I.current=re),te&&re){if(V.current)return V.current(te,re,M);M()}},[te,re,M,V,k]);const ve=L.useMemo(()=>({reference:he,floating:I,setReference:G,setFloating:X}),[G,X]),Y=L.useMemo(()=>({reference:te,floating:re}),[te,re]),Q=L.useMemo(()=>{const ue={position:t,left:0,top:0};if(!Y.floating)return ue;const ne=Tw(Y.floating,y.x),O=Tw(Y.floating,y.y);return f?{...ue,transform:"translate("+ne+"px, "+O+"px)",...Ux(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:O}},[t,f,Y.floating,y.x,y.y]);return L.useMemo(()=>({...y,update:M,refs:ve,elements:Y,floatingStyles:Q}),[y,M,ve,Y,Q])}const kP=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:s}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?Ew({element:n.current,padding:s}).fn(t):{}:n?Ew({element:n,padding:s}).fn(t):{}}}},MP=(r,e)=>({...DP(r),options:[r,e]}),OP=(r,e)=>({...SP(r),options:[r,e]}),IP=(r,e)=>({...kP(r),options:[r,e]}),PP={...Qw};let xw=!1,VP=0;const Dw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+VP++;function LP(){const[r,e]=L.useState(()=>xw?Dw():void 0);return Vf(()=>{r==null&&e(Dw())},[]),L.useEffect(()=>{xw=!0},[]),r}const jP=PP.useId,Bx=jP||LP,UP=L.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:o,shift:c}},width:f=14,height:p=7,tipRadius:m=0,strokeWidth:y=0,staticOffset:b,stroke:w,d:D,style:{transform:S,...P}={},...N}=e,C=Bx(),[G,X]=L.useState(!1);if(Vf(()=>{if(!s)return;_r(s).direction==="rtl"&&X(!0)},[s]),!s)return null;const[te,re]=n.split("-"),he=te==="top"||te==="bottom";let I=b;(he&&c!=null&&c.x||!he&&c!=null&&c.y)&&(I=null);const R=y*2,k=R/2,V=f/2*(m/-8+1),U=p/2*m/4,B=!!D,M=I&&re==="end"?"bottom":"top";let Ae=I&&re==="end"?"right":"left";I&&G&&(Ae=re==="end"?"left":"right");const ve=o?.x!=null?I||o.x:"",Y=o?.y!=null?I||o.y:"",Q=D||"M0,0"+(" H"+f)+(" L"+(f-V)+","+(p-U))+(" Q"+f/2+","+p+" "+V+","+(p-U))+" Z",ue={top:B?"rotate(180deg)":"",left:B?"rotate(90deg)":"rotate(-90deg)",bottom:B?"":"rotate(180deg)",right:B?"rotate(-90deg)":"rotate(90deg)"}[te];return _.jsxs("svg",{...N,"aria-hidden":!0,ref:t,width:B?f:f+R,height:f,viewBox:"0 0 "+f+" "+(p>f?p:f),style:{position:"absolute",pointerEvents:"none",[Ae]:ve,[M]:Y,[te]:he||B?"100%":"calc(100% - "+R/2+"px)",transform:[ue,S].filter(ne=>!!ne).join(" "),...P},children:[R>0&&_.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:w,strokeWidth:R+(D?0:1),d:Q}),_.jsx("path",{stroke:R&&!D?N.fill:"none",d:Q}),_.jsx("clipPath",{id:C,children:_.jsx("rect",{x:-k,y:k*(B?-1:1),width:f+R,height:f})})]})});function BP(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(s=>s(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const FP=L.createContext(null),zP=L.createContext(null),YP=()=>{var r;return((r=L.useContext(FP))==null?void 0:r.id)||null},HP=()=>L.useContext(zP);function qP(r){const{open:e=!1,onOpenChange:t,elements:n}=r,s=Bx(),o=L.useRef({}),[c]=L.useState(()=>BP()),f=YP()!=null,[p,m]=L.useState(n.reference),y=eP((D,S,P)=>{o.current.openEvent=D?S:void 0,c.emit("openchange",{open:D,event:S,reason:P,nested:f}),t?.(D,S,P)}),b=L.useMemo(()=>({setPositionReference:m}),[]),w=L.useMemo(()=>({reference:p||n.reference||null,floating:n.floating||null,domReference:n.reference}),[p,n.reference,n.floating]);return L.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:w,events:c,floatingId:s,refs:b}),[e,y,w,c,s,b])}function QP(r){r===void 0&&(r={});const{nodeId:e}=r,t=qP({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,s=n.elements,[o,c]=L.useState(null),[f,p]=L.useState(null),y=s?.domReference||o,b=L.useRef(null),w=HP();Vf(()=>{y&&(b.current=y)},[y]);const D=NP({...r,elements:{...s,...f&&{reference:f}}}),S=L.useCallback(X=>{const te=Ln(X)?{getBoundingClientRect:()=>X.getBoundingClientRect(),getClientRects:()=>X.getClientRects(),contextElement:X}:X;p(te),D.refs.setReference(te)},[D.refs]),P=L.useCallback(X=>{(Ln(X)||X===null)&&(b.current=X,c(X)),(Ln(D.refs.reference.current)||D.refs.reference.current===null||X!==null&&!Ln(X))&&D.refs.setReference(X)},[D.refs]),N=L.useMemo(()=>({...D.refs,setReference:P,setPositionReference:S,domReference:b}),[D.refs,P,S]),C=L.useMemo(()=>({...D.elements,domReference:y}),[D.elements,y]),G=L.useMemo(()=>({...D,...n,refs:N,elements:C,nodeId:e}),[D,N,C,e,n]);return Vf(()=>{n.dataRef.current.floatingContext=G;const X=w?.nodesRef.current.find(te=>te.id===e);X&&(X.context=G)}),L.useMemo(()=>({...D,context:G,refs:N,elements:C}),[D,N,C,G])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var pg=function(e,t){return pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},pg(e,t)};function cn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pg(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ze=function(){return Ze=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Ze.apply(this,arguments)};function Jr(r,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var GP=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,s=n===void 0?!1:n,o=r.className,c=r.children,f=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return ie.createElement("div",{className:o,role:"dialog","aria-label":f,"aria-modal":"true"},c)},KP=function(r,e){var t=L.useRef(null),n=L.useRef(r);n.current=r;var s=L.useCallback(function(o){var c,f=o.composed&&o.composedPath&&o.composedPath().find(function(p){return p instanceof Node})||o.target;t.current&&!t.current.contains(f)&&(e&&f instanceof HTMLElement&&f.classList.contains(e)||(c=n.current)===null||c===void 0||c.call(n,o))},[e]);return L.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},dh=function(r){var e=r.children,t=r.onClickOutside,n=r.className,s=r.containerRef,o=r.style,c=r.ignoreClass,f=KP(t,c);return ie.createElement("div",{className:n,style:o,ref:function(p){f.current=p,s&&(s.current=p)}},e)},ge;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(ge||(ge={}));function Fx(){var r=typeof window<"u"?window:globalThis;return r}var fc=12;function ot(r){if(r==null)return new Date;var e=typeof r=="string"?fI(r):Ee(r);return fh(e)?e:new Date}function Om(r,e,t,n,s){s===void 0&&(s=ot());for(var o=rl(t)||rl(Ty()),c=Array.isArray(e)?e:[e],f=0,p=c;f<p.length;f++){var m=p[f],y=sI(r,m,s,{locale:o});if(fh(y)&&(!n||r===xt(y,m,t)))return y}return null}function fh(r,e){return Rf(r)&&!Ls(r,new Date("1/1/1800"))}function xt(r,e,t){if(t==="en")return hw(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?rl(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||rl(Ty()),hw(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function mr(r,e){var t=e.dateFormat,n=e.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return r&&xt(r,s,n)||""}var zx=" - ";function WP(r,e,t){if(!r)return"";var n=mr(r,t),s=e?mr(e,t):"";return"".concat(n).concat(zx).concat(s)}function $P(r,e){if(!r?.length)return"";var t=r[0]?mr(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=mr(r[1],e);return"".concat(t,", ").concat(n)}var s=r.length-1;return"".concat(t," (+").concat(s,")")}function Im(r,e){var t=e.hour,n=t===void 0?0:t,s=e.minute,o=s===void 0?0:s,c=e.second,f=c===void 0?0:c;return sf(of(lf(r,f),o),n)}function XP(r){return hy(r)}function ZP(r,e){return xt(r,"ddd",e)}function cf(r){return Vs(r)}function Ni(r,e,t){var n=rl(e||Ty());return Ha(r,{locale:n,weekStartsOn:t})}function Ua(r){return _x(r)}function Mu(r){return sh(r)}function Sw(r){return ug(r)}function Aw(){return Vs(ot())}function Rw(r){return yx(r)}function JP(r){return f2(r)}function e4(r){return vx(r)}function Wr(r,e){return r&&e?cI(r,e):!r&&!e}function Pn(r,e){return r&&e?lI(r,e):!r&&!e}function jf(r,e){return r&&e?uI(r,e):!r&&!e}function $e(r,e){return r&&e?c2(r,e):!r&&!e}function xs(r,e){return r&&e?dO(r,e):!r&&!e}function Ou(r,e,t){var n,s=Vs(e),o=yx(t);try{n=$u(r,{start:s,end:o})}catch{n=!1}return n}function Ty(){var r=Fx();return r.__localeId__}function rl(r){if(typeof r=="string"){var e=Fx();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function t4(r,e,t){return e(xt(r,"EEEE",t))}function n4(r,e){return xt(r,"EEEEEE",e)}function r4(r,e){return xt(r,"EEE",e)}function xy(r,e){return xt(gr(ot(),r),"LLLL",e)}function Yx(r,e){return xt(gr(ot(),r),"LLL",e)}function a4(r,e){return xt(Bo(ot(),r),"QQQ",e)}function yr(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.excludeDateIntervals,f=t.includeDates,p=t.includeDateIntervals,m=t.filterDate;return hc(r,{minDate:n,maxDate:s})||o&&o.some(function(y){return y instanceof Date?$e(r,y):$e(r,y.date)})||c&&c.some(function(y){var b=y.start,w=y.end;return $u(r,{start:b,end:w})})||f&&!f.some(function(y){return $e(r,y)})||p&&!p.some(function(y){var b=y.start,w=y.end;return $u(r,{start:b,end:w})})||m&&!m(ot(r))||!1}function Dy(r,e){var t=e===void 0?{}:e,n=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(o){var c=o.start,f=o.end;return $u(r,{start:c,end:f})}):n&&n.some(function(o){var c;return o instanceof Date?$e(r,o):$e(r,(c=o.date)!==null&&c!==void 0?c:new Date)})||!1}function Hx(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,f=t.filterDate;return hc(r,{minDate:n?_x(n):void 0,maxDate:s?vx(s):void 0})||o?.some(function(p){return Pn(r,p instanceof Date?p:p.date)})||c&&!c.some(function(p){return Pn(r,p)})||f&&!f(ot(r))||!1}function qd(r,e,t,n){var s=Le(r),o=An(r),c=Le(e),f=An(e),p=Le(n);return s===c&&s===p?o<=t&&t<=f:s<c?p===s&&o<=t||p===c&&f>=t||p<c&&p>s:!1}function i4(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates;return hc(r,{minDate:n,maxDate:s})||o&&o.some(function(f){return Pn(f instanceof Date?f:f.date,r)})||c&&!c.some(function(f){return Pn(f,r)})||!1}function Qd(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,f=t.filterDate;return hc(r,{minDate:n,maxDate:s})||o?.some(function(p){return jf(r,p instanceof Date?p:p.date)})||c&&!c.some(function(p){return jf(r,p)})||f&&!f(ot(r))||!1}function Gd(r,e,t){if(!e||!t||!Rf(e)||!Rf(t))return!1;var n=Le(e),s=Le(t);return n<=r&&s>=r}function df(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,f=t.filterDate,p=new Date(r,0,1);return hc(p,{minDate:n?sh(n):void 0,maxDate:s?bx(s):void 0})||o?.some(function(m){return Wr(p,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return Wr(p,m)})||f&&!f(ot(p))||!1}function Kd(r,e,t,n){var s=Le(r),o=Rs(r),c=Le(e),f=Rs(e),p=Le(n);return s===c&&s===p?o<=t&&t<=f:s<c?p===s&&o<=t||p===c&&f>=t||p<c&&p>s:!1}function hc(r,e){var t,n=e===void 0?{}:e,s=n.minDate,o=n.maxDate;return(t=s&&Zo(r,s)<0||o&&Zo(r,o)>0)!==null&&t!==void 0?t:!1}function Cw(r,e){return e.some(function(t){return La(t)===La(r)&&ja(t)===ja(r)&&Ci(t)===Ci(r)})}function Nw(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,s=t.includeTimes,o=t.filterTime;return n&&Cw(r,n)||s&&!Cw(r,s)||o&&!o(r)||!1}function kw(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var s=ot();s=sf(s,La(r)),s=of(s,ja(r)),s=lf(s,Ci(r));var o=ot();o=sf(o,La(t)),o=of(o,ja(t)),o=lf(o,Ci(t));var c=ot();c=sf(c,La(n)),c=of(c,ja(n)),c=lf(c,Ci(n));var f;try{f=!$u(s,{start:o,end:c})}catch{f=!1}return f}function Mw(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=Cs(r,1);return n&&Cf(n,o)>0||s&&s.every(function(c){return Cf(c,o)>0})||!1}function Ow(r,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=Nr(r,1);return n&&Cf(o,n)>0||s&&s.every(function(c){return Cf(o,c)>0})||!1}function s4(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=sh(r),c=Cx(o);return n&&Nf(n,c)>0||s&&s.every(function(f){return Nf(f,c)>0})||!1}function o4(r,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=bx(r),c=fy(o,1);return n&&Nf(c,n)>0||s&&s.every(function(f){return Nf(c,f)>0})||!1}function Iw(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.includeDates,o=Jo(r,1);return n&&kf(n,o)>0||s&&s.every(function(c){return kf(c,o)>0})||!1}function l4(r,e){var t=e===void 0?{}:e,n=t.minDate,s=t.yearItemNumber,o=s===void 0?fc:s,c=Mu(Jo(r,o)),f=xi(c,o).endPeriod,p=n&&Le(n);return p&&p>f||!1}function Pw(r,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.includeDates,o=Pa(r,1);return n&&kf(o,n)>0||s&&s.every(function(c){return kf(o,c)>0})||!1}function u4(r,e){var t=e===void 0?{}:e,n=t.maxDate,s=t.yearItemNumber,o=s===void 0?fc:s,c=Pa(r,o),f=xi(c,o).startPeriod,p=n&&Le(n);return p&&p<f||!1}function qx(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(s){return Zo(s,e)>=0});return ow(n)}else return t?ow(t):e}function Qx(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(s){return Zo(s,e)<=0});return sw(n)}else return t?sw(t):e}function Vw(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,s=0,o=r.length;s<o;s++){var c=r[s];if(Va(c)){var f=xt(c,"MM.dd.yyyy"),p=n.get(f)||[];p.includes(e)||(p.push(e),n.set(f,p))}else if(typeof c=="object"){var m=Object.keys(c),y=(t=m[0])!==null&&t!==void 0?t:"",b=c[y];if(typeof y=="string"&&Array.isArray(b))for(var w=0,D=b.length;w<D;w++){var S=b[w];if(S){var f=xt(S,"MM.dd.yyyy"),p=n.get(f)||[];p.includes(y)||(p.push(y),n.set(f,p))}}}}return n}function c4(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function d4(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var s=n.date,o=n.holidayName;if(Va(s)){var c=xt(s,"MM.dd.yyyy"),f=t.get(c)||{className:"",holidayNames:[]};if(!("className"in f&&f.className===e&&c4(f.holidayNames,[o]))){f.className=e;var p=f.holidayNames;f.holidayNames=p?Jr(Jr([],p,!0),[o],!1):[o],t.set(c,f)}}}),t}function f4(r,e,t,n,s){for(var o=s.length,c=[],f=0;f<o;f++){var p=r,m=s[f];m&&(p=s2(p,La(m)),p=lg(p,ja(m)),p=u2(p,Ci(m)));var y=lg(r,(t+1)*n);Pi(p,e)&&Ls(p,y)&&m!=null&&c.push(m)}return c}function Lw(r){return r<10?"0".concat(r):"".concat(r)}function xi(r,e){e===void 0&&(e=fc);var t=Math.ceil(Le(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function h4(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function jw(r){var e=r.getSeconds(),t=r.getMilliseconds();return Ee(r.getTime()-e*1e3-t)}function p4(r,e){return jw(r).getTime()===jw(e).getTime()}function Uw(r){if(!Va(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function Bw(r,e){if(!Va(r)||!Va(e))throw new Error("Invalid date received");var t=Uw(r),n=Uw(e);return Ls(t,n)}function Gx(r){return r.key===ge.Space}var m4=function(r){cn(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=ie.createRef(),n.onTimeChange=function(s){var o,c;n.setState({time:s});var f=n.props.date,p=f instanceof Date&&!isNaN(+f),m=p?f:new Date;if(s?.includes(":")){var y=s.split(":"),b=y[0],w=y[1];m.setHours(Number(b)),m.setMinutes(Number(w))}(c=(o=n.props).onChange)===null||c===void 0||c.call(o,m)},n.renderTimeInput=function(){var s=n.state.time,o=n.props,c=o.date,f=o.timeString,p=o.customTimeInput;return p?L.cloneElement(p,{date:c,value:s,onChange:n.onTimeChange}):ie.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:s,onChange:function(m){n.onTimeChange(m.target.value||f)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ie.createElement("div",{className:"react-datepicker__input-time-container"},ie.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ie.createElement("div",{className:"react-datepicker-time__input-container"},ie.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(L.Component),g4=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=L.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var s,o,c=n.key;c===ge.Space&&(n.preventDefault(),n.key=ge.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.isSameDay=function(n){return $e(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return t.isSameDayOrWeek(c)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),yr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return Dy(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return $e(t.props.day,Ni(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&$e(n,Ni(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,s=n.day,o=n.highlightDates;if(!o)return!1;var c=xt(s,"MM.dd.yyyy");return o.get(c)},t.getHolidaysClass=function(){var n,s=t.props,o=s.day,c=s.holidays;if(!c)return[void 0];var f=xt(o,"MM.dd.yyyy");return c.has(f)?[(n=c.get(f))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Ou(s,o,c)},t.isInSelectingRange=function(){var n,s=t.props,o=s.day,c=s.selectsStart,f=s.selectsEnd,p=s.selectsRange,m=s.selectsDisabledDaysInRange,y=s.startDate,b=s.endDate,w=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(c||f||p)||!w||!m&&t.isDisabled()?!1:c&&b&&(Ls(w,b)||xs(w,b))?Ou(o,w,b):f&&y&&(Pi(w,y)||xs(w,y))||p&&y&&!b&&(Pi(w,y)||xs(w,y))?Ou(o,y,w):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.startDate,f=s.selectsStart,p=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return f?$e(o,p):$e(o,c)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.endDate,f=s.selectsEnd,p=s.selectsRange,m=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return f||p?$e(o,m):$e(o,c)},t.isRangeStart=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:$e(o,s)},t.isRangeEnd=function(){var n=t.props,s=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:$e(c,s)},t.isWeekend=function(){var n=oO(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===An(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(An(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(ot())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var s=t.props.dayClassName?t.props.dayClassName(n):void 0;return _n("react-datepicker__day",s,"react-datepicker__day--"+ZP(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,s=n.day,o=n.ariaLabelPrefixWhenEnabled,c=o===void 0?"Choose":o,f=n.ariaLabelPrefixWhenDisabled,p=f===void 0?"Not available":f,m=t.isDisabled()||t.isExcluded()?p:c;return"".concat(m," ").concat(xt(s,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,s=n.day,o=n.holidays,c=o===void 0?new Map:o,f=n.excludeDates,p=xt(s,"MM.dd.yyyy"),m=[];return c.has(p)&&m.push.apply(m,c.get(p).holidayNames),t.isExcluded()&&m.push(f?.filter(function(y){return y instanceof Date?$e(y,s):$e(y?.date,s)}).map(function(y){if(!(y instanceof Date))return y?.message})),m.join(", ")},t.getTabIndex=function(){var n=t.props.selected,s=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&$e(s,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(pw(t.props.day),t.props.day):pw(t.props.day)},t.render=function(){return ie.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ie.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,s;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(L.Component),y4=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=L.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var s,o,c=n.key;c===ge.Space&&(n.preventDefault(),n.key=ge.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!$e(t.props.date,t.props.selected)&&$e(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||$e(t.props.date,t.props.selected)&&$e(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var s=!1;t.getTabIndex()===0&&!n?.isInputFocused&&$e(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,s=t.isWeekDisabled,o=t.ariaLabelPrefix,c=o===void 0?e.defaultProps.ariaLabelPrefix:o,f=t.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!f&&!s,"react-datepicker__week-number--selected":!!f&&$e(this.props.date,this.props.selected)};return ie.createElement("div",{ref:this.weekNumberEl,className:_n(p),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(L.Component),v4=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return yr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,s){t.props.onDayClick&&t.props.onDayClick(n,s)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,s,o){for(var c,f,p,m=new Date(n),y=0;y<7;y++){var b=new Date(n);b.setDate(b.getDate()+y);var w=!t.isDisabled(b);if(w){m=b;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(m,s,o),t.props.showWeekPicker&&t.handleDayClick(m,o),((c=t.props.shouldCloseOnSelect)!==null&&c!==void 0?c:e.defaultProps.shouldCloseOnSelect)&&((p=(f=t.props).setOpen)===null||p===void 0||p.call(f,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):XP(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),s=Rr(n,6),o=new Date(n);o<=s;){if(!t.isDisabled(o))return!1;o=Rr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),s=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var c=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;s.push(ie.createElement(y4,Ze({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:c})))}return s.concat([0,1,2,3,4,5,6].map(function(f){var p=Rr(n,f);return ie.createElement(g4,Ze({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:t.handleDayClick.bind(t,p),onMouseEnter:t.handleDayMouseEnter.bind(t,p)}))}))},t.startOfWeek=function(){return Ni(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!$e(t.startOfWeek(),t.props.selected)&&$e(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":$e(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ie.createElement("div",{className:_n(t)},this.renderDays())},e}(L.Component),Au,_4=6,Yo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Pm=(Au={},Au[Yo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Au[Yo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Au[Yo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Au),Wd=1;function Fw(r,e){return r?Yo.FOUR_COLUMNS:e?Yo.TWO_COLUMNS:Yo.THREE_COLUMNS}var b4=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=Jr([],Array(12),!0).map(function(){return L.createRef()}),t.QUARTER_REFS=Jr([],Array(4),!0).map(function(){return L.createRef()}),t.isDisabled=function(n){return yr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return Dy(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,s){var o,c;(c=(o=t.props).onDayClick)===null||c===void 0||c.call(o,n,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var s,o;(o=(s=t.props).onDayMouseEnter)===null||o===void 0||o.call(s,n)},t.handleMouseLeave=function(){var n,s;(s=(n=t.props).onMouseLeave)===null||s===void 0||s.call(n)},t.isRangeStartMonth=function(n){var s=t.props,o=s.day,c=s.startDate,f=s.endDate;return!c||!f?!1:Pn(gr(o,n),c)},t.isRangeStartQuarter=function(n){var s=t.props,o=s.day,c=s.startDate,f=s.endDate;return!c||!f?!1:jf(Bo(o,n),c)},t.isRangeEndMonth=function(n){var s=t.props,o=s.day,c=s.startDate,f=s.endDate;return!c||!f?!1:Pn(gr(o,n),f)},t.isRangeEndQuarter=function(n){var s=t.props,o=s.day,c=s.startDate,f=s.endDate;return!c||!f?!1:jf(Bo(o,n),f)},t.isInSelectingRangeMonth=function(n){var s,o=t.props,c=o.day,f=o.selectsStart,p=o.selectsEnd,m=o.selectsRange,y=o.startDate,b=o.endDate,w=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(f||p||m)||!w?!1:f&&b?qd(w,b,n,c):p&&y||m&&y&&!b?qd(y,w,n,c):!1},t.isSelectingMonthRangeStart=function(n){var s;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,f=o.startDate,p=o.selectsStart,m=gr(c,n),y=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return p?Pn(m,y):Pn(m,f)},t.isSelectingMonthRangeEnd=function(n){var s;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,f=o.endDate,p=o.selectsEnd,m=o.selectsRange,y=gr(c,n),b=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return p||m?Pn(y,b):Pn(y,f)},t.isInSelectingRangeQuarter=function(n){var s,o=t.props,c=o.day,f=o.selectsStart,p=o.selectsEnd,m=o.selectsRange,y=o.startDate,b=o.endDate,w=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(f||p||m)||!w?!1:f&&b?Kd(w,b,n,c):p&&y||m&&y&&!b?Kd(y,w,n,c):!1},t.isWeekInMonth=function(n){var s=t.props.day,o=Rr(n,6);return Pn(n,s)||Pn(o,s)},t.isCurrentMonth=function(n,s){return Le(n)===Le(ot())&&s===An(ot())},t.isCurrentQuarter=function(n,s){return Le(n)===Le(ot())&&s===Rs(ot())},t.isSelectedMonth=function(n,s,o){return An(o)===s&&Le(n)===Le(o)},t.isSelectMonthInList=function(n,s,o){return o.some(function(c){return t.isSelectedMonth(n,s,c)})},t.isSelectedQuarter=function(n,s,o){return Rs(n)===s&&Le(n)===Le(o)},t.isMonthSelected=function(){var n=t.props,s=n.day,o=n.selected,c=n.selectedDates,f=n.selectsMultiple,p=An(s);return f?c?.some(function(m){return t.isSelectedMonth(s,p,m)}):!!o&&t.isSelectedMonth(s,p,o)},t.renderWeeks=function(){for(var n=[],s=t.props.fixedHeight,o=0,c=!1,f=Ni(Ua(t.props.day),t.props.locale,t.props.calendarStartDay),p=function(S){return t.props.showWeekPicker?Ni(S,t.props.locale,t.props.calendarStartDay):t.props.preSelection},m=function(S){return t.props.showWeekPicker?Ni(S,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?m(t.props.selected):void 0,b=t.props.preSelection?p(t.props.preSelection):void 0;n.push(ie.createElement(v4,Ze({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:f,month:An(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:b,showWeekNumber:t.props.showWeekNumbers}))),!c;){o++,f=Af(f,1);var w=s&&o>=_4,D=!s&&!t.isWeekInMonth(f);if(w||D)if(t.props.peekNextMonth)c=!0;else break}return n},t.onMonthClick=function(n,s){var o=t.isMonthDisabledForLabelDate(s),c=o.isDisabled,f=o.labelDate;c||t.handleDayClick(Ua(f),n)},t.onMonthMouseEnter=function(n){var s=t.isMonthDisabledForLabelDate(n),o=s.isDisabled,c=s.labelDate;o||t.handleDayMouseEnter(Ua(c))},t.handleMonthNavigation=function(n,s){var o,c,f,p;(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(p=(f=t.MONTH_REFS[n])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus()},t.handleKeyboardNavigation=function(n,s,o){var c,f=t.props,p=f.selected,m=f.preSelection,y=f.setPreSelection,b=f.minDate,w=f.maxDate,D=f.showFourColumnMonthYearPicker,S=f.showTwoColumnMonthYearPicker;if(m){var P=Fw(D,S),N=t.getVerticalOffset(P),C=(c=Pm[P])===null||c===void 0?void 0:c.grid,G=function(I,R,k){var V,U,B=R,M=k;switch(I){case ge.ArrowRight:B=Nr(R,Wd),M=k===11?0:k+Wd;break;case ge.ArrowLeft:B=Cs(R,Wd),M=k===0?11:k-Wd;break;case ge.ArrowUp:B=Cs(R,N),M=!((V=C?.[0])===null||V===void 0)&&V.includes(k)?k+12-N:k-N;break;case ge.ArrowDown:B=Nr(R,N),M=!((U=C?.[C.length-1])===null||U===void 0)&&U.includes(k)?k-12+N:k+N;break}return{newCalculatedDate:B,newCalculatedMonth:M}},X=function(I,R,k){for(var V=40,U=I,B=!1,M=0,Ae=G(U,R,k),ve=Ae.newCalculatedDate,Y=Ae.newCalculatedMonth;!B;){if(M>=V){ve=R,Y=k;break}if(b&&ve<b){U=ge.ArrowRight;var Q=G(U,ve,Y);ve=Q.newCalculatedDate,Y=Q.newCalculatedMonth}if(w&&ve>w){U=ge.ArrowLeft;var Q=G(U,ve,Y);ve=Q.newCalculatedDate,Y=Q.newCalculatedMonth}if(i4(ve,t.props)){var Q=G(U,ve,Y);ve=Q.newCalculatedDate,Y=Q.newCalculatedMonth}else B=!0;M++}return{newCalculatedDate:ve,newCalculatedMonth:Y}};if(s===ge.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),y?.(p));return}var te=X(s,m,o),re=te.newCalculatedDate,he=te.newCalculatedMonth;switch(s){case ge.ArrowRight:case ge.ArrowLeft:case ge.ArrowUp:case ge.ArrowDown:t.handleMonthNavigation(he,re);break}}},t.getVerticalOffset=function(n){var s,o;return(o=(s=Pm[n])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,s){var o=t.props,c=o.disabledKeyboardNavigation,f=o.handleOnMonthKeyDown,p=n.key;p!==ge.Tab&&n.preventDefault(),c||t.handleKeyboardNavigation(n,p,s),f&&f(n)},t.onQuarterClick=function(n,s){var o=Bo(t.props.day,s);Qd(o,t.props)||t.handleDayClick(Sw(o),n)},t.onQuarterMouseEnter=function(n){var s=Bo(t.props.day,n);Qd(s,t.props)||t.handleDayMouseEnter(Sw(s))},t.handleQuarterNavigation=function(n,s){var o,c,f,p;t.isDisabled(s)||t.isExcluded(s)||((c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(p=(f=t.QUARTER_REFS[n-1])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus())},t.onQuarterKeyDown=function(n,s){var o,c,f=n.key;if(!t.props.disabledKeyboardNavigation)switch(f){case ge.Enter:t.onQuarterClick(n,s),(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,t.props.selected);break;case ge.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,fy(t.props.preSelection,1));break;case ge.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,Cx(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var s,o=t.props,c=o.day,f=o.minDate,p=o.maxDate,m=o.excludeDates,y=o.includeDates,b=gr(c,n);return{isDisabled:(s=(f||p||m||y)&&Hx(b,t.props))!==null&&s!==void 0?s:!1,labelDate:b}},t.isMonthDisabled=function(n){var s=t.isMonthDisabledForLabelDate(n).isDisabled;return s},t.getMonthClassNames=function(n){var s=t.props,o=s.day,c=s.startDate,f=s.endDate,p=s.preSelection,m=s.monthClassName,y=m?m(gr(o,n)):void 0,b=t.getSelection();return _n("react-datepicker__month-text","react-datepicker__month-".concat(n),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":b?t.isSelectMonthInList(o,n,b):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&p&&t.isSelectedMonth(o,n,p)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&f?qd(c,f,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var s=An(t.props.preSelection),o=t.isMonthDisabledForLabelDate(s).isDisabled,c=n===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var s=Rs(t.props.preSelection),o=Qd(t.props.day,t.props),c=n===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getAriaLabel=function(n){var s=t.props,o=s.chooseDayAriaLabelPrefix,c=o===void 0?"Choose":o,f=s.disabledDayAriaLabelPrefix,p=f===void 0?"Not available":f,m=s.day,y=s.locale,b=gr(m,n),w=t.isDisabled(b)||t.isExcluded(b)?p:c;return"".concat(w," ").concat(xt(b,"MMMM yyyy",y))},t.getQuarterClassNames=function(n){var s=t.props,o=s.day,c=s.startDate,f=s.endDate,p=s.selected,m=s.minDate,y=s.maxDate,b=s.excludeDates,w=s.includeDates,D=s.filterDate,S=s.preSelection,P=s.disabledKeyboardNavigation,N=(m||y||b||w||D)&&Qd(Bo(o,n),t.props);return _n("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":N,"react-datepicker__quarter-text--selected":p?t.isSelectedQuarter(o,n,p):void 0,"react-datepicker__quarter-text--keyboard-selected":!P&&S&&t.isSelectedQuarter(o,n,S)&&!N,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&f?Kd(c,f,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var s=t.props,o=s.showFullMonthYearPicker,c=s.renderMonthContent,f=s.locale,p=s.day,m=Yx(n,f),y=xy(n,f);return c?c(n,m,y,p):o?y:m},t.getQuarterContent=function(n){var s,o=t.props,c=o.renderQuarterContent,f=o.locale,p=a4(n,f);return(s=c?.(n,p))!==null&&s!==void 0?s:p},t.renderMonths=function(){var n,s=t.props,o=s.showTwoColumnMonthYearPicker,c=s.showFourColumnMonthYearPicker,f=s.day,p=s.selected,m=(n=Pm[Fw(c,o)])===null||n===void 0?void 0:n.grid;return m?.map(function(y,b){return ie.createElement("div",{className:"react-datepicker__month-wrapper",key:b},y.map(function(w,D){return ie.createElement("div",{ref:t.MONTH_REFS[w],key:D,onClick:function(S){t.onMonthClick(S,w)},onKeyDown:function(S){Gx(S)&&(S.preventDefault(),S.key=ge.Enter),t.onMonthKeyDown(S,w)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(w)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(w)}:void 0,tabIndex:Number(t.getTabIndex(w)),className:t.getMonthClassNames(w),"aria-disabled":t.isMonthDisabled(w),role:"option","aria-label":t.getAriaLabel(w),"aria-current":t.isCurrentMonth(f,w)?"date":void 0,"aria-selected":p?t.isSelectedMonth(f,w,p):void 0},t.getMonthContent(w))}))})},t.renderQuarters=function(){var n=t.props,s=n.day,o=n.selected,c=[1,2,3,4];return ie.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(f,p){return ie.createElement("div",{key:p,ref:t.QUARTER_REFS[p],role:"option",onClick:function(m){t.onQuarterClick(m,f)},onKeyDown:function(m){t.onQuarterKeyDown(m,f)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(f)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(f)}:void 0,className:t.getQuarterClassNames(f),"aria-selected":o?t.isSelectedQuarter(s,f,o):void 0,tabIndex:Number(t.getQuarterTabIndex(f)),"aria-current":t.isCurrentQuarter(s,f)?"date":void 0},t.getQuarterContent(f))}))},t.getClassNames=function(){var n=t.props,s=n.selectingDate,o=n.selectsStart,c=n.selectsEnd,f=n.showMonthYearPicker,p=n.showQuarterYearPicker,m=n.showWeekPicker;return _n("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(o||c)},{"react-datepicker__monthPicker":f},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":m})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,s=t.selectedDates,o=t.selectsMultiple;if(o)return s;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,s=t.showQuarterYearPicker,o=t.day,c=t.ariaLabelPrefix,f=c===void 0?"Month ":c,p=f?f.trim()+" ":"";return ie.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(p).concat(xt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},e}(L.Component),w4=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,s){return ie.createElement("div",{className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?ie.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ie.createElement(dh,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(L.Component),E4=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(s,o){return ie.createElement("option",{key:s,value:o},s)})},t.renderSelectMode=function(n){return ie.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,s){return ie.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ie.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ie.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(n){return ie.createElement(w4,Ze({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var s=t.state.dropdownVisible,o=[t.renderReadView(!s,n)];return s&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return Yx(o,t.props.locale)}:function(o){return xy(o,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(n);break;case"select":s=this.renderSelectMode(n);break}return ie.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e}(L.Component);function T4(r,e){for(var t=[],n=Ua(r),s=Ua(e);!Pi(n,s);)t.push(ot(n)),n=Nr(n,1);return t}var x4=function(r){cn(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(s){var o=dg(s),c=Wr(n.props.date,s)&&Pn(n.props.date,s);return ie.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":c?"true":void 0},c?ie.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",xt(s,n.props.dateFormat,n.props.locale))})},n.onChange=function(s){return n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:T4(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=_n({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ie.createElement(dh,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(L.Component),D4=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Ua(t.props.minDate),s=Ua(t.props.maxDate),o=[];!Pi(n,s);){var c=dg(n);o.push(ie.createElement("option",{key:c,value:c},xt(n,t.props.dateFormat,t.props.locale))),n=Nr(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ie.createElement("select",{value:dg(Ua(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var s=xt(t.props.date,t.props.dateFormat,t.props.locale);return ie.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ie.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ie.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return ie.createElement(x4,Ze({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,s=[t.renderReadView(!n)];return n&&s.unshift(t.renderDropdown()),s},t.onChange=function(n){t.toggleDropdown();var s=ot(n);Wr(t.props.date,s)&&Pn(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ie.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(L.Component),S4=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,s,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var s,o;(t.props.minTime||t.props.maxTime)&&kw(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Nw(n,t.props)||(o=(s=t.props).onChange)===null||o===void 0||o.call(s,n)},t.isSelectedTime=function(n){return t.props.selected&&p4(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&kw(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Nw(n,t.props)},t.liClasses=function(n){var s,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(La(n)*3600+ja(n)*60+Ci(n))%(((s=t.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,s){var o,c;n.key===ge.Space&&(n.preventDefault(),n.key=ge.Enter),(n.key===ge.ArrowUp||n.key===ge.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ge.ArrowDown||n.key===ge.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ge.Enter&&t.handleClick(s),(c=(o=t.props).handleOnKeyDown)===null||c===void 0||c.call(o,n)},t.renderTimes=function(){for(var n,s=[],o=typeof t.props.format=="string"?t.props.format:"p",c=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,f=t.props.selected||t.props.openToDate||ot(),p=cf(f),m=t.props.injectTimes&&t.props.injectTimes.sort(function(N,C){return N.getTime()-C.getTime()}),y=60*h4(f),b=y/c,w=0;w<b;w++){var D=lg(p,w*c);if(s.push(D),m){var S=f4(p,D,w,c,m);s=s.concat(S)}}var P=s.reduce(function(N,C){return C.getTime()<=f.getTime()?C:N},s[0]);return s.map(function(N){return ie.createElement("li",{key:N.valueOf(),onClick:t.handleClick.bind(t,N),className:t.liClasses(N),ref:function(C){N===P&&(t.centerLi=C)},onKeyDown:function(C){t.handleOnKeyDown(C,N)},tabIndex:N===P?0:-1,role:"option","aria-selected":t.isSelectedTime(N)?"true":void 0,"aria-disabled":t.isDisabledTime(N)?"true":void 0},xt(N,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ie.createElement(ie.Fragment,null):ie.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ie.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,s=this.state.height;return ie.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ie.createElement("div",{className:"react-datepicker__time"},ie.createElement("div",{className:"react-datepicker__time-box"},ie.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(L.Component),zw=3,A4=function(r){cn(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=Jr([],Array(n.props.yearItemNumber),!0).map(function(){return L.createRef()}),n.isDisabled=function(s){return yr(s,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(s){return Dy(s,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var s;return(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection},n.updateFocusOnPaginate=function(s){var o=function(){var c,f;(f=(c=n.YEAR_REFS[s])===null||c===void 0?void 0:c.current)===null||f===void 0||f.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(s,o){n.props.onDayClick&&n.props.onDayClick(s,o)},n.handleYearNavigation=function(s,o){var c,f,p,m,y=n.props,b=y.date,w=y.yearItemNumber;if(!(b===void 0||w===void 0)){var D=xi(b,w).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((f=(c=n.props).setPreSelection)===null||f===void 0||f.call(c,o),s-D<0?n.updateFocusOnPaginate(w-(D-s)):s-D>=w?n.updateFocusOnPaginate(Math.abs(w-(s-D))):(m=(p=n.YEAR_REFS[s-D])===null||p===void 0?void 0:p.current)===null||m===void 0||m.focus())}},n.isSameDay=function(s,o){return $e(s,o)},n.isCurrentYear=function(s){return s===Le(ot())},n.isRangeStart=function(s){return n.props.startDate&&n.props.endDate&&Wr(Kr(ot(),s),n.props.startDate)},n.isRangeEnd=function(s){return n.props.startDate&&n.props.endDate&&Wr(Kr(ot(),s),n.props.endDate)},n.isInRange=function(s){return Gd(s,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(s){var o=n.props,c=o.selectsStart,f=o.selectsEnd,p=o.selectsRange,m=o.startDate,y=o.endDate;return!(c||f||p)||!n.selectingDate()?!1:c&&y?Gd(s,n.selectingDate(),y):f&&m||p&&m&&!y?Gd(s,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(s){var o;if(!n.isInSelectingRange(s))return!1;var c=n.props,f=c.startDate,p=c.selectsStart,m=Kr(ot(),s);return p?Wr(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):Wr(m,f??null)},n.isSelectingRangeEnd=function(s){var o;if(!n.isInSelectingRange(s))return!1;var c=n.props,f=c.endDate,p=c.selectsEnd,m=c.selectsRange,y=Kr(ot(),s);return p||m?Wr(y,(o=n.selectingDate())!==null&&o!==void 0?o:null):Wr(y,f??null)},n.isKeyboardSelected=function(s){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,c=o.minDate,f=o.maxDate,p=o.excludeDates,m=o.includeDates,y=o.filterDate,b=Mu(Kr(n.props.date,s)),w=(c||f||p||m||y)&&df(s,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!$e(b,Mu(n.props.selected))&&$e(b,Mu(n.props.preSelection))&&!w}},n.isSelectedYear=function(s){var o=n.props,c=o.selectsMultiple,f=o.selected,p=o.selectedDates;return c?p?.some(function(m){return s===Le(m)}):!!f&&s===Le(f)},n.onYearClick=function(s,o){var c=n.props.date;c!==void 0&&n.handleYearClick(Mu(Kr(c,o)),s)},n.onYearKeyDown=function(s,o){var c,f,p=s.key,m=n.props,y=m.date,b=m.yearItemNumber,w=m.handleOnKeyDown;if(p!==ge.Tab&&s.preventDefault(),!n.props.disabledKeyboardNavigation)switch(p){case ge.Enter:if(n.props.selected==null)break;n.onYearClick(s,o),(f=(c=n.props).setPreSelection)===null||f===void 0||f.call(c,n.props.selected);break;case ge.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,Pa(n.props.preSelection,1));break;case ge.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,Jo(n.props.preSelection,1));break;case ge.ArrowUp:{if(y===void 0||b===void 0||n.props.preSelection==null)break;var D=xi(y,b).startPeriod,S=zw,P=o-S;if(P<D){var N=b%S;o>=D&&o<D+N?S=N:S+=N,P=o-S}n.handleYearNavigation(P,Jo(n.props.preSelection,S));break}case ge.ArrowDown:{if(y===void 0||b===void 0||n.props.preSelection==null)break;var C=xi(y,b).endPeriod,S=zw,P=o+S;if(P>C){var N=b%S;o<=C&&o>C-N?S=N:S+=N,P=o+S}n.handleYearNavigation(P,Pa(n.props.preSelection,S));break}}w&&w(s)},n.getYearClassNames=function(s){var o=n.props,c=o.date,f=o.minDate,p=o.maxDate,m=o.excludeDates,y=o.includeDates,b=o.filterDate,w=o.yearClassName;return _n("react-datepicker__year-text","react-datepicker__year-".concat(s),c?w?.(Kr(c,s)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(s),"react-datepicker__year-text--disabled":(f||p||m||y||b)&&df(s,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(s),"react-datepicker__year-text--range-start":n.isRangeStart(s),"react-datepicker__year-text--range-end":n.isRangeEnd(s),"react-datepicker__year-text--in-range":n.isInRange(s),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(s),"react-datepicker__year-text--today":n.isCurrentYear(s)})},n.getYearTabIndex=function(s){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Le(n.props.preSelection),c=df(s,n.props);return s===o&&!c?"0":"-1"},n.getYearContent=function(s){return n.props.renderYearContent?n.props.renderYearContent(s):s},n}return e.prototype.render=function(){var t=this,n=[],s=this.props,o=s.date,c=s.yearItemNumber,f=s.onYearMouseEnter,p=s.onYearMouseLeave;if(o===void 0)return null;for(var m=xi(o,c),y=m.startPeriod,b=m.endPeriod,w=function(P){n.push(ie.createElement("div",{ref:D.YEAR_REFS[P-y],onClick:function(N){t.onYearClick(N,P)},onKeyDown:function(N){Gx(N)&&(N.preventDefault(),N.key=ge.Enter),t.onYearKeyDown(N,P)},tabIndex:Number(D.getYearTabIndex(P)),className:D.getYearClassNames(P),onMouseEnter:D.props.usePointerEvent?void 0:function(N){return f(N,P)},onPointerEnter:D.props.usePointerEvent?function(N){return f(N,P)}:void 0,onMouseLeave:D.props.usePointerEvent?void 0:function(N){return p(N,P)},onPointerLeave:D.props.usePointerEvent?function(N){return p(N,P)}:void 0,key:P,"aria-current":D.isCurrentYear(P)?"date":void 0},D.getYearContent(P)))},D=this,S=y;S<=b;S++)w(S);return ie.createElement("div",{className:"react-datepicker__year"},ie.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(L.Component);function R4(r,e,t,n){for(var s=[],o=0;o<2*e+1;o++){var c=r+e-o,f=!0;t&&(f=Le(t)<=c),n&&f&&(f=Le(n)>=c),f&&s.push(c)}return s}var C4=function(r){cn(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var f=n.props.year,p=n.state.yearsList.map(function(b){return ie.createElement("div",{className:f===b?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:b,onClick:n.onChange.bind(n,b),"aria-selected":f===b?"true":void 0},f===b?ie.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",b)}),m=n.props.minDate?Le(n.props.minDate):null,y=n.props.maxDate?Le(n.props.maxDate):null;return(!y||!n.state.yearsList.find(function(b){return b===y}))&&p.unshift(ie.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ie.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(b){return b===m}))&&p.push(ie.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ie.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},n.onChange=function(f){n.props.onChange(f)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(f){var p=n.state.yearsList.map(function(m){return m+f});n.setState({yearsList:p})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var s=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,c=s||(o?10:5);return n.state={yearsList:R4(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=L.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,s=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=_n({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ie.createElement(dh,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(L.Component),N4=function(r){cn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Le(t.props.minDate):1900,s=t.props.maxDate?Le(t.props.maxDate):2100,o=[],c=n;c<=s;c++)o.push(ie.createElement("option",{key:c,value:c},c));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ie.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ie.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return t.toggleDropdown(s)}},ie.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ie.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ie.createElement(C4,Ze({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,s=[t.renderReadView(!n)];return n&&s.unshift(t.renderDropdown()),s},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,s){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,s),t.setOpen()},t.onSelect=function(n,s){var o,c;(c=(o=t.props).onSelect)===null||c===void 0||c.call(o,n,s)},t.setOpen=function(){var n,s;(s=(n=t.props).setOpen)===null||s===void 0||s.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ie.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(L.Component),k4=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],M4=function(r){var e=(r.className||"").split(/\s+/);return k4.some(function(t){return e.indexOf(t)>=0})},O4=function(r){cn(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(s){n.props.onClickOutside(s)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(s){var o,c;M4(s.target)&&((c=(o=n.props).onDropdownFocus)===null||c===void 0||c.call(o,s))},n.getDateInView=function(){var s=n.props,o=s.preSelection,c=s.selected,f=s.openToDate,p=qx(n.props),m=Qx(n.props),y=ot(),b=f||c||o;return b||(p&&Ls(y,p)?p:m&&Pi(y,m)?m:y)},n.increaseMonth=function(){n.setState(function(s){var o=s.date;return{date:Nr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(s){var o=s.date;return{date:Cs(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(s,o,c){n.props.onSelect(s,o,c),n.props.setPreSelection&&n.props.setPreSelection(s)},n.handleDayMouseEnter=function(s){n.setState({selectingDate:s}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(s,o){n.setState({selectingDate:Kr(ot(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(s,o)},n.handleYearMouseLeave=function(s,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(s,o)},n.handleYearChange=function(s){var o,c,f,p;(c=(o=n.props).onYearChange)===null||c===void 0||c.call(o,s),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(s),(p=(f=n.props).setOpen)===null||p===void 0||p.call(f,!0)),n.props.setPreSelection&&n.props.setPreSelection(s)},n.getEnabledPreSelectionDateForMonth=function(s){if(!yr(s,n.props))return s;for(var o=Ua(s),c=e4(s),f=d2(c,o),p=null,m=0;m<=f;m++){var y=Rr(o,m);if(!yr(y,n.props)){p=y;break}}return p},n.handleMonthChange=function(s){var o,c,f,p=(o=n.getEnabledPreSelectionDateForMonth(s))!==null&&o!==void 0?o:s;n.handleCustomMonthChange(p),n.props.adjustDateOnChange&&(n.props.onSelect(p),(f=(c=n.props).setOpen)===null||f===void 0||f.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(p)},n.handleCustomMonthChange=function(s){var o,c;(c=(o=n.props).onMonthChange)===null||c===void 0||c.call(o,s),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(s){n.handleYearChange(s),n.handleMonthChange(s)},n.changeYear=function(s){n.setState(function(o){var c=o.date;return{date:Kr(c,Number(s))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(s){n.setState(function(o){var c=o.date;return{date:gr(c,Number(s))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(s){n.setState(function(o){var c=o.date;return{date:Kr(gr(c,An(s)),Le(s))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(s){s===void 0&&(s=n.state.date);var o=Ni(s,n.props.locale,n.props.calendarStartDay),c=[];return n.props.showWeekNumbers&&c.push(ie.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),c.concat([0,1,2,3,4,5,6].map(function(f){var p=Rr(o,f),m=n.formatWeekday(p,n.props.locale),y=n.props.weekDayClassName?n.props.weekDayClassName(p):void 0;return ie.createElement("div",{key:f,"aria-label":xt(p,"EEEE",n.props.locale),className:_n("react-datepicker__day-name",y)},m)}))},n.formatWeekday=function(s,o){return n.props.formatWeekDay?t4(s,n.props.formatWeekDay,o):n.props.useWeekdaysShort?r4(s,o):n4(s,o)},n.decreaseYear=function(){n.setState(function(s){var o,c=s.date;return{date:Jo(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var s,o,c;if(!n.props.renderCustomHeader){var f=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?f-1:0,m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,y=Cs(n.state.date,m),b;switch(!0){case n.props.showMonthYearPicker:b=Iw(n.state.date,n.props);break;case n.props.showYearPicker:b=l4(n.state.date,n.props);break;case n.props.showQuarterYearPicker:b=s4(n.state.date,n.props);break;default:b=Mw(y,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&b||n.props.showTimeSelectOnly)){var w=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],D=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(S=n.decreaseYear),b&&n.props.showDisabledMonthNavigation&&(D.push("react-datepicker__navigation--previous--disabled"),S=void 0);var P=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,N=n.props,C=N.previousMonthButtonLabel,G=C===void 0?e.defaultProps.previousMonthButtonLabel:C,X=N.previousYearButtonLabel,te=X===void 0?e.defaultProps.previousYearButtonLabel:X,re=n.props,he=re.previousMonthAriaLabel,I=he===void 0?typeof G=="string"?G:"Previous Month":he,R=re.previousYearAriaLabel,k=R===void 0?typeof te=="string"?te:"Previous Year":R;return ie.createElement("button",{type:"button",className:D.join(" "),onClick:S,onKeyDown:n.props.handleOnKeyDown,"aria-label":P?k:I},ie.createElement("span",{className:w.join(" ")},P?te:G))}}},n.increaseYear=function(){n.setState(function(s){var o,c=s.date;return{date:Pa(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var s;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=Pw(n.state.date,n.props);break;case n.props.showYearPicker:o=u4(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=o4(n.state.date,n.props);break;default:o=Ow(n.state.date,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var p=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(p=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),p=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,b=y.nextMonthButtonLabel,w=b===void 0?e.defaultProps.nextMonthButtonLabel:b,D=y.nextYearButtonLabel,S=D===void 0?e.defaultProps.nextYearButtonLabel:D,P=n.props,N=P.nextMonthAriaLabel,C=N===void 0?typeof w=="string"?w:"Next Month":N,G=P.nextYearAriaLabel,X=G===void 0?typeof S=="string"?S:"Next Year":G;return ie.createElement("button",{type:"button",className:c.join(" "),onClick:p,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?X:C},ie.createElement("span",{className:f.join(" ")},m?S:w))}}},n.renderCurrentMonth=function(s){s===void 0&&(s=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),ie.createElement("h2",{className:o.join(" ")},xt(s,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showYearDropdown||s))return ie.createElement(N4,Ze({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Le(n.state.date)}))},n.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthDropdown||s))return ie.createElement(E4,Ze({},e.defaultProps,n.props,{month:An(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthYearDropdown||s))return ie.createElement(D4,Ze({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(s){n.props.onSelect(Aw(),s),n.props.setPreSelection&&n.props.setPreSelection(Aw())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ie.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(s){var o=s.monthDate,c=s.i;return ie.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),ie.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)),ie.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(s){var o,c,f=s.monthDate,p=s.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=Mw(n.state.date,n.props),y=Ow(n.state.date,n.props),b=Iw(n.state.date,n.props),w=Pw(n.state.date,n.props),D=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ie.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(o=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(o,Ze(Ze({},n.state),{customHeaderCount:p,monthDate:f,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:m,nextMonthButtonDisabled:y,prevYearButtonDisabled:b,nextYearButtonDisabled:w})),D&&ie.createElement("div",{className:"react-datepicker__day-names"},n.header(f)))},n.renderYearHeader=function(s){var o=s.monthDate,c=n.props,f=c.showYearPicker,p=c.yearItemNumber,m=p===void 0?e.defaultProps.yearItemNumber:p,y=xi(o,m),b=y.startPeriod,w=y.endPeriod;return ie.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},f?"".concat(b," - ").concat(w):Le(o))},n.renderHeader=function(s){var o=s.monthDate,c=s.i,f=c===void 0?0:c,p={monthDate:o,i:f};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(p);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(p);default:return n.renderDefaultHeader(p)}},n.renderMonths=function(){var s,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],f=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?f-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Pa(n.state.date,p):Cs(n.state.date,p),y=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,b=0;b<f;++b){var w=b-y+p,D=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Pa(m,w):Nr(m,w),S="month-".concat(b),P=b<f-1,N=b>0;c.push(ie.createElement("div",{key:S,ref:function(C){n.monthContainer=C??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:D,i:b}),ie.createElement(b4,Ze({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:D,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:b,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:P,monthShowsDuplicateDaysStart:N}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ie.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ie.createElement(A4,Ze({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ie.createElement(S4,Ze({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var s=n.props.selected?new Date(n.props.selected):void 0,o=s&&fh(s)&&!!n.props.selected,c=o?"".concat(Lw(s.getHours()),":").concat(Lw(s.getMinutes())):"";if(n.props.showTimeInput)return ie.createElement(m4,Ze({},e.defaultProps,n.props,{date:s,timeString:c,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var s,o=xi(n.state.date,(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),c=o.startPeriod,f=o.endPeriod,p;return n.props.showYearPicker?p="".concat(c," - ").concat(f):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?p=Le(n.state.date):p="".concat(xy(An(n.state.date),n.props.locale)," ").concat(Le(n.state.date)),ie.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&p)},n.renderChildren=function(){if(n.props.children)return ie.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=L.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:fc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!$e(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!Pn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!$e(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||GP;return ie.createElement(dh,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ie.createElement("div",{style:{display:"contents"},ref:this.containerRef},ie.createElement(t,{className:_n("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(L.Component),I4=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,s=r.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return ie.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:s});if(ie.isValidElement(e)){var c=e;return ie.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(o," ").concat(n),onClick:function(f){typeof c.props.onClick=="function"&&c.props.onClick(f),typeof s=="function"&&s(f)}})}return ie.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},ie.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Kx=function(r){cn(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return tA.createPortal(this.props.children,this.el)},e}(L.Component),P4="[tabindex], a, button, input, select, textarea",V4=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},Wx=function(r){cn(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var s;return Array.prototype.slice.call((s=n.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(P4),1,-1).filter(V4)},n.handleFocusStart=function(){var s=n.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},n.handleFocusEnd=function(){var s=n.getTabChildren();s&&s.length>1&&s[0].focus()},n.tabLoopRef=L.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ie.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ie.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ie.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(L.Component);function L4(r){var e=function(t){var n,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=L.useRef(null),c=QP(Ze({open:!s,whileElementsMounted:xP,placement:t.popperPlacement,middleware:Jr([OP({padding:15}),MP(10),IP({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),f=Ze(Ze({},t),{hidePopper:s,popperProps:Ze(Ze({},c),{arrowRef:o})});return ie.createElement(r,Ze({},f))};return e}var j4=function(r){cn(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,s=t.wrapperClassName,o=t.hidePopper,c=o===void 0?e.defaultProps.hidePopper:o,f=t.popperComponent,p=t.targetComponent,m=t.enableTabLoop,y=t.popperOnKeyDown,b=t.portalId,w=t.portalHost,D=t.popperProps,S=t.showArrow,P=void 0;if(!c){var N=_n("react-datepicker-popper",n);P=ie.createElement(Wx,{enableTabLoop:m},ie.createElement("div",{ref:D.refs.setFloating,style:D.floatingStyles,className:N,"data-placement":D.placement,onKeyDown:y},f,S&&ie.createElement(UP,{ref:D.arrowRef,context:D.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(P=L.createElement(this.props.popperContainer,{},P)),b&&!c&&(P=ie.createElement(Kx,{portalId:b,portalHost:w},P));var C=_n("react-datepicker-wrapper",s);return ie.createElement(ie.Fragment,null,ie.createElement("div",{ref:D.refs.setReference,className:C},p),P)},e}(L.Component),U4=L4(j4),Yw="react-datepicker-ignore-onclickoutside";function B4(r,e){return r&&e?An(r)!==An(e)||Le(r)!==Le(e):r!==e}var Vm="Date input not valid.",F4=function(r){cn(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:ot()},n.modifyHolidays=function(){var s;return(s=n.props.holidays)===null||s===void 0?void 0:s.reduce(function(o,c){var f=new Date(c.date);return fh(f)?Jr(Jr([],o,!0),[Ze(Ze({},c),{date:f})],!1):o},[])},n.calcInitialState=function(){var s,o=n.getPreSelection(),c=qx(n.props),f=Qx(n.props),p=c&&Ls(o,cf(c))?c:f&&Pi(o,Rw(f))?f:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&s!==void 0?s:p,highlightDates:Vw(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Ze(Ze({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Ze(Ze({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.focus)===null||o===void 0||o.call(s,{preventScroll:!0})},n.setBlur=function(){var s,o;(o=(s=n.input)===null||s===void 0?void 0:s.blur)===null||o===void 0||o.call(s),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(s,o){o===void 0&&(o=!1),n.setState({open:s,preSelection:s&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Lm},function(){s||n.setState(function(c){return{focused:o?c.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Va(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(s){var o,c,f=n.state.wasHidden,p=f?n.state.open:!0;f&&n.resetHiddenStatus(),n.state.preventFocus||((c=(o=n.props).onFocus)===null||c===void 0||c.call(o,s),p&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(s){var o,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(o=n.props).onBlur)===null||c===void 0||c.call(o,s)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(s){var o,c;n.props.inline||n.setOpen(!1),(c=(o=n.props).onClickOutside)===null||c===void 0||c.call(o,s),n.props.withPortal&&s.preventDefault()},n.handleChange=function(){for(var s,o,c,f,p,m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];var b=m[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,m),!b||typeof b.isDefaultPrevented!="function"||b.isDefaultPrevented()))){n.setState({inputValue:b?.target instanceof HTMLInputElement?b.target.value:null,lastPreSelectChange:z4});var w=n.props,D=w.selectsRange,S=w.startDate,P=w.endDate,N=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,C=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,G=b?.target instanceof HTMLInputElement?b.target.value:"";if(D){var X=G.split(N.includes("-")?zx:"-",2).map(function(U){return U.trim()}),te=X[0],re=X[1],he=Om(te??"",N,n.props.locale,C),I=Om(re??"",N,n.props.locale,C),R=S?.getTime()!==he?.getTime(),k=P?.getTime()!==I?.getTime();if(!R&&!k||he&&yr(he,n.props)||I&&yr(I,n.props))return;(f=(c=n.props).onChange)===null||f===void 0||f.call(c,[he,I],b)}else{var V=Om(G,N,n.props.locale,C,(p=n.props.selected)!==null&&p!==void 0?p:void 0);(V||!G)&&n.setSelected(V,b,!0)}}},n.handleSelect=function(s,o,c){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(s,o,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(s);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var f=n.props,p=f.startDate,m=f.endDate;p&&!m&&(n.props.swapRange||!Bw(s,p))&&n.setOpen(!1)}}},n.setSelected=function(s,o,c,f){var p,m,y=s;if(n.props.showYearPicker){if(y!==null&&df(Le(y),n.props))return}else if(n.props.showMonthYearPicker){if(y!==null&&Hx(y,n.props))return}else if(y!==null&&yr(y,n.props))return;var b=n.props,w=b.onChange,D=b.selectsRange,S=b.startDate,P=b.endDate,N=b.selectsMultiple,C=b.selectedDates,G=b.minTime,X=b.swapRange;if(!xs(n.props.selected,y)||n.props.allowSameDay||D||N)if(y!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(y=Im(y,{hour:La(n.props.selected),minute:ja(n.props.selected),second:Ci(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&G&&(y=Im(y,{hour:G.getHours(),minute:G.getMinutes(),second:G.getSeconds()})),n.props.inline||n.setState({preSelection:y}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:f})),D){var te=!S&&!P,re=S&&!P,he=S&&P;te?w?.([y,null],o):re&&(y===null?w?.([null,null],o):Bw(y,S)?w?.(X?[y,S]:[y,null],o):w?.([S,y],o)),he&&w?.([y,null],o)}else if(N){if(y!==null)if(!C?.length)w?.([y],o);else{var I=C.some(function(k){return $e(k,y)});if(I){var R=C.filter(function(k){return!$e(k,y)});w?.(R,o)}else w?.(Jr(Jr([],C,!0),[y],!1),o)}}else w?.(y,o);c||((m=(p=n.props).onSelect)===null||m===void 0||m.call(p,y,o),n.setState({inputValue:null}))},n.setPreSelection=function(s){if(!n.props.readOnly){var o=Va(n.props.minDate),c=Va(n.props.maxDate),f=!0;if(s){var p=cf(s);if(o&&c)f=Ou(s,n.props.minDate,n.props.maxDate);else if(o){var m=cf(n.props.minDate);f=Pi(s,m)||xs(p,m)}else if(c){var y=Rw(n.props.maxDate);f=Ls(s,y)||xs(p,y)}}f&&n.setState({preSelection:s})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(s){var o,c;if(!(n.props.selectsRange||n.props.selectsMultiple)){var f=n.props.selected?n.props.selected:n.getPreSelection(),p=n.props.selected?s:Im(f,{hour:La(s),minute:ja(s)});n.setState({preSelection:p}),(c=(o=n.props).onChange)===null||c===void 0||c.call(o,p),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var s,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(s=n.props).onInputClick)===null||o===void 0||o.call(s)},n.onInputKeyDown=function(s){var o,c,f,p,m,y;(c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,s);var b=s.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(b===ge.ArrowDown||b===ge.ArrowUp||b===ge.Enter)&&((f=n.onInputClick)===null||f===void 0||f.call(n));return}if(n.state.open){if(b===ge.ArrowDown||b===ge.ArrowUp){s.preventDefault();var w=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',D=((p=n.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(w);D instanceof HTMLElement&&D.focus({preventScroll:!0});return}var S=ot(n.state.preSelection);b===ge.Enter?(s.preventDefault(),s.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Lm?(n.handleSelect(S,s),!n.props.shouldCloseOnSelect&&n.setPreSelection(S)):n.setOpen(!1)):b===ge.Escape?(s.preventDefault(),s.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):b===ge.Tab&&n.setOpen(!1),n.inputOk()||(y=(m=n.props).onInputError)===null||y===void 0||y.call(m,{code:1,msg:Vm})}},n.onPortalKeyDown=function(s){var o=s.key;o===ge.Escape&&(s.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(s){var o,c,f,p,m,y,b=n.props,w=b.minDate,D=b.maxDate,S=b.disabledKeyboardNavigation,P=b.showWeekPicker,N=b.shouldCloseOnSelect,C=b.locale,G=b.calendarStartDay,X=b.adjustDateOnChange,te=b.inline;if((c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,s),!S){var re=s.key,he=s.shiftKey,I=ot(n.state.preSelection),R=function(ve,Y){var Q=Y;switch(ve){case ge.ArrowRight:Q=P?Af(Y,1):Rr(Y,1);break;case ge.ArrowLeft:Q=P?mw(Y):dI(Y);break;case ge.ArrowUp:Q=mw(Y);break;case ge.ArrowDown:Q=Af(Y,1);break;case ge.PageUp:Q=he?Jo(Y,1):Cs(Y,1);break;case ge.PageDown:Q=he?Pa(Y,1):Nr(Y,1);break;case ge.Home:Q=Ni(Y,C,G);break;case ge.End:Q=JP(Y);break}return Q},k=function(ve,Y){for(var Q=40,ue=ve,ne=!1,O=0,W=R(ve,Y);!ne;){if(O>=Q){W=Y;break}w&&W<w&&(ue=ge.ArrowRight,W=yr(w,n.props)?R(ue,W):w),D&&W>D&&(ue=ge.ArrowLeft,W=yr(D,n.props)?R(ue,W):D),yr(W,n.props)?((ue===ge.PageUp||ue===ge.Home)&&(ue=ge.ArrowRight),(ue===ge.PageDown||ue===ge.End)&&(ue=ge.ArrowLeft),W=R(ue,W)):ne=!0,O++}return W};if(re===ge.Enter){s.preventDefault(),n.handleSelect(I,s),!N&&n.setPreSelection(I);return}else if(re===ge.Escape){s.preventDefault(),n.setOpen(!1),n.inputOk()||(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:Vm});return}var V=null;switch(re){case ge.ArrowLeft:case ge.ArrowRight:case ge.ArrowUp:case ge.ArrowDown:case ge.PageUp:case ge.PageDown:case ge.Home:case ge.End:V=k(re,I);break}if(!V){(y=(m=n.props).onInputError)===null||y===void 0||y.call(m,{code:1,msg:Vm});return}if(s.preventDefault(),n.setState({lastPreSelectChange:Lm}),X&&n.setSelected(V),n.setPreSelection(V),te){var U=An(I),B=An(V),M=Le(I),Ae=Le(V);U!==B||M!==Ae?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(s){var o=s.key;o===ge.Escape&&(s.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),n.sendFocusBackToInput();var o=n.props,c=o.selectsRange,f=o.onChange;f?.(c?[null,null]:null,s),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(s){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(s)&&n.setOpen(!1)},n.renderCalendar=function(){var s,o;return!n.props.inline&&!n.isCalendarOpen()?null:ie.createElement(O4,Ze({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(s=n.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:d4(n.modifyHolidays()),outsideClickIgnoreClass:Yw,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var s=n.props,o=s.dateFormat,c=o===void 0?e.defaultProps.dateFormat:o,f=s.locale,p=n.props.showTimeInput||n.props.showTimeSelect,m=p?"PPPPp":"PPPP",y;return n.props.selectsRange?y="Selected start date: ".concat(mr(n.props.startDate,{dateFormat:m,locale:f}),". ").concat(n.props.endDate?"End date: "+mr(n.props.endDate,{dateFormat:m,locale:f}):""):n.props.showTimeSelectOnly?y="Selected time: ".concat(mr(n.props.selected,{dateFormat:c,locale:f})):n.props.showYearPicker?y="Selected year: ".concat(mr(n.props.selected,{dateFormat:"yyyy",locale:f})):n.props.showMonthYearPicker?y="Selected month: ".concat(mr(n.props.selected,{dateFormat:"MMMM yyyy",locale:f})):n.props.showQuarterYearPicker?y="Selected quarter: ".concat(mr(n.props.selected,{dateFormat:"yyyy, QQQ",locale:f})):y="Selected date: ".concat(mr(n.props.selected,{dateFormat:m,locale:f})),ie.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},y)},n.renderDateInput=function(){var s,o,c,f=_n(n.props.className,(s={},s[Yw]=n.state.open,s)),p=n.props.customInput||ie.createElement("input",{type:"text"}),m=n.props.customInputRef||"ref",y=n.props,b=y.dateFormat,w=b===void 0?e.defaultProps.dateFormat:b,D=y.locale,S=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?WP(n.props.startDate,n.props.endDate,{dateFormat:w,locale:D}):n.props.selectsMultiple?$P((c=n.props.selectedDates)!==null&&c!==void 0?c:[],{dateFormat:w,locale:D}):mr(n.props.selected,{dateFormat:w,locale:D});return L.cloneElement(p,(o={},o[m]=function(P){n.input=P},o.value=S,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=_n(p.props.className,f),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var s=n.props,o=s.isClearable,c=s.disabled,f=s.selected,p=s.startDate,m=s.endDate,y=s.clearButtonTitle,b=s.clearButtonClassName,w=b===void 0?"":b,D=s.ariaLabelClose,S=D===void 0?"Close":D,P=s.selectedDates,N=s.readOnly;return o&&!N&&(f!=null||p!=null||m!=null||P?.length)?ie.createElement("button",{type:"button",className:_n("react-datepicker__close-icon",w,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":S,onClick:n.onClearClick,title:y,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:fc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var s,o,c,f;t.inline&&B4(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Vw(this.props.highlightDates)}),!n.focused&&!xs(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(s=this.props).onCalendarOpen)===null||o===void 0||o.call(s)),n.open===!0&&this.state.open===!1&&((f=(c=this.props).onCalendarClose)===null||f===void 0||f.call(c)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,s=t.icon,o=t.calendarIconClassname,c=t.calendarIconClassName,f=t.toggleCalendarOnIconClick,p=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ie.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ie.createElement(I4,Ze({icon:s,className:_n(c,!c&&o,p&&"react-datepicker-ignore-onclickoutside")},f?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ie.createElement(Wx,{enableTabLoop:this.props.enableTabLoop},ie.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ie.createElement(Kx,Ze({portalId:this.props.portalId},this.props),n)),ie.createElement("div",null,this.renderInputContainer(),n)}return ie.createElement(U4,Ze({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(L.Component),z4="input",Lm="navigate";const Hw=["Full Valet","Exterior Only","Interior Only"],Vo=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00"],Gr={"Full Valet":4,"Exterior Only":2,"Interior Only":3,"Iron Fallout & Tar Remover":1.5};function Y4({isModal:r=!1,onClose:e,onLeaveReview:t}){const[n,s]=L.useState({name:"",phone:"",email:"",eircode:"",service:"",date:null,time:"",message:"",ironFalloutAddon:!1}),[o,c]=L.useState(!1),[f,p]=L.useState(""),[m,y]=L.useState(""),[b,w]=L.useState({}),[D,S]=L.useState([]),[P,N]=L.useState(!0),C=new Date;L.useEffect(()=>{G();const ne=setInterval(()=>{G()},3e4);return()=>clearInterval(ne)},[]);const G=async()=>{try{N(!0);const ne=vr(gn,"bookings"),O=Ss(ne,rf("date",">=",X())),W=await Ia(O),de=[];W.forEach(ce=>{de.push({id:ce.id,...ce.data()})}),S(de)}catch(ne){console.error("Error fetching bookings:",ne)}finally{N(!1)}},X=()=>{const ne=new Date;return ne.setDate(ne.getDate()+1),ne.toISOString().split("T")[0]},te=ne=>{const[O,W]=ne.split(":").map(Number);return O*60+W},re=ne=>{const O=Math.floor(ne/60),W=ne%60;return`${O.toString().padStart(2,"0")}:${W.toString().padStart(2,"0")}`},he=ne=>{const O=new Set;return D.filter(W=>W.date===ne).forEach(W=>{const de=te(W.time),ce=Gr[W.service]||3,_e=de+ce*60;for(let Se=de;Se<_e;Se+=60){const Te=re(Se);Vo.includes(Te)&&O.add(Te)}}),Array.from(O)},I=(ne,O)=>{if(!ne)return Vo;const W=ne.toISOString().split("T")[0],de=he(W),ce=Vo.filter(_e=>!de.includes(_e));if(O){let _e=Gr[O];return n.ironFalloutAddon&&(_e+=Gr["Iron Fallout & Tar Remover"]),ce.filter(Se=>{const gt=te(Se)+_e*60,Ye=te("16:00")+60;return gt<=Ye})}return ce},R=ne=>{const O=ne.toISOString().split("T")[0],W=he(O),de=Vo.length-W.length,ce=Math.min(...Object.values(Gr));return de>=Math.ceil(ce)},k=()=>n.service==="Exterior Only"||n.service==="Full Valet",V=()=>{if(!n.service)return 0;let ne=Gr[n.service];return n.ironFalloutAddon&&(ne+=Gr["Iron Fallout & Tar Remover"]),ne},U=(()=>{const ne=new Date;return ne.setDate(ne.getDate()+1),ne.toISOString().split("T")[0]})(),B=()=>{const ne={};return n.name||(ne.name="Name is required"),n.phone||(ne.phone="Phone number is required"),n.email?/\S+@\S+\.\S+/.test(n.email)||(ne.email="Please enter a valid email address"):ne.email="Email is required",n.service||(ne.service="Please select a service"),n.date||(ne.date="Please select a date"),n.time||(ne.time="Please select a time"),n.eircode||(ne.eircode="Eircode is required"),ne},M=ne=>{const{name:O,value:W}=ne.target;if(s(de=>({...de,[O]:W})),(O==="date"||O==="service")&&s(de=>({...de,time:"",ironFalloutAddon:O==="service"&&W!=="Exterior Only"&&W!=="Full Valet"?!1:de.ironFalloutAddon})),O==="time"&&W&&n.date){const de=n.date.toISOString().split("T")[0],ce=he(de);if(ce.includes(W)){y("This time slot is no longer available. Please select another time.");return}const _e=V(),Se=te(W),Te=Se+_e*60;for(let gt=Se;gt<Te;gt+=60){const Ye=re(gt);if(ce.includes(Ye)){y("This time slot conflicts with an existing booking. Please select another time.");return}}m&&y("")}},Ae=ne=>{s(O=>({...O,date:ne,time:""})),m&&y(""),f&&p("")},ve=ne=>{const{name:O}=ne.target;w(W=>({...W,[O]:!0}))},Y=async ne=>{ne.preventDefault(),p(""),y("");const O=B();if(Object.keys(O).length>0){w(Object.keys(n).reduce((W,de)=>({...W,[de]:!0}),{})),y("Please fill in all required fields correctly.");return}c(!0);try{const W=n.date.toISOString().split("T")[0],de=vr(gn,"bookings"),ce=Ss(de,rf("date","==",W)),_e=await Ia(ce),Se=[];_e.forEach(yt=>{Se.push({id:yt.id,...yt.data()})});const Te=new Set;if(Se.forEach(yt=>{const Z=te(yt.time),pe=Gr[yt.service]||3,He=Z+pe*60;for(let Pe=Z;Pe<He;Pe+=60){const rt=re(Pe);Vo.includes(rt)&&Te.add(rt)}}),Se.find(yt=>yt.date===W&&yt.time===n.time&&yt.service===n.service)){y("A booking already exists for this exact time and service. Please select another time."),c(!1);return}if(Te.has(n.time)){y("This time slot is no longer available. Please select another time."),c(!1);return}const Ye=V(),Cn=te(n.time),nr=Cn+Ye*60;for(let yt=Cn;yt<nr;yt+=60){const Z=re(yt);if(Te.has(Z)){y("This time slot conflicts with an existing booking. Please select another time."),c(!1);return}}const jn={...n,date:W,created:Rt.now()};await Mk(gn,async yt=>{const Z=vr(gn,"bookings"),pe=Ss(Z,rf("date","==",W)),He=await Ia(pe),Pe=[];He.forEach(zt=>{Pe.push({id:zt.id,...zt.data()})});const rt=new Set;if(Pe.forEach(zt=>{const Un=te(zt.time),Ui=Gr[zt.service]||3,vt=Un+Ui*60;for(let ze=Un;ze<vt;ze+=60){const Pt=re(ze);Vo.includes(Pt)&&rt.add(Pt)}}),rt.has(n.time))throw new Error("This time slot is no longer available. Please select another time.");const et=V(),We=te(n.time),en=We+et*60;for(let zt=We;zt<en;zt+=60){const Un=re(zt);if(rt.has(Un))throw new Error("This time slot conflicts with an existing booking. Please select another time.")}const wr=ws(vr(gn,"bookings"));yt.set(wr,jn)}),p("Booking received! We'll contact you shortly to confirm your appointment."),s({name:"",phone:"",email:"",eircode:"",service:"",date:null,time:"",message:"",ironFalloutAddon:!1}),w({});const br={id:"temp-"+Date.now(),...n,date:W,created:Rt.now()};S(yt=>[...yt,br]),await G()}catch(W){W.message.includes("time slot")||W.message.includes("conflicts")?y(W.message):y("Something went wrong. Please try again or contact us directly.")}finally{c(!1)}},Q=ne=>b[ne]?B()[ne]:"",ue=I(n.date,n.service);return r?_.jsxs("div",{className:"calendar-card",children:[_.jsxs("div",{className:"text-center mb-4",children:[_.jsx("h2",{className:"h3 fw-bold text-primary mb-2",children:"Book Your Valet"}),_.jsx("p",{className:"text-light mb-0",children:"Schedule your car valeting service at a time that suits you. We'll confirm your booking within 24 hours."})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"form-label fw-semibold text-light mb-3",children:"Select Date"}),_.jsx("div",{className:"d-flex justify-content-center",children:_.jsx(F4,{selected:n.date,onChange:Ae,minDate:new Date(C.getTime()+24*60*60*1e3),maxDate:new Date(C.getTime()+90*24*60*60*1e3),filterDate:R,placeholderText:"Select a date",className:`form-control${Q("date")?" is-invalid":""}`,dateFormat:"dd/MM/yyyy",showDisabledMonthNavigation:!0,inline:!0,calendarClassName:"bg-dark text-light",dayClassName:ne=>{ne.toISOString().split("T")[0];const O=R(ne);return n.date&&ne.toISOString().split("T")[0]===n.date.toISOString().split("T")[0]?"selected":O?"available":"disabled"}})}),Q("date")&&_.jsx("div",{className:"invalid-feedback",children:Q("date")})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"service",children:"Service *"}),_.jsxs("select",{id:"service",name:"service",className:`form-select${Q("service")?" is-invalid":""}`,value:n.service,onChange:M,onBlur:ve,children:[_.jsx("option",{value:"",children:"Select a service"}),Hw.map(ne=>_.jsxs("option",{value:ne,children:[ne," (",Gr[ne]," hours)"]},ne))]}),Q("service")&&_.jsx("div",{className:"invalid-feedback",children:Q("service")}),k()&&_.jsx("div",{className:"mt-3",children:_.jsxs("div",{className:"form-check",children:[_.jsx("input",{className:"form-check-input",type:"checkbox",id:"ironFalloutAddon",name:"ironFalloutAddon",checked:n.ironFalloutAddon,onChange:ne=>{s(O=>({...O,ironFalloutAddon:ne.target.checked,time:""}))}}),_.jsxs("label",{className:"form-check-label text-light",htmlFor:"ironFalloutAddon",children:[_.jsx("strong",{children:"Add Iron Fallout & Tar Remover (+20)"})," - Removes embedded iron particles and tar for a smoother finish"]})]})})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"time",children:"Time *"}),_.jsxs("select",{id:"time",name:"time",className:`form-select${Q("time")?" is-invalid":""}`,value:n.time,onChange:M,onBlur:ve,disabled:!n.date||!n.service||ue.length===0,children:[_.jsx("option",{value:"",children:n.date?n.service?ue.length===0?"No available times":"Select a time":"Select a service first":"Select a date first"}),ue.map(ne=>_.jsx("option",{value:ne,children:ne},ne))]}),Q("time")&&_.jsx("div",{className:"invalid-feedback",children:Q("time")}),n.date&&n.service&&ue.length===0&&_.jsxs("div",{className:"form-text text-warning",children:["No available times for ",n.service," on this date. Please select another date or service."]}),n.service&&_.jsxs("div",{className:"form-text text-light",children:[n.service," takes approximately ",V()," hours (including travel time).",n.ironFalloutAddon&&_.jsx("span",{className:"d-block mt-1",children:_.jsxs("strong",{children:["Total with Iron Fallout add-on: ",V()," hours"]})})]})]}),_.jsxs("form",{className:"row g-3",onSubmit:Y,children:[_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"name",children:"Name *"}),_.jsx("input",{id:"name",name:"name",className:`form-control${Q("name")?" is-invalid":""}`,type:"text",placeholder:"John Doe",value:n.name,onChange:M,onBlur:ve}),Q("name")&&_.jsx("div",{className:"invalid-feedback",children:Q("name")})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"phone",children:"Phone *"}),_.jsx("input",{id:"phone",name:"phone",className:`form-control${Q("phone")?" is-invalid":""}`,type:"tel",placeholder:"087 123 4567",value:n.phone,onChange:M,onBlur:ve}),Q("phone")&&_.jsx("div",{className:"invalid-feedback",children:Q("phone")})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"email",children:"Email *"}),_.jsx("input",{id:"email",name:"email",className:`form-control${Q("email")?" is-invalid":""}`,type:"email",placeholder:"john@example.com",value:n.email,onChange:M,onBlur:ve,required:!0}),Q("email")&&_.jsx("div",{className:"invalid-feedback",children:Q("email")})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"eircode",children:"Eircode *"}),_.jsx("input",{id:"eircode",name:"eircode",className:`form-control${Q("eircode")?" is-invalid":""}`,type:"text",placeholder:"A65 F4E2",value:n.eircode,onChange:M,onBlur:ve,required:!0}),Q("eircode")&&_.jsx("div",{className:"invalid-feedback",children:Q("eircode")})]}),_.jsxs("div",{className:"col-12",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"message",children:"Special Requests"}),_.jsx("textarea",{id:"message",name:"message",className:"form-control",rows:"3",placeholder:"Any special requirements or requests?",value:n.message,onChange:M})]}),_.jsx("div",{className:"col-12",children:_.jsxs("button",{type:"submit",className:"btn btn-primary w-100 fw-semibold py-3",disabled:o||!n.date||!n.service||ue.length===0,children:[o?_.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}):null,"Book Now"]})}),f&&_.jsx("div",{className:"col-12",children:_.jsxs("div",{className:"alert alert-success mt-2 mb-0",role:"alert",children:[_.jsx("div",{className:"mb-2",children:f}),_.jsxs("div",{className:"small",children:["After your service is completed, we'd love to hear about your experience!",_.jsx("button",{type:"button",className:"btn btn-link text-decoration-none ms-1 p-0 align-baseline",style:{color:"#0d6efd"},onClick:t,children:_.jsx("strong",{children:"Leave a review "})})]})]})}),m&&_.jsx("div",{className:"col-12",children:_.jsx("div",{className:"alert alert-danger mt-2 mb-0",role:"alert",children:m})})]})]}):_.jsx("section",{id:"contact",className:"py-5 w-100",style:{background:"linear-gradient(135deg, #1a1a1a 60%, #2d2d2d 100%)"},children:_.jsx("div",{className:"container-fluid px-4 d-flex justify-content-center",children:_.jsxs("div",{className:"calendar-card",children:[_.jsxs("div",{className:"text-center mb-4",children:[_.jsx("h2",{className:"h3 fw-bold text-primary mb-2",children:"Book Your Valet"}),_.jsx("p",{className:"text-light mb-0",children:"Schedule your car valeting service at a time that suits you. We'll confirm your booking within 24 hours."})]}),_.jsxs("form",{className:"row g-3",onSubmit:Y,children:[_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"name",children:"Name *"}),_.jsx("input",{id:"name",name:"name",className:`form-control${Q("name")?" is-invalid":""}`,type:"text",placeholder:"John Doe",value:n.name,onChange:M,onBlur:ve}),Q("name")&&_.jsx("div",{className:"invalid-feedback",children:Q("name")})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"phone",children:"Phone *"}),_.jsx("input",{id:"phone",name:"phone",className:`form-control${Q("phone")?" is-invalid":""}`,type:"tel",placeholder:"087 123 4567",value:n.phone,onChange:M,onBlur:ve}),Q("phone")&&_.jsx("div",{className:"invalid-feedback",children:Q("phone")})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"email",children:"Email *"}),_.jsx("input",{id:"email",name:"email",className:`form-control${Q("email")?" is-invalid":""}`,type:"email",placeholder:"john@example.com",value:n.email,onChange:M,onBlur:ve,required:!0}),Q("email")&&_.jsx("div",{className:"invalid-feedback",children:Q("email")})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"eircode",children:"Eircode *"}),_.jsx("input",{id:"eircode",name:"eircode",className:`form-control${Q("eircode")?" is-invalid":""}`,type:"text",placeholder:"A65 F4E2",value:n.eircode,onChange:M,onBlur:ve,required:!0}),Q("eircode")&&_.jsx("div",{className:"invalid-feedback",children:Q("eircode")})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"service",children:"Service *"}),_.jsxs("select",{id:"service",name:"service",className:`form-select${Q("service")?" is-invalid":""}`,value:n.service,onChange:M,onBlur:ve,children:[_.jsx("option",{value:"",children:"Select a service"}),Hw.map(ne=>_.jsxs("option",{value:ne,children:[ne," (",Gr[ne]," hours)"]},ne))]}),Q("service")&&_.jsx("div",{className:"invalid-feedback",children:Q("service")})]}),k()&&_.jsx("div",{className:"col-12",children:_.jsxs("div",{className:"form-check",children:[_.jsx("input",{className:"form-check-input",type:"checkbox",id:"ironFalloutAddon",name:"ironFalloutAddon",checked:n.ironFalloutAddon,onChange:ne=>{s(O=>({...O,ironFalloutAddon:ne.target.checked,time:""}))}}),_.jsxs("label",{className:"form-check-label text-light",htmlFor:"ironFalloutAddon",children:[_.jsx("strong",{children:"Add Iron Fallout & Tar Remover (+20)"})," - Removes embedded iron particles and tar for a smoother finish"]})]})}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"date",children:"Date *"}),_.jsx("input",{id:"date",name:"date",className:`form-control${Q("date")?" is-invalid":""}`,type:"date",min:U,value:n.date?n.date.toISOString().split("T")[0]:"",onChange:M,onBlur:ve}),Q("date")&&_.jsx("div",{className:"invalid-feedback",children:Q("date")})]}),_.jsxs("div",{className:"col-12 col-md-6",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"time",children:"Time *"}),_.jsxs("select",{id:"time",name:"time",className:`form-select${Q("time")?" is-invalid":""}`,value:n.time,onChange:M,onBlur:ve,disabled:!n.date||!n.service||ue.length===0,children:[_.jsx("option",{value:"",children:n.date?n.service?ue.length===0?"No available times":"Select a time":"Select a service first":"Select a date first"}),ue.map(ne=>_.jsx("option",{value:ne,children:ne},ne))]}),Q("time")&&_.jsx("div",{className:"invalid-feedback",children:Q("time")})]}),_.jsxs("div",{className:"col-12",children:[_.jsx("label",{className:"form-label fw-semibold text-light",htmlFor:"message",children:"Special Requests"}),_.jsx("textarea",{id:"message",name:"message",className:"form-control",rows:"3",placeholder:"Any special requirements or requests?",value:n.message,onChange:M})]}),_.jsx("div",{className:"col-12",children:_.jsxs("button",{type:"submit",className:"btn btn-primary w-100 fw-semibold py-3",disabled:o||!n.date||!n.service||ue.length===0,children:[o?_.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}):null,"Book Now"]})}),f&&_.jsx("div",{className:"col-12",children:_.jsxs("div",{className:"alert alert-success mt-2 mb-0",role:"alert",children:[_.jsx("div",{className:"mb-2",children:f}),_.jsxs("div",{className:"small",children:["After your service is completed, we'd love to hear about your experience!",_.jsx("button",{type:"button",className:"btn btn-link text-decoration-none ms-1 p-0 align-baseline",style:{color:"#0d6efd"},onClick:t,children:_.jsx("strong",{children:"Leave a review "})})]})]})}),m&&_.jsx("div",{className:"col-12",children:_.jsx("div",{className:"alert alert-danger mt-2 mb-0",role:"alert",children:m})})]})]})})})}function H4({show:r,onClose:e}){return r?_.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.7)"},children:_.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:_.jsxs("div",{className:"modal-content bg-dark text-light",children:[_.jsx("div",{className:"d-flex justify-content-end p-2",children:_.jsx("button",{type:"button",className:"btn-close btn-close-white","aria-label":"Close",onClick:e})}),_.jsx("div",{className:"modal-body p-0",children:_.jsx(Y4,{isModal:!0,onClose:e})})]})})}):null}function q4({onBookNow:r,onLeaveReview:e}){return _.jsxs(_.Fragment,{children:[_.jsx(rA,{onBookNow:r}),_.jsx(e2,{onBookNow:r}),_.jsx(Ok,{}),_.jsx(fx,{onLeaveReview:e}),_.jsx(ZM,{})]})}function Q4({show:r,onClose:e}){return r?_.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.7)"},children:_.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:_.jsxs("div",{className:"modal-content bg-dark text-light",children:[_.jsxs("div",{className:"modal-header border-0",children:[_.jsx("h5",{className:"modal-title text-primary",children:"Leave a Review"}),_.jsx("button",{type:"button",className:"btn-close btn-close-white","aria-label":"Close",onClick:e})]}),_.jsx("div",{className:"modal-body",children:_.jsx(r2,{})})]})})}):null}function G4(){const[r,e]=L.useState(!1),[t,n]=L.useState(!1),s=()=>e(!0),o=()=>e(!1),c=()=>n(!0),f=()=>n(!1);return _.jsx(q1,{basename:"/JakesCarCare",children:_.jsxs("div",{className:"min-vh-100 d-flex flex-column font-sans bg-secondary text-light",children:[_.jsx(nA,{onLeaveReview:c}),_.jsx(H4,{show:r,onClose:o}),_.jsx(Q4,{show:t,onClose:f}),_.jsxs(w1,{children:[_.jsx($d,{path:"/",element:_.jsx(q4,{onBookNow:s,onLeaveReview:c})}),_.jsx($d,{path:"/admin",element:_.jsx(n2,{})}),_.jsx($d,{path:"/reviews",element:_.jsx(fx,{onLeaveReview:c})})]}),_.jsx(t2,{onLeaveReview:c})]})})}CS.createRoot(document.getElementById("root")).render(_.jsx(L.StrictMode,{children:_.jsx(G4,{})}));
